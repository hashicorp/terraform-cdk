"use strict";
// https://www.terraform.io/docs/providers/awscc/r/route53recoverycontrol_safety_rule.html
// generated from terraform resource schema
Object.defineProperty(exports, "__esModule", { value: true });
exports.Route53RecoverycontrolSafetyRule = exports.route53RecoverycontrolSafetyRuleRuleConfigToTerraform = exports.route53RecoverycontrolSafetyRuleGatingRuleToTerraform = exports.route53RecoverycontrolSafetyRuleAssertionRuleToTerraform = void 0;
const cdktf = require("cdktf");
function route53RecoverycontrolSafetyRuleAssertionRuleToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        asserted_controls: cdktf.listMapper(cdktf.stringToTerraform)(struct.assertedControls),
        wait_period_ms: cdktf.numberToTerraform(struct.waitPeriodMs),
    };
}
exports.route53RecoverycontrolSafetyRuleAssertionRuleToTerraform = route53RecoverycontrolSafetyRuleAssertionRuleToTerraform;
function route53RecoverycontrolSafetyRuleGatingRuleToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        gating_controls: cdktf.listMapper(cdktf.stringToTerraform)(struct.gatingControls),
        target_controls: cdktf.listMapper(cdktf.stringToTerraform)(struct.targetControls),
        wait_period_ms: cdktf.numberToTerraform(struct.waitPeriodMs),
    };
}
exports.route53RecoverycontrolSafetyRuleGatingRuleToTerraform = route53RecoverycontrolSafetyRuleGatingRuleToTerraform;
function route53RecoverycontrolSafetyRuleRuleConfigToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        inverted: cdktf.booleanToTerraform(struct.inverted),
        threshold: cdktf.numberToTerraform(struct.threshold),
        type: cdktf.stringToTerraform(struct.type),
    };
}
exports.route53RecoverycontrolSafetyRuleRuleConfigToTerraform = route53RecoverycontrolSafetyRuleRuleConfigToTerraform;
/**
* Represents a {@link https://www.terraform.io/docs/providers/awscc/r/route53recoverycontrol_safety_rule.html awscc_route53recoverycontrol_safety_rule}
*/
class Route53RecoverycontrolSafetyRule extends cdktf.TerraformResource {
    // ===========
    // INITIALIZER
    // ===========
    /**
    * Create a new {@link https://www.terraform.io/docs/providers/awscc/r/route53recoverycontrol_safety_rule.html awscc_route53recoverycontrol_safety_rule} Resource
    *
    * @param scope The scope in which to define this construct
    * @param id The scoped construct ID. Must be unique amongst siblings in the same scope
    * @param options Route53RecoverycontrolSafetyRuleConfig = {}
    */
    constructor(scope, id, config = {}) {
        super(scope, id, {
            terraformResourceType: 'awscc_route53recoverycontrol_safety_rule',
            terraformGeneratorMetadata: {
                providerName: 'awscc'
            },
            provider: config.provider,
            dependsOn: config.dependsOn,
            count: config.count,
            lifecycle: config.lifecycle
        });
        this._assertionRule = config.assertionRule;
        this._controlPanelArn = config.controlPanelArn;
        this._gatingRule = config.gatingRule;
        this._name = config.name;
        this._ruleConfig = config.ruleConfig;
    }
    get assertionRule() {
        return this.interpolationForAttribute('assertion_rule');
    }
    set assertionRule(value) {
        this._assertionRule = value;
    }
    resetAssertionRule() {
        this._assertionRule = undefined;
    }
    // Temporarily expose input value. Use with caution.
    get assertionRuleInput() {
        return this._assertionRule;
    }
    get controlPanelArn() {
        return this.getStringAttribute('control_panel_arn');
    }
    set controlPanelArn(value) {
        this._controlPanelArn = value;
    }
    resetControlPanelArn() {
        this._controlPanelArn = undefined;
    }
    // Temporarily expose input value. Use with caution.
    get controlPanelArnInput() {
        return this._controlPanelArn;
    }
    get gatingRule() {
        return this.interpolationForAttribute('gating_rule');
    }
    set gatingRule(value) {
        this._gatingRule = value;
    }
    resetGatingRule() {
        this._gatingRule = undefined;
    }
    // Temporarily expose input value. Use with caution.
    get gatingRuleInput() {
        return this._gatingRule;
    }
    // id - computed: true, optional: false, required: false
    get id() {
        return this.getStringAttribute('id');
    }
    get name() {
        return this.getStringAttribute('name');
    }
    set name(value) {
        this._name = value;
    }
    resetName() {
        this._name = undefined;
    }
    // Temporarily expose input value. Use with caution.
    get nameInput() {
        return this._name;
    }
    get ruleConfig() {
        return this.interpolationForAttribute('rule_config');
    }
    set ruleConfig(value) {
        this._ruleConfig = value;
    }
    resetRuleConfig() {
        this._ruleConfig = undefined;
    }
    // Temporarily expose input value. Use with caution.
    get ruleConfigInput() {
        return this._ruleConfig;
    }
    // safety_rule_arn - computed: true, optional: false, required: false
    get safetyRuleArn() {
        return this.getStringAttribute('safety_rule_arn');
    }
    // status - computed: true, optional: false, required: false
    get status() {
        return this.getStringAttribute('status');
    }
    // =========
    // SYNTHESIS
    // =========
    synthesizeAttributes() {
        return {
            assertion_rule: route53RecoverycontrolSafetyRuleAssertionRuleToTerraform(this._assertionRule),
            control_panel_arn: cdktf.stringToTerraform(this._controlPanelArn),
            gating_rule: route53RecoverycontrolSafetyRuleGatingRuleToTerraform(this._gatingRule),
            name: cdktf.stringToTerraform(this._name),
            rule_config: route53RecoverycontrolSafetyRuleRuleConfigToTerraform(this._ruleConfig),
        };
    }
}
exports.Route53RecoverycontrolSafetyRule = Route53RecoverycontrolSafetyRule;
// =================
// STATIC PROPERTIES
// =================
Route53RecoverycontrolSafetyRule.tfResourceType = "awscc_route53recoverycontrol_safety_rule";
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicm91dGU1M3JlY292ZXJ5Y29udHJvbC1zYWZldHktcnVsZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInJvdXRlNTNyZWNvdmVyeWNvbnRyb2wtc2FmZXR5LXJ1bGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLDBGQUEwRjtBQUMxRiwyQ0FBMkM7OztBQUczQywrQkFBK0I7QUFtRC9CLFNBQWdCLHdEQUF3RCxDQUFDLE1BQXNEO0lBQzdILElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1FBQUUsT0FBTyxNQUFNLENBQUM7S0FBRTtJQUNqRCxPQUFPO1FBQ0wsaUJBQWlCLEVBQUUsS0FBSyxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxNQUFPLENBQUMsZ0JBQWdCLENBQUM7UUFDdEYsY0FBYyxFQUFFLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxNQUFPLENBQUMsWUFBWSxDQUFDO0tBQzlELENBQUE7QUFDSCxDQUFDO0FBTkQsNEhBTUM7QUF3QkQsU0FBZ0IscURBQXFELENBQUMsTUFBbUQ7SUFDdkgsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLEVBQUU7UUFBRSxPQUFPLE1BQU0sQ0FBQztLQUFFO0lBQ2pELE9BQU87UUFDTCxlQUFlLEVBQUUsS0FBSyxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxNQUFPLENBQUMsY0FBYyxDQUFDO1FBQ2xGLGVBQWUsRUFBRSxLQUFLLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLE1BQU8sQ0FBQyxjQUFjLENBQUM7UUFDbEYsY0FBYyxFQUFFLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxNQUFPLENBQUMsWUFBWSxDQUFDO0tBQzlELENBQUE7QUFDSCxDQUFDO0FBUEQsc0hBT0M7QUF1QkQsU0FBZ0IscURBQXFELENBQUMsTUFBbUQ7SUFDdkgsSUFBSSxD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LGdCQUFnQixDQUFDO1lBQ2pFLFdBQVcsRUFBRSxxREFBcUQsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDO1lBQ3BGLElBQUksRUFBRSxLQUFLLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztZQUN6QyxXQUFXLEVBQUUscURBQXFELENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQztTQUNyRixDQUFDO0lBQ0osQ0FBQzs7QUFuSkgsNEVBb0pDO0FBbEpDLG9CQUFvQjtBQUNwQixvQkFBb0I7QUFDcEIsb0JBQW9CO0FBQ0csK0NBQWMsR0FBVywwQ0FBMEMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL3Byb3ZpZGVycy9hd3NjYy9yL3JvdXRlNTNyZWNvdmVyeWNvbnRyb2xfc2FmZXR5X3J1bGUuaHRtbFxuLy8gZ2VuZXJhdGVkIGZyb20gdGVycmFmb3JtIHJlc291cmNlIHNjaGVtYVxuXG5pbXBvcnQgeyBDb25zdHJ1Y3QgfSBmcm9tICdjb25zdHJ1Y3RzJztcbmltcG9ydCAqIGFzIGNka3RmIGZyb20gJ2Nka3RmJztcblxuLy8gQ29uZmlndXJhdGlvblxuXG5leHBvcnQgaW50ZXJmYWNlIFJvdXRlNTNSZWNvdmVyeWNvbnRyb2xTYWZldHlSdWxlQ29uZmlnIGV4dGVuZHMgY2RrdGYuVGVycmFmb3JtTWV0YUFyZ3VtZW50cyB7XG4gIC8qKlxuICAqIEFuIGFzc2VydGlvbiBydWxlIGVuZm9yY2VzIHRoYXQsIHdoZW4gYSByb3V0aW5nIGNvbnRyb2wgc3RhdGUgaXMgY2hhbmdlZCwgdGhhdCB0aGUgY3JpdGVyaWEgc2V0IGJ5IHRoZSBydWxlIGNvbmZpZ3VyYXRpb24gaXMgbWV0LiBPdGhlcndpc2UsIHRoZSBjaGFuZ2UgdG8gdGhlIHJvdXRpbmcgY29udHJvbCBpcyBub3QgYWNjZXB0ZWQuXG4gICogXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9yb3V0ZTUzcmVjb3Zlcnljb250cm9sX3NhZmV0eV9ydWxlLmh0bWwjYXNzZXJ0aW9uX3J1bGUgUm91dGU1M1JlY292ZXJ5Y29udHJvbFNhZmV0eVJ1bGUjYXNzZXJ0aW9uX3J1bGV9XG4gICovXG4gIHJlYWRvbmx5IGFzc2VydGlvblJ1bGU/OiBSb3V0ZTUzUmVjb3Zlcnljb250cm9sU2FmZXR5UnVsZUFzc2VydGlvblJ1bGU7XG4gIC8qKlxuICAqIFRoZSBBbWF6b24gUmVzb3VyY2UgTmFtZSAoQVJOKSBvZiB0aGUgY29udHJvbCBwYW5lbC5cbiAgKiBcbiAgKiBEb2NzIGF0IFRlcnJhZm9ybSBSZWdpc3RyeToge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL3Byb3ZpZGVycy9hd3NjYy9yL3JvdXRlNTNyZWNvdmVyeWNvbnRyb2xfc2FmZXR5X3J1bGUuaHRtbCNjb250cm9sX3BhbmVsX2FybiBSb3V0ZTUzUmVjb3Zlcnljb250cm9sU2FmZXR5UnVsZSNjb250cm9sX3BhbmVsX2Fybn1cbiAgKi9cbiAgcmVhZG9ubHkgY29udHJvbFBhbmVsQXJuPzogc3RyaW5nO1xuICAvKipcbiAgKiBBIGdhdGluZyBydWxlIHZlcmlmaWVzIHRoYXQgYSBzZXQgb2YgZ2F0aW5nIGNvbnRyb2xzIGV2YWx1YXRlcyBhcyB0cnVlLCBiYXNlZCBvbiBhIHJ1bGUgY29uZmlndXJhdGlvbiB0aGF0IHlvdSBzcGVjaWZ5LiBJZiB0aGUgZ2F0aW5nIHJ1bGUgZXZhbHVhdGVzIHRvIHRydWUsIEFtYXpvbiBSb3V0ZSA1MyBBcHBsaWNhdGlvbiBSZWNvdmVyeSBDb250cm9sbGVyIGFsbG93cyBhIHNldCBvZiByb3V0aW5nIGNvbnRyb2wgc3RhdGUgY2hhbmdlcyB0byBydW4gYW5kIGNvbXBsZXRlIGFnYWluc3QgdGhlIHNldCBvZiB0YXJnZXQgY29udHJvbHMuXG4gICogXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9yb3V0ZTUzcmVjb3Zlcnljb250cm9sX3NhZmV0eV9ydWxlLmh0bWwjZ2F0aW5nX3J1bGUgUm91dGU1M1JlY292ZXJ5Y29udHJvbFNhZmV0eVJ1bGUjZ2F0aW5nX3J1bGV9XG4gICovXG4gIHJlYWRvbmx5IGdhdGluZ1J1bGU/OiBSb3V0ZTUzUmVjb3Zlcnljb250cm9sU2FmZXR5UnVsZUdhdGluZ1J1bGU7XG4gIC8qKlxuICAqIFRoZSBuYW1lIGZvciB0aGUgc2FmZXR5IHJ1bGUuXG4gICogXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9yb3V0ZTUzcmVjb3Zlcnljb250cm9sX3NhZmV0eV9ydWxlLmh0bWwjbmFtZSBSb3V0ZTUzUmVjb3Zlcnljb250cm9sU2FmZXR5UnVsZSNuYW1lfVxuICAqL1xuICByZWFkb25seSBuYW1lPzogc3RyaW5nO1xuICAvKipcbiAgKiBUaGUgcnVsZSBjb25maWd1cmF0aW9uIGZvciBhbiBhc3NlcnRpb24gcnVsZSBvciBnYXRpbmcgcnVsZS4gVGhpcyBpcyB0aGUgY3JpdGVyaWEgdGhhdCB5b3Ugc2V0IGZvciBzcGVjaWZpYyBhc3NlcnRpb24gY29udHJvbHMgKHJvdXRpbmcgY29udHJvbHMpIG9yIGdhdGluZyBjb250cm9scy4gVGhpcyBjb25maWd1cmF0aW9uIHNwZWNpZmllcyBob3cgbWFueSBjb250cm9scyBtdXN0IGJlIGVuYWJsZWQgYWZ0ZXIgYSB0cmFuc2FjdGlvbiBjb21wbGV0ZXMuXG4gICogXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9yb3V0ZTUzcmVjb3Zlcnljb250cm9sX3NhZmV0eV9ydWxlLmh0bWwjcnVsZV9jb25maWcgUm91dGU1M1JlY292ZXJ5Y29udHJvbFNhZmV0eVJ1bGUjcnVsZV9jb25maWd9XG4gICovXG4gIHJlYWRvbmx5IHJ1bGVDb25maWc/OiBSb3V0ZTUzUmVjb3Zlcnljb250cm9sU2FmZXR5UnVsZVJ1bGVDb25maWc7XG59XG5leHBvcnQgaW50ZXJmYWNlIFJvdXRlNTNSZWNvdmVyeWNvbnRyb2xTYWZldHlSdWxlQXNzZXJ0aW9uUnVsZSB7XG4gIC8qKlxuICAqIFRoZSByb3V0aW5nIGNvbnRyb2xzIHRoYXQgYXJlIHBhcnQgb2YgdHJhbnNhY3Rpb25zIHRoYXQgYXJlIGV2YWx1YXRlZCB0byBkZXRlcm1pbmUgaWYgYSByZXF1ZXN0IHRvIGNoYW5nZSBhIHJvdXRpbmcgY29udHJvbCBzdGF0ZSBpcyBhbGxvd2VkLiBGb3IgZXhhbXBsZSwgeW91IG1pZ2h0IGluY2x1ZGUgdGhyZWUgcm91dGluZyBjb250cm9scywgb25lIGZvciBlYWNoIG9mIHRocmVlIEFXUyBSZWdpb25zLlxuICAqIFxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3Ivcm91dGU1M3JlY292ZXJ5Y29udHJvbF9zYWZldHlfcnVsZS5odG1sI2Fzc2VydGVkX2NvbnRyb2xzIFJvdXRlNTNSZWNvdmVyeWNvbnRyb2xTYWZldHlSdWxlI2Fzc2VydGVkX2NvbnRyb2xzfVxuICAqL1xuICByZWFkb25seSBhc3NlcnRlZENvbnRyb2xzOiBzdHJpbmdbXTtcbiAgLyoqXG4gICogQW4gZXZhbHVhdGlvbiBwZXJpb2QsIGluIG1pbGxpc2Vjb25kcyAobXMpLCBkdXJpbmcgd2hpY2ggYW55IHJlcXVlc3QgYWdhaW5zdCB0aGUgdGFyZ2V0IHJvdXRpbmcgY29udHJvbHMgd2lsbCBmYWlsLiBUaGlzIGhlbHBzIHByZXZlbnQgXCJmbGFwcGluZ1wiIG9mIHN0YXRlLiBUaGUgd2FpdCBwZXJpb2QgaXMgNTAwMCBtcyBieSBkZWZhdWx0LCBidXQgeW91IGNhbiBjaG9vc2UgYSBjdXN0b20gdmFsdWUuXG4gICogXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9yb3V0ZTUzcmVjb3Zlcnljb250cm9sX3NhZmV0eV9ydWxlLmh0bWwjd2FpdF9wZXJpb2RfbXMgUm91dGU1M1JlY292ZXJ5Y29udHJvbFNhZmV0eVJ1bGUjd2FpdF9wZXJpb2RfbXN9XG4gICovXG4gIHJlYWRvbmx5IHdhaXRQZXJpb2RNczogbnVtYmVyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcm91dGU1M1JlY292ZXJ5Y29udHJvbFNhZmV0eVJ1bGVBc3NlcnRpb25SdWxlVG9UZXJyYWZvcm0oc3RydWN0PzogUm91dGU1M1JlY292ZXJ5Y29udHJvbFNhZmV0eVJ1bGVBc3NlcnRpb25SdWxlKTogYW55IHtcbiAgaWYgKCFjZGt0Zi5jYW5JbnNwZWN0KHN0cnVjdCkpIHsgcmV0dXJuIHN0cnVjdDsgfVxuICByZXR1cm4ge1xuICAgIGFzc2VydGVkX2NvbnRyb2xzOiBjZGt0Zi5saXN0TWFwcGVyKGNka3RmLnN0cmluZ1RvVGVycmFmb3JtKShzdHJ1Y3QhLmFzc2VydGVkQ29udHJvbHMpLFxuICAgIHdhaXRfcGVyaW9kX21zOiBjZGt0Zi5udW1iZXJUb1RlcnJhZm9ybShzdHJ1Y3QhLndhaXRQZXJpb2RNcyksXG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBSb3V0ZTUzUmVjb3Zlcnljb250cm9sU2FmZXR5UnVsZUdhdGluZ1J1bGUge1xuICAvKipcbiAgKiBUaGUgZ2F0aW5nIGNvbnRyb2xzIGZvciB0aGUgZ2F0aW5nIHJ1bGUuIFRoYXQgaXMsIHJvdXRpbmcgY29udHJvbHMgdGhhdCBhcmUgZXZhbHVhdGVkIGJ5IHRoZSBydWxlIGNvbmZpZ3VyYXRpb24gdGhhdCB5b3Ugc3BlY2lmeS5cbiAgKiBcbiAgKiBEb2NzIGF0IFRlcnJhZm9ybSBSZWdpc3RyeToge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL3Byb3ZpZGVycy9hd3NjYy9yL3JvdXRlNTNyZWNvdmVyeWNvbnRyb2xfc2FmZXR5X3J1bGUuaHRtbCNnYXRpbmdfY29udHJvbHMgUm91dGU1M1JlY292ZXJ5Y29udHJvbFNhZmV0eVJ1bGUjZ2F0aW5nX2NvbnRyb2xzfVxuICAqL1xuICByZWFkb25seSBnYXRpbmdDb250cm9sczogc3RyaW5nW107XG4gIC8qKlxuICAqIFJvdXRpbmcgY29udHJvbHMgdGhhdCBjYW4gb25seSBiZSBzZXQgb3IgdW5zZXQgaWYgdGhlIHNwZWNpZmllZCBSdWxlQ29uZmlnIGV2YWx1YXRlcyB0byB0cnVlIGZvciB0aGUgc3BlY2lmaWVkIEdhdGluZ0NvbnRyb2xzLiBGb3IgZXhhbXBsZSwgc2F5IHlvdSBoYXZlIHRocmVlIGdhdGluZyBjb250cm9scywgb25lIGZvciBlYWNoIG9mIHRocmVlIEFXUyBSZWdpb25zLiBOb3cgeW91IHNwZWNpZnkgQXRMZWFzdCAyIGFzIHlvdXIgUnVsZUNvbmZpZy4gV2l0aCB0aGVzZSBzZXR0aW5ncywgeW91IGNhbiBvbmx5IGNoYW5nZSAoc2V0IG9yIHVuc2V0KSB0aGUgcm91dGluZyBjb250cm9scyB0aGF0IHlvdSBoYXZlIHNwZWNpZmllZCBhcyBUYXJnZXRDb250cm9scyBpZiB0aGF0IHJ1bGUgZXZhbHVhdGVzIHRvIHRydWUuIFxuSW4gb3RoZXIgd29yZHMsIHlvdXIgYWJpbGl0eSB0byBjaGFuZ2UgdGhlIHJvdXRpbmcgY29udHJvbHMgdGhhdCB5b3UgaGF2ZSBzcGVjaWZpZWQgYXMgVGFyZ2V0Q29udHJvbHMgaXMgZ2F0ZWQgYnkgdGhlIHJ1bGUgdGhhdCB5b3Ugc2V0IGZvciB0aGUgcm91dGluZyBjb250cm9scyBpbiBHYXRpbmdDb250cm9scy5cbiAgKiBcbiAgKiBEb2NzIGF0IFRlcnJhZm9ybSBSZWdpc3RyeToge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL3Byb3ZpZGVycy9hd3NjYy9yL3JvdXRlNTNyZWNvdmVyeWNvbnRyb2xfc2FmZXR5X3J1bGUuaHRtbCN0YXJnZXRfY29udHJvbHMgUm91dGU1M1JlY292ZXJ5Y29udHJvbFNhZmV0eVJ1bGUjdGFyZ2V0X2NvbnRyb2xzfVxuICAqL1xuICByZWFkb25seSB0YXJnZXRDb250cm9sczogc3RyaW5nW107XG4gIC8qKlxuICAqIEFuIGV2YWx1YXRpb24gcGVyaW9kLCBpbiBtaWxsaXNlY29uZHMgKG1zKSwgZHVyaW5nIHdoaWNoIGFueSByZXF1ZXN0IGFnYWluc3QgdGhlIHRhcmdldCByb3V0aW5nIGNvbnRyb2xzIHdpbGwgZmFpbC4gVGhpcyBoZWxwcyBwcmV2ZW50IFwiZmxhcHBpbmdcIiBvZiBzdGF0ZS4gVGhlIHdhaXQgcGVyaW9kIGlzIDUwMDAgbXMgYnkgZGVmYXVsdCwgYnV0IHlvdSBjYW4gY2hvb3NlIGEgY3VzdG9tIHZhbHVlLlxuICAqIFxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3Ivcm91dGU1M3JlY292ZXJ5Y29udHJvbF9zYWZldHlfcnVsZS5odG1sI3dhaXRfcGVyaW9kX21zIFJvdXRlNTNSZWNvdmVyeWNvbnRyb2xTYWZldHlSdWxlI3dhaXRfcGVyaW9kX21zfVxuICAqL1xuICByZWFkb25seSB3YWl0UGVyaW9kTXM6IG51bWJlcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdXRlNTNSZWNvdmVyeWNvbnRyb2xTYWZldHlSdWxlR2F0aW5nUnVsZVRvVGVycmFmb3JtKHN0cnVjdD86IFJvdXRlNTNSZWNvdmVyeWNvbnRyb2xTYWZldHlSdWxlR2F0aW5nUnVsZSk6IGFueSB7XG4gIGlmICghY2RrdGYuY2FuSW5zcGVjdChzdHJ1Y3QpKSB7IHJldHVybiBzdHJ1Y3Q7IH1cbiAgcmV0dXJuIHtcbiAgICBnYXRpbmdfY29udHJvbHM6IGNka3RmLmxpc3RNYXBwZXIoY2RrdGYuc3RyaW5nVG9UZXJyYWZvcm0pKHN0cnVjdCEuZ2F0aW5nQ29udHJvbHMpLFxuICAgIHRhcmdldF9jb250cm9sczogY2RrdGYubGlzdE1hcHBlcihjZGt0Zi5zdHJpbmdUb1RlcnJhZm9ybSkoc3RydWN0IS50YXJnZXRDb250cm9scyksXG4gICAgd2FpdF9wZXJpb2RfbXM6IGNka3RmLm51bWJlclRvVGVycmFmb3JtKHN0cnVjdCEud2FpdFBlcmlvZE1zKSxcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJvdXRlNTNSZWNvdmVyeWNvbnRyb2xTYWZldHlSdWxlUnVsZUNvbmZpZyB7XG4gIC8qKlxuICAqIExvZ2ljYWwgbmVnYXRpb24gb2YgdGhlIHJ1bGUuIElmIHRoZSBydWxlIHdvdWxkIHVzdWFsbHkgZXZhbHVhdGUgdHJ1ZSwgaXQncyBldmFsdWF0ZWQgYXMgZmFsc2UsIGFuZCB2aWNlIHZlcnNhLlxuICAqIFxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3Ivcm91dGU1M3JlY292ZXJ5Y29udHJvbF9zYWZldHlfcnVsZS5odG1sI2ludmVydGVkIFJvdXRlNTNSZWNvdmVyeWNvbnRyb2xTYWZldHlSdWxlI2ludmVydGVkfVxuICAqL1xuICByZWFkb25seSBpbnZlcnRlZDogYm9vbGVhbiB8IGNka3RmLklSZXNvbHZhYmxlO1xuICAvKipcbiAgKiBUaGUgdmFsdWUgb2YgTiwgd2hlbiB5b3Ugc3BlY2lmeSBhbiBBVExFQVNUIHJ1bGUgdHlwZS4gVGhhdCBpcywgVGhyZXNob2xkIGlzIHRoZSBudW1iZXIgb2YgY29udHJvbHMgdGhhdCBtdXN0IGJlIHNldCB3aGVuIHlvdSBzcGVjaWZ5IGFuIEFUTEVBU1QgdHlwZS5cbiAgKiBcbiAgKiBEb2NzIGF0IFRlcnJhZm9ybSBSZWdpc3RyeToge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL3Byb3ZpZGVycy9hd3NjYy9yL3JvdXRlNTNyZWNvdmVyeWNvbnRyb2xfc2FmZXR5X3J1bGUuaHRtbCN0aHJlc2hvbGQgUm91dGU1M1JlY292ZXJ5Y29udHJvbFNhZmV0eVJ1bGUjdGhyZXNob2xkfVxuICAqL1xuICByZWFkb25seSB0aHJlc2hvbGQ6IG51bWJlcjtcbiAgLyoqXG4gICogQSBydWxlIGNhbiBiZSBvbmUgb2YgdGhlIGZvbGxvd2luZzogQVRMRUFTVCwgQU5ELCBvciBPUi5cbiAgKiBcbiAgKiBEb2NzIGF0IFRlcnJhZm9ybSBSZWdpc3RyeToge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL3Byb3ZpZGVycy9hd3NjYy9yL3JvdXRlNTNyZWNvdmVyeWNvbnRyb2xfc2FmZXR5X3J1bGUuaHRtbCN0eXBlIFJvdXRlNTNSZWNvdmVyeWNvbnRyb2xTYWZldHlSdWxlI3R5cGV9XG4gICovXG4gIHJlYWRvbmx5IHR5cGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJvdXRlNTNSZWNvdmVyeWNvbnRyb2xTYWZldHlSdWxlUnVsZUNvbmZpZ1RvVGVycmFmb3JtKHN0cnVjdD86IFJvdXRlNTNSZWNvdmVyeWNvbnRyb2xTYWZldHlSdWxlUnVsZUNvbmZpZyk6IGFueSB7XG4gIGlmICghY2RrdGYuY2FuSW5zcGVjdChzdHJ1Y3QpKSB7IHJldHVybiBzdHJ1Y3Q7IH1cbiAgcmV0dXJuIHtcbiAgICBpbnZlcnRlZDogY2RrdGYuYm9vbGVhblRvVGVycmFmb3JtKHN0cnVjdCEuaW52ZXJ0ZWQpLFxuICAgIHRocmVzaG9sZDogY2RrdGYubnVtYmVyVG9UZXJyYWZvcm0oc3RydWN0IS50aHJlc2hvbGQpLFxuICAgIHR5cGU6IGNka3RmLnN0cmluZ1RvVGVycmFmb3JtKHN0cnVjdCEudHlwZSksXG4gIH1cbn1cblxuXG4vKipcbiogUmVwcmVzZW50cyBhIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9yb3V0ZTUzcmVjb3Zlcnljb250cm9sX3NhZmV0eV9ydWxlLmh0bWwgYXdzY2Nfcm91dGU1M3JlY292ZXJ5Y29udHJvbF9zYWZldHlfcnVsZX1cbiovXG5leHBvcnQgY2xhc3MgUm91dGU1M1JlY292ZXJ5Y29udHJvbFNhZmV0eVJ1bGUgZXh0ZW5kcyBjZGt0Zi5UZXJyYWZvcm1SZXNvdXJjZSB7XG5cbiAgLy8gPT09PT09PT09PT09PT09PT1cbiAgLy8gU1RBVElDIFBST1BFUlRJRVNcbiAgLy8gPT09PT09PT09PT09PT09PT1cbiAgcHVibGljIHN0YXRpYyByZWFkb25seSB0ZlJlc291cmNlVHlwZTogc3RyaW5nID0gXCJhd3NjY19yb3V0ZTUzcmVjb3Zlcnljb250cm9sX3NhZmV0eV9ydWxlXCI7XG5cbiAgLy8gPT09PT09PT09PT1cbiAgLy8gSU5JVElBTElaRVJcbiAgLy8gPT09PT09PT09PT1cblxuICAvKipcbiAgKiBDcmVhdGUgYSBuZXcge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL3Byb3ZpZGVycy9hd3NjYy9yL3JvdXRlNTNyZWNvdmVyeWNvbnRyb2xfc2FmZXR5X3J1bGUuaHRtbCBhd3NjY19yb3V0ZTUzcmVjb3Zlcnljb250cm9sX3NhZmV0eV9ydWxlfSBSZXNvdXJjZVxuICAqXG4gICogQHBhcmFtIHNjb3BlIFRoZSBzY29wZSBpbiB3aGljaCB0byBkZWZpbmUgdGhpcyBjb25zdHJ1Y3RcbiAgKiBAcGFyYW0gaWQgVGhlIHNjb3BlZCBjb25zdHJ1Y3QgSUQuIE11c3QgYmUgdW5pcXVlIGFtb25nc3Qgc2libGluZ3MgaW4gdGhlIHNhbWUgc2NvcGVcbiAgKiBAcGFyYW0gb3B0aW9ucyBSb3V0ZTUzUmVjb3Zlcnljb250cm9sU2FmZXR5UnVsZUNvbmZpZyA9IHt9XG4gICovXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihzY29wZTogQ29uc3RydWN0LCBpZDogc3RyaW5nLCBjb25maWc6IFJvdXRlNTNSZWNvdmVyeWNvbnRyb2xTYWZldHlSdWxlQ29uZmlnID0ge30pIHtcbiAgICBzdXBlcihzY29wZSwgaWQsIHtcbiAgICAgIHRlcnJhZm9ybVJlc291cmNlVHlwZTogJ2F3c2NjX3JvdXRlNTNyZWNvdmVyeWNvbnRyb2xfc2FmZXR5X3J1bGUnLFxuICAgICAgdGVycmFmb3JtR2VuZXJhdG9yTWV0YWRhdGE6IHtcbiAgICAgICAgcHJvdmlkZXJOYW1lOiAnYXdzY2MnXG4gICAgICB9LFxuICAgICAgcHJvdmlkZXI6IGNvbmZpZy5wcm92aWRlcixcbiAgICAgIGRlcGVuZHNPbjogY29uZmlnLmRlcGVuZHNPbixcbiAgICAgIGNvdW50OiBjb25maWcuY291bnQsXG4gICAgICBsaWZlY3ljbGU6IGNvbmZpZy5saWZlY3ljbGVcbiAgICB9KTtcbiAgICB0aGlzLl9hc3NlcnRpb25SdWxlID0gY29uZmlnLmFzc2VydGlvblJ1bGU7XG4gICAgdGhpcy5fY29udHJvbFBhbmVsQXJuID0gY29uZmlnLmNvbnRyb2xQYW5lbEFybjtcbiAgICB0aGlzLl9nYXRpbmdSdWxlID0gY29uZmlnLmdhdGluZ1J1bGU7XG4gICAgdGhpcy5fbmFtZSA9IGNvbmZpZy5uYW1lO1xuICAgIHRoaXMuX3J1bGVDb25maWcgPSBjb25maWcucnVsZUNvbmZpZztcbiAgfVxuXG4gIC8vID09PT09PT09PT1cbiAgLy8gQVRUUklCVVRFU1xuICAvLyA9PT09PT09PT09XG5cbiAgLy8gYXNzZXJ0aW9uX3J1bGUgLSBjb21wdXRlZDogZmFsc2UsIG9wdGlvbmFsOiB0cnVlLCByZXF1aXJlZDogZmFsc2VcbiAgcHJpdmF0ZSBfYXNzZXJ0aW9uUnVsZT86IFJvdXRlNTNSZWNvdmVyeWNvbnRyb2xTYWZldHlSdWxlQXNzZXJ0aW9uUnVsZTtcbiAgcHVibGljIGdldCBhc3NlcnRpb25SdWxlKCkge1xuICAgIHJldHVybiB0aGlzLmludGVycG9sYXRpb25Gb3JBdHRyaWJ1dGUoJ2Fzc2VydGlvbl9ydWxlJykgYXMgYW55O1xuICB9XG4gIHB1YmxpYyBzZXQgYXNzZXJ0aW9uUnVsZSh2YWx1ZTogUm91dGU1M1JlY292ZXJ5Y29udHJvbFNhZmV0eVJ1bGVBc3NlcnRpb25SdWxlICkge1xuICAgIHRoaXMuX2Fzc2VydGlvblJ1bGUgPSB2YWx1ZTtcbiAgfVxuICBwdWJsaWMgcmVzZXRBc3NlcnRpb25SdWxlKCkge1xuICAgIHRoaXMuX2Fzc2VydGlvblJ1bGUgPSB1bmRlZmluZWQ7XG4gIH1cbiAgLy8gVGVtcG9yYXJpbHkgZXhwb3NlIGlucHV0IHZhbHVlLiBVc2Ugd2l0aCBjYXV0aW9uLlxuICBwdWJsaWMgZ2V0IGFzc2VydGlvblJ1bGVJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5fYXNzZXJ0aW9uUnVsZVxuICB9XG5cbiAgLy8gY29udHJvbF9wYW5lbF9hcm4gLSBjb21wdXRlZDogdHJ1ZSwgb3B0aW9uYWw6IHRydWUsIHJlcXVpcmVkOiBmYWxzZVxuICBwcml2YXRlIF9jb250cm9sUGFuZWxBcm4/OiBzdHJpbmc7XG4gIHB1YmxpYyBnZXQgY29udHJvbFBhbmVsQXJuKCkge1xuICAgIHJldHVybiB0aGlzLmdldFN0cmluZ0F0dHJpYnV0ZSgnY29udHJvbF9wYW5lbF9hcm4nKTtcbiAgfVxuICBwdWJsaWMgc2V0IGNvbnRyb2xQYW5lbEFybih2YWx1ZTogc3RyaW5nKSB7XG4gICAgdGhpcy5fY29udHJvbFBhbmVsQXJuID0gdmFsdWU7XG4gIH1cbiAgcHVibGljIHJlc2V0Q29udHJvbFBhbmVsQXJuKCkge1xuICAgIHRoaXMuX2NvbnRyb2xQYW5lbEFybiA9IHVuZGVmaW5lZDtcbiAgfVxuICAvLyBUZW1wb3JhcmlseSBleHBvc2UgaW5wdXQgdmFsdWUuIFVzZSB3aXRoIGNhdXRpb24uXG4gIHB1YmxpYyBnZXQgY29udHJvbFBhbmVsQXJuSW5wdXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NvbnRyb2xQYW5lbEFyblxuICB9XG5cbiAgLy8gZ2F0aW5nX3J1bGUgLSBjb21wdXRlZDogZmFsc2UsIG9wdGlvbmFsOiB0cnVlLCByZXF1aXJlZDogZmFsc2VcbiAgcHJpdmF0ZSBfZ2F0aW5nUnVsZT86IFJvdXRlNTNSZWNvdmVyeWNvbnRyb2xTYWZldHlSdWxlR2F0aW5nUnVsZTtcbiAgcHVibGljIGdldCBnYXRpbmdSdWxlKCkge1xuICAgIHJldHVybiB0aGlzLmludGVycG9sYXRpb25Gb3JBdHRyaWJ1dGUoJ2dhdGluZ19ydWxlJykgYXMgYW55O1xuICB9XG4gIHB1YmxpYyBzZXQgZ2F0aW5nUnVsZSh2YWx1ZTogUm91dGU1M1JlY292ZXJ5Y29udHJvbFNhZmV0eVJ1bGVHYXRpbmdSdWxlICkge1xuICAgIHRoaXMuX2dhdGluZ1J1bGUgPSB2YWx1ZTtcbiAgfVxuICBwdWJsaWMgcmVzZXRHYXRpbmdSdWxlKCkge1xuICAgIHRoaXMuX2dhdGluZ1J1bGUgPSB1bmRlZmluZWQ7XG4gIH1cbiAgLy8gVGVtcG9yYXJpbHkgZXhwb3NlIGlucHV0IHZhbHVlLiBVc2Ugd2l0aCBjYXV0aW9uLlxuICBwdWJsaWMgZ2V0IGdhdGluZ1J1bGVJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2F0aW5nUnVsZVxuICB9XG5cbiAgLy8gaWQgLSBjb21wdXRlZDogdHJ1ZSwgb3B0aW9uYWw6IGZhbHNlLCByZXF1aXJlZDogZmFsc2VcbiAgcHVibGljIGdldCBpZCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRTdHJpbmdBdHRyaWJ1dGUoJ2lkJyk7XG4gIH1cblxuICAvLyBuYW1lIC0gY29tcHV0ZWQ6IGZhbHNlLCBvcHRpb25hbDogdHJ1ZSwgcmVxdWlyZWQ6IGZhbHNlXG4gIHByaXZhdGUgX25hbWU/OiBzdHJpbmc7XG4gIHB1YmxpYyBnZXQgbmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRTdHJpbmdBdHRyaWJ1dGUoJ25hbWUnKTtcbiAgfVxuICBwdWJsaWMgc2V0IG5hbWUodmFsdWU6IHN0cmluZyApIHtcbiAgICB0aGlzLl9uYW1lID0gdmFsdWU7XG4gIH1cbiAgcHVibGljIHJlc2V0TmFtZSgpIHtcbiAgICB0aGlzLl9uYW1lID0gdW5kZWZpbmVkO1xuICB9XG4gIC8vIFRlbXBvcmFyaWx5IGV4cG9zZSBpbnB1dCB2YWx1ZS4gVXNlIHdpdGggY2F1dGlvbi5cbiAgcHVibGljIGdldCBuYW1lSW5wdXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX25hbWVcbiAgfVxuXG4gIC8vIHJ1bGVfY29uZmlnIC0gY29tcHV0ZWQ6IHRydWUsIG9wdGlvbmFsOiB0cnVlLCByZXF1aXJlZDogZmFsc2VcbiAgcHJpdmF0ZSBfcnVsZUNvbmZpZz86IFJvdXRlNTNSZWNvdmVyeWNvbnRyb2xTYWZldHlSdWxlUnVsZUNvbmZpZztcbiAgcHVibGljIGdldCBydWxlQ29uZmlnKCkge1xuICAgIHJldHVybiB0aGlzLmludGVycG9sYXRpb25Gb3JBdHRyaWJ1dGUoJ3J1bGVfY29uZmlnJykgYXMgYW55O1xuICB9XG4gIHB1YmxpYyBzZXQgcnVsZUNvbmZpZyh2YWx1ZTogUm91dGU1M1JlY292ZXJ5Y29udHJvbFNhZmV0eVJ1bGVSdWxlQ29uZmlnKSB7XG4gICAgdGhpcy5fcnVsZUNvbmZpZyA9IHZhbHVlO1xuICB9XG4gIHB1YmxpYyByZXNldFJ1bGVDb25maWcoKSB7XG4gICAgdGhpcy5fcnVsZUNvbmZpZyA9IHVuZGVmaW5lZDtcbiAgfVxuICAvLyBUZW1wb3JhcmlseSBleHBvc2UgaW5wdXQgdmFsdWUuIFVzZSB3aXRoIGNhdXRpb24uXG4gIHB1YmxpYyBnZXQgcnVsZUNvbmZpZ0lucHV0KCkge1xuICAgIHJldHVybiB0aGlzLl9ydWxlQ29uZmlnXG4gIH1cblxuICAvLyBzYWZldHlfcnVsZV9hcm4gLSBjb21wdXRlZDogdHJ1ZSwgb3B0aW9uYWw6IGZhbHNlLCByZXF1aXJlZDogZmFsc2VcbiAgcHVibGljIGdldCBzYWZldHlSdWxlQXJuKCkge1xuICAgIHJldHVybiB0aGlzLmdldFN0cmluZ0F0dHJpYnV0ZSgnc2FmZXR5X3J1bGVfYXJuJyk7XG4gIH1cblxuICAvLyBzdGF0dXMgLSBjb21wdXRlZDogdHJ1ZSwgb3B0aW9uYWw6IGZhbHNlLCByZXF1aXJlZDogZmFsc2VcbiAgcHVibGljIGdldCBzdGF0dXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0U3RyaW5nQXR0cmlidXRlKCdzdGF0dXMnKTtcbiAgfVxuXG4gIC8vID09PT09PT09PVxuICAvLyBTWU5USEVTSVNcbiAgLy8gPT09PT09PT09XG5cbiAgcHJvdGVjdGVkIHN5bnRoZXNpemVBdHRyaWJ1dGVzKCk6IHsgW25hbWU6IHN0cmluZ106IGFueSB9IHtcbiAgICByZXR1cm4ge1xuICAgICAgYXNzZXJ0aW9uX3J1bGU6IHJvdXRlNTNSZWNvdmVyeWNvbnRyb2xTYWZldHlSdWxlQXNzZXJ0aW9uUnVsZVRvVGVycmFmb3JtKHRoaXMuX2Fzc2VydGlvblJ1bGUpLFxuICAgICAgY29udHJvbF9wYW5lbF9hcm46IGNka3RmLnN0cmluZ1RvVGVycmFmb3JtKHRoaXMuX2NvbnRyb2xQYW5lbEFybiksXG4gICAgICBnYXRpbmdfcnVsZTogcm91dGU1M1JlY292ZXJ5Y29udHJvbFNhZmV0eVJ1bGVHYXRpbmdSdWxlVG9UZXJyYWZvcm0odGhpcy5fZ2F0aW5nUnVsZSksXG4gICAgICBuYW1lOiBjZGt0Zi5zdHJpbmdUb1RlcnJhZm9ybSh0aGlzLl9uYW1lKSxcbiAgICAgIHJ1bGVfY29uZmlnOiByb3V0ZTUzUmVjb3Zlcnljb250cm9sU2FmZXR5UnVsZVJ1bGVDb25maWdUb1RlcnJhZm9ybSh0aGlzLl9ydWxlQ29uZmlnKSxcbiAgICB9O1xuICB9XG59XG4iXX0=