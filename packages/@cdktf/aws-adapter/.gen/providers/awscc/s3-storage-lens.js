"use strict";
// https://www.terraform.io/docs/providers/awscc/r/s3_storage_lens.html
// generated from terraform resource schema
Object.defineProperty(exports, "__esModule", { value: true });
exports.S3StorageLens = exports.s3StorageLensTagsToTerraform = exports.s3StorageLensStorageLensConfigurationToTerraform = exports.s3StorageLensStorageLensConfigurationIncludeToTerraform = exports.s3StorageLensStorageLensConfigurationExcludeToTerraform = exports.s3StorageLensStorageLensConfigurationDataExportToTerraform = exports.s3StorageLensStorageLensConfigurationDataExportS3BucketDestinationToTerraform = exports.s3StorageLensStorageLensConfigurationAwsOrgToTerraform = exports.s3StorageLensStorageLensConfigurationAccountLevelToTerraform = exports.s3StorageLensStorageLensConfigurationAccountLevelBucketLevelToTerraform = exports.s3StorageLensStorageLensConfigurationAccountLevelBucketLevelPrefixLevelToTerraform = exports.s3StorageLensStorageLensConfigurationAccountLevelBucketLevelPrefixLevelStorageMetricsToTerraform = exports.s3StorageLensStorageLensConfigurationAccountLevelBucketLevelPrefixLevelStorageMetricsSelectionCriteriaToTerraform = exports.s3StorageLensStorageLensConfigurationAccountLevelBucketLevelActivityMetricsToTerraform = exports.s3StorageLensStorageLensConfigurationAccountLevelActivityMetricsToTerraform = void 0;
const cdktf = require("cdktf");
function s3StorageLensStorageLensConfigurationAccountLevelActivityMetricsToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        is_enabled: cdktf.booleanToTerraform(struct.isEnabled),
    };
}
exports.s3StorageLensStorageLensConfigurationAccountLevelActivityMetricsToTerraform = s3StorageLensStorageLensConfigurationAccountLevelActivityMetricsToTerraform;
function s3StorageLensStorageLensConfigurationAccountLevelBucketLevelActivityMetricsToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        is_enabled: cdktf.booleanToTerraform(struct.isEnabled),
    };
}
exports.s3StorageLensStorageLensConfigurationAccountLevelBucketLevelActivityMetricsToTerraform = s3StorageLensStorageLensConfigurationAccountLevelBucketLevelActivityMetricsToTerraform;
function s3StorageLensStorageLensConfigurationAccountLevelBucketLevelPrefixLevelStorageMetricsSelectionCriteriaToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        delimiter: cdktf.stringToTerraform(struct.delimiter),
        max_depth: cdktf.numberToTerraform(struct.maxDepth),
        min_storage_bytes_percentage: cdktf.numberToTerraform(struct.minStorageBytesPercentage),
    };
}
exports.s3StorageLensStorageLensConfigurationAccountLevelBucketLevelPrefixLevelStorageMetricsSelectionCriteriaToTerraform = s3StorageLensStorageLensConfigurationAccountLevelBucketLevelPrefixLevelStorageMetricsSelectionCriteriaToTerraform;
function s3StorageLensStorageLensConfigurationAccountLevelBucketLevelPrefixLevelStorageMetricsToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        is_enabled: cdktf.booleanToTerraform(struct.isEnabled),
        selection_criteria: s3StorageLensStorageLensConfigurationAccountLevelBucketLevelPrefixLevelStorageMetricsSelectionCriteriaToTerraform(struct.selectionCriteria),
    };
}
exports.s3StorageLensStorageLensConfigurationAccountLevelBucketLevelPrefixLevelStorageMetricsToTerraform = s3StorageLensStorageLensConfigurationAccountLevelBucketLevelPrefixLevelStorageMetricsToTerraform;
function s3StorageLensStorageLensConfigurationAccountLevelBucketLevelPrefixLevelToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        storage_metrics: s3StorageLensStorageLensConfigurationAccountLevelBucketLevelPrefixLevelStorageMetricsToTerraform(struct.storageMetrics),
    };
}
exports.s3StorageLensStorageLensConfigurationAccountLevelBucketLevelPrefixLevelToTerraform = s3StorageLensStorageLensConfigurationAccountLevelBucketLevelPrefixLevelToTerraform;
function s3StorageLensStorageLensConfigurationAccountLevelBucketLevelToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        activity_metrics: s3StorageLensStorageLensConfigurationAccountLevelBucketLevelActivityMetricsToTerraform(struct.activityMetrics),
        prefix_level: s3StorageLensStorageLensConfigurationAccountLevelBucketLevelPrefixLevelToTerraform(struct.prefixLevel),
    };
}
exports.s3StorageLensStorageLensConfigurationAccountLevelBucketLevelToTerraform = s3StorageLensStorageLensConfigurationAccountLevelBucketLevelToTerraform;
function s3StorageLensStorageLensConfigurationAccountLevelToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        activity_metrics: s3StorageLensStorageLensConfigurationAccountLevelActivityMetricsToTerraform(struct.activityMetrics),
        bucket_level: s3StorageLensStorageLensConfigurationAccountLevelBucketLevelToTerraform(struct.bucketLevel),
    };
}
exports.s3StorageLensStorageLensConfigurationAccountLevelToTerraform = s3StorageLensStorageLensConfigurationAccountLevelToTerraform;
function s3StorageLensStorageLensConfigurationAwsOrgToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        arn: cdktf.stringToTerraform(struct.arn),
    };
}
exports.s3StorageLensStorageLensConfigurationAwsOrgToTerraform = s3StorageLensStorageLensConfigurationAwsOrgToTerraform;
function s3StorageLensStorageLensConfigurationDataExportS3BucketDestinationToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        account_id: cdktf.stringToTerraform(struct.accountId),
        arn: cdktf.stringToTerraform(struct.arn),
        encryption: cdktf.hashMapper(cdktf.anyToTerraform)(struct.encryption),
        format: cdktf.stringToTerraform(struct.format),
        output_schema_version: cdktf.stringToTerraform(struct.outputSchemaVersion),
        prefix: cdktf.stringToTerraform(struct.prefix),
    };
}
exports.s3StorageLensStorageLensConfigurationDataExportS3BucketDestinationToTerraform = s3StorageLensStorageLensConfigurationDataExportS3BucketDestinationToTerraform;
function s3StorageLensStorageLensConfigurationDataExportToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        s3_bucket_destination: s3StorageLensStorageLensConfigurationDataExportS3BucketDestinationToTerraform(struct.s3BucketDestination),
    };
}
exports.s3StorageLensStorageLensConfigurationDataExportToTerraform = s3StorageLensStorageLensConfigurationDataExportToTerraform;
function s3StorageLensStorageLensConfigurationExcludeToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        buckets: cdktf.listMapper(cdktf.stringToTerraform)(struct.buckets),
        regions: cdktf.listMapper(cdktf.stringToTerraform)(struct.regions),
    };
}
exports.s3StorageLensStorageLensConfigurationExcludeToTerraform = s3StorageLensStorageLensConfigurationExcludeToTerraform;
function s3StorageLensStorageLensConfigurationIncludeToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        buckets: cdktf.listMapper(cdktf.stringToTerraform)(struct.buckets),
        regions: cdktf.listMapper(cdktf.stringToTerraform)(struct.regions),
    };
}
exports.s3StorageLensStorageLensConfigurationIncludeToTerraform = s3StorageLensStorageLensConfigurationIncludeToTerraform;
function s3StorageLensStorageLensConfigurationToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        account_level: s3StorageLensStorageLensConfigurationAccountLevelToTerraform(struct.accountLevel),
        aws_org: s3StorageLensStorageLensConfigurationAwsOrgToTerraform(struct.awsOrg),
        data_export: s3StorageLensStorageLensConfigurationDataExportToTerraform(struct.dataExport),
        exclude: s3StorageLensStorageLensConfigurationExcludeToTerraform(struct.exclude),
        id: cdktf.stringToTerraform(struct.id),
        include: s3StorageLensStorageLensConfigurationIncludeToTerraform(struct.include),
        is_enabled: cdktf.booleanToTerraform(struct.isEnabled),
        storage_lens_arn: cdktf.stringToTerraform(struct.storageLensArn),
    };
}
exports.s3StorageLensStorageLensConfigurationToTerraform = s3StorageLensStorageLensConfigurationToTerraform;
function s3StorageLensTagsToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        key: cdktf.stringToTerraform(struct.key),
        value: cdktf.stringToTerraform(struct.value),
    };
}
exports.s3StorageLensTagsToTerraform = s3StorageLensTagsToTerraform;
/**
* Represents a {@link https://www.terraform.io/docs/providers/awscc/r/s3_storage_lens.html awscc_s3_storage_lens}
*/
class S3StorageLens extends cdktf.TerraformResource {
    // ===========
    // INITIALIZER
    // ===========
    /**
    * Create a new {@link https://www.terraform.io/docs/providers/awscc/r/s3_storage_lens.html awscc_s3_storage_lens} Resource
    *
    * @param scope The scope in which to define this construct
    * @param id The scoped construct ID. Must be unique amongst siblings in the same scope
    * @param options S3StorageLensConfig
    */
    constructor(scope, id, config) {
        super(scope, id, {
            terraformResourceType: 'awscc_s3_storage_lens',
            terraformGeneratorMetadata: {
                providerName: 'awscc'
            },
            provider: config.provider,
            dependsOn: config.dependsOn,
            count: config.count,
            lifecycle: config.lifecycle
        });
        this._storageLensConfiguration = config.storageLensConfiguration;
        this._tags = config.tags;
    }
    // ==========
    // ATTRIBUTES
    // ==========
    // id - computed: true, optional: false, required: false
    get id() {
        return this.getStringAttribute('id');
    }
    get storageLensConfiguration() {
        return this.interpolationForAttribute('storage_lens_configuration');
    }
    set storageLensConfiguration(value) {
        this._storageLensConfiguration = value;
    }
    // Temporarily expose input value. Use with caution.
    get storageLensConfigurationInput() {
        return this._storageLensConfiguration;
    }
    get tags() {
        return this.interpolationForAttribute('tags');
    }
    set tags(value) {
        this._tags = value;
    }
    resetTags() {
        this._tags = undefined;
    }
    // Temporarily expose input value. Use with caution.
    get tagsInput() {
        return this._tags;
    }
    // =========
    // SYNTHESIS
    // =========
    synthesizeAttributes() {
        return {
            storage_lens_configuration: s3StorageLensStorageLensConfigurationToTerraform(this._storageLensConfiguration),
            tags: cdktf.listMapper(s3StorageLensTagsToTerraform)(this._tags),
        };
    }
}
exports.S3StorageLens = S3StorageLens;
// =================
// STATIC PROPERTIES
// =================
S3StorageLens.tfResourceType = "awscc_s3_storage_lens";
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiczMtc3RvcmFnZS1sZW5zLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiczMtc3RvcmFnZS1sZW5zLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSx1RUFBdUU7QUFDdkUsMkNBQTJDOzs7QUFHM0MsK0JBQStCO0FBMkIvQixTQUFnQiwyRUFBMkUsQ0FBQyxNQUF5RTtJQUNuSyxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsRUFBRTtRQUFFLE9BQU8sTUFBTSxDQUFDO0tBQUU7SUFDakQsT0FBTztRQUNMLFVBQVUsRUFBRSxLQUFLLENBQUMsa0JBQWtCLENBQUMsTUFBTyxDQUFDLFNBQVMsQ0FBQztLQUN4RCxDQUFBO0FBQ0gsQ0FBQztBQUxELGtLQUtDO0FBV0QsU0FBZ0Isc0ZBQXNGLENBQUMsTUFBb0Y7SUFDekwsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLEVBQUU7UUFBRSxPQUFPLE1BQU0sQ0FBQztLQUFFO0lBQ2pELE9BQU87UUFDTCxVQUFVLEVBQUUsS0FBSyxDQUFDLGtCQUFrQixDQUFDLE1BQU8sQ0FBQyxTQUFTLENBQUM7S0FDeEQsQ0FBQTtBQUNILENBQUM7QUFMRCx3TEFLQztBQXVCRCxTQUFnQixpSEFBaUgsQ0FBQyxNQUErRztJQUMvTyxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsRUFBRTtRQUFFLE9BQU8sTUFBTSxDQUFDO0tBQUU7SUFDakQsT0FBTztRQUNMLFNBQVMsRUFBRSxLQUFLLENBQUMsaUJBQWlCLENBQUMsTUFBTyxDQUFDLFNBQVMsQ0FBQztRQUNyRCxTQUFTLEVBQUUsS0FBSyxDQUFDLGlCQUFpQixDQUFDLE1BQU8sQ0FBQyxRQUFRLENBQUM7UUFDcEQsNEJBQTRCLEVBQUUsS0FBSyxDQUFDLGlCQUFpQixDQUFDLE1BQU8sQ0FBQyx5QkFBeUIsQ0FBQztLQUN6RixDQUFBO0FBQ0gsQ0FBQztBQVBELDhPQU9DO0FBaUJELFNB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QUFJLENBQUMseUJBQXlCLENBQUM7WUFDNUcsSUFBSSxFQUFFLEtBQUssQ0FBQyxVQUFVLENBQUMsNEJBQTRCLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDO1NBQ2pFLENBQUM7SUFDSixDQUFDOztBQWhGSCxzQ0FpRkM7QUEvRUMsb0JBQW9CO0FBQ3BCLG9CQUFvQjtBQUNwQixvQkFBb0I7QUFDRyw0QkFBYyxHQUFXLHVCQUF1QixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3IvczNfc3RvcmFnZV9sZW5zLmh0bWxcbi8vIGdlbmVyYXRlZCBmcm9tIHRlcnJhZm9ybSByZXNvdXJjZSBzY2hlbWFcblxuaW1wb3J0IHsgQ29uc3RydWN0IH0gZnJvbSAnY29uc3RydWN0cyc7XG5pbXBvcnQgKiBhcyBjZGt0ZiBmcm9tICdjZGt0Zic7XG5cbi8vIENvbmZpZ3VyYXRpb25cblxuZXhwb3J0IGludGVyZmFjZSBTM1N0b3JhZ2VMZW5zQ29uZmlnIGV4dGVuZHMgY2RrdGYuVGVycmFmb3JtTWV0YUFyZ3VtZW50cyB7XG4gIC8qKlxuICAqIFNwZWNpZmllcyB0aGUgZGV0YWlscyBvZiBBbWF6b24gUzMgU3RvcmFnZSBMZW5zIGNvbmZpZ3VyYXRpb24uXG4gICogXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9zM19zdG9yYWdlX2xlbnMuaHRtbCNzdG9yYWdlX2xlbnNfY29uZmlndXJhdGlvbiBTM1N0b3JhZ2VMZW5zI3N0b3JhZ2VfbGVuc19jb25maWd1cmF0aW9ufVxuICAqL1xuICByZWFkb25seSBzdG9yYWdlTGVuc0NvbmZpZ3VyYXRpb246IFMzU3RvcmFnZUxlbnNTdG9yYWdlTGVuc0NvbmZpZ3VyYXRpb247XG4gIC8qKlxuICAqIEEgc2V0IG9mIHRhZ3MgKGtleS12YWx1ZSBwYWlycykgZm9yIHRoaXMgQW1hem9uIFMzIFN0b3JhZ2UgTGVucyBjb25maWd1cmF0aW9uLlxuICAqIFxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3IvczNfc3RvcmFnZV9sZW5zLmh0bWwjdGFncyBTM1N0b3JhZ2VMZW5zI3RhZ3N9XG4gICovXG4gIHJlYWRvbmx5IHRhZ3M/OiBTM1N0b3JhZ2VMZW5zVGFnc1tdO1xufVxuZXhwb3J0IGludGVyZmFjZSBTM1N0b3JhZ2VMZW5zU3RvcmFnZUxlbnNDb25maWd1cmF0aW9uQWNjb3VudExldmVsQWN0aXZpdHlNZXRyaWNzIHtcbiAgLyoqXG4gICogU3BlY2lmaWVzIHdoZXRoZXIgYWN0aXZpdHkgbWV0cmljcyBhcmUgZW5hYmxlZCBvciBkaXNhYmxlZC5cbiAgKiBcbiAgKiBEb2NzIGF0IFRlcnJhZm9ybSBSZWdpc3RyeToge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL3Byb3ZpZGVycy9hd3NjYy9yL3MzX3N0b3JhZ2VfbGVucy5odG1sI2lzX2VuYWJsZWQgUzNTdG9yYWdlTGVucyNpc19lbmFibGVkfVxuICAqL1xuICByZWFkb25seSBpc0VuYWJsZWQ/OiBib29sZWFuIHwgY2RrdGYuSVJlc29sdmFibGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzM1N0b3JhZ2VMZW5zU3RvcmFnZUxlbnNDb25maWd1cmF0aW9uQWNjb3VudExldmVsQWN0aXZpdHlNZXRyaWNzVG9UZXJyYWZvcm0oc3RydWN0PzogUzNTdG9yYWdlTGVuc1N0b3JhZ2VMZW5zQ29uZmlndXJhdGlvbkFjY291bnRMZXZlbEFjdGl2aXR5TWV0cmljcyk6IGFueSB7XG4gIGlmICghY2RrdGYuY2FuSW5zcGVjdChzdHJ1Y3QpKSB7IHJldHVybiBzdHJ1Y3Q7IH1cbiAgcmV0dXJuIHtcbiAgICBpc19lbmFibGVkOiBjZGt0Zi5ib29sZWFuVG9UZXJyYWZvcm0oc3RydWN0IS5pc0VuYWJsZWQpLFxuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUzNTdG9yYWdlTGVuc1N0b3JhZ2VMZW5zQ29uZmlndXJhdGlvbkFjY291bnRMZXZlbEJ1Y2tldExldmVsQWN0aXZpdHlNZXRyaWNzIHtcbiAgLyoqXG4gICogU3BlY2lmaWVzIHdoZXRoZXIgYWN0aXZpdHkgbWV0cmljcyBhcmUgZW5hYmxlZCBvciBkaXNhYmxlZC5cbiAgKiBcbiAgKiBEb2NzIGF0IFRlcnJhZm9ybSBSZWdpc3RyeToge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL3Byb3ZpZGVycy9hd3NjYy9yL3MzX3N0b3JhZ2VfbGVucy5odG1sI2lzX2VuYWJsZWQgUzNTdG9yYWdlTGVucyNpc19lbmFibGVkfVxuICAqL1xuICByZWFkb25seSBpc0VuYWJsZWQ/OiBib29sZWFuIHwgY2RrdGYuSVJlc29sdmFibGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzM1N0b3JhZ2VMZW5zU3RvcmFnZUxlbnNDb25maWd1cmF0aW9uQWNjb3VudExldmVsQnVja2V0TGV2ZWxBY3Rpdml0eU1ldHJpY3NUb1RlcnJhZm9ybShzdHJ1Y3Q/OiBTM1N0b3JhZ2VMZW5zU3RvcmFnZUxlbnNDb25maWd1cmF0aW9uQWNjb3VudExldmVsQnVja2V0TGV2ZWxBY3Rpdml0eU1ldHJpY3MpOiBhbnkge1xuICBpZiAoIWNka3RmLmNhbkluc3BlY3Qoc3RydWN0KSkgeyByZXR1cm4gc3RydWN0OyB9XG4gIHJldHVybiB7XG4gICAgaXNfZW5hYmxlZDogY2RrdGYuYm9vbGVhblRvVGVycmFmb3JtKHN0cnVjdCEuaXNFbmFibGVkKSxcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFMzU3RvcmFnZUxlbnNTdG9yYWdlTGVuc0NvbmZpZ3VyYXRpb25BY2NvdW50TGV2ZWxCdWNrZXRMZXZlbFByZWZpeExldmVsU3RvcmFnZU1ldHJpY3NTZWxlY3Rpb25Dcml0ZXJpYSB7XG4gIC8qKlxuICAqIERlbGltaXRlciB0byBkaXZpZGUgUzMga2V5IGludG8gaGllcmFyY2h5IG9mIHByZWZpeGVzLlxuICAqIFxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3IvczNfc3RvcmFnZV9sZW5zLmh0bWwjZGVsaW1pdGVyIFMzU3RvcmFnZUxlbnMjZGVsaW1pdGVyfVxuICAqL1xuICByZWFkb25seSBkZWxpbWl0ZXI/OiBzdHJpbmc7XG4gIC8qKlxuICAqIE1heCBkZXB0aCBvZiBwcmVmaXhlcyBvZiBTMyBrZXkgdGhhdCBBbWF6b24gUzMgU3RvcmFnZSBMZW5zIHdpbGwgYW5hbHl6ZS5cbiAgKiBcbiAgKiBEb2NzIGF0IFRlcnJhZm9ybSBSZWdpc3RyeToge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL3Byb3ZpZGVycy9hd3NjYy9yL3MzX3N0b3JhZ2VfbGVucy5odG1sI21heF9kZXB0aCBTM1N0b3JhZ2VMZW5zI21heF9kZXB0aH1cbiAgKi9cbiAgcmVhZG9ubHkgbWF4RGVwdGg/OiBudW1iZXI7XG4gIC8qKlxuICAqIFRoZSBtaW5pbXVtIHN0b3JhZ2UgYnl0ZXMgdGhyZXNob2xkIGZvciB0aGUgcHJlZml4ZXMgdG8gYmUgaW5jbHVkZWQgaW4gdGhlIGFuYWx5c2lzLlxuICAqIFxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3IvczNfc3RvcmFnZV9sZW5zLmh0bWwjbWluX3N0b3JhZ2VfYnl0ZXNfcGVyY2VudGFnZSBTM1N0b3JhZ2VMZW5zI21pbl9zdG9yYWdlX2J5dGVzX3BlcmNlbnRhZ2V9XG4gICovXG4gIHJlYWRvbmx5IG1pblN0b3JhZ2VCeXRlc1BlcmNlbnRhZ2U/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzM1N0b3JhZ2VMZW5zU3RvcmFnZUxlbnNDb25maWd1cmF0aW9uQWNjb3VudExldmVsQnVja2V0TGV2ZWxQcmVmaXhMZXZlbFN0b3JhZ2VNZXRyaWNzU2VsZWN0aW9uQ3JpdGVyaWFUb1RlcnJhZm9ybShzdHJ1Y3Q/OiBTM1N0b3JhZ2VMZW5zU3RvcmFnZUxlbnNDb25maWd1cmF0aW9uQWNjb3VudExldmVsQnVja2V0TGV2ZWxQcmVmaXhMZXZlbFN0b3JhZ2VNZXRyaWNzU2VsZWN0aW9uQ3JpdGVyaWEpOiBhbnkge1xuICBpZiAoIWNka3RmLmNhbkluc3BlY3Qoc3RydWN0KSkgeyByZXR1cm4gc3RydWN0OyB9XG4gIHJldHVybiB7XG4gICAgZGVsaW1pdGVyOiBjZGt0Zi5zdHJpbmdUb1RlcnJhZm9ybShzdHJ1Y3QhLmRlbGltaXRlciksXG4gICAgbWF4X2RlcHRoOiBjZGt0Zi5udW1iZXJUb1RlcnJhZm9ybShzdHJ1Y3QhLm1heERlcHRoKSxcbiAgICBtaW5fc3RvcmFnZV9ieXRlc19wZXJjZW50YWdlOiBjZGt0Zi5udW1iZXJUb1RlcnJhZm9ybShzdHJ1Y3QhLm1pblN0b3JhZ2VCeXRlc1BlcmNlbnRhZ2UpLFxuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUzNTdG9yYWdlTGVuc1N0b3JhZ2VMZW5zQ29uZmlndXJhdGlvbkFjY291bnRMZXZlbEJ1Y2tldExldmVsUHJlZml4TGV2ZWxTdG9yYWdlTWV0cmljcyB7XG4gIC8qKlxuICAqIFNwZWNpZmllcyB3aGV0aGVyIHByZWZpeC1sZXZlbCBzdG9yYWdlIG1ldHJpY3MgYXJlIGVuYWJsZWQgb3IgZGlzYWJsZWQuXG4gICogXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9zM19zdG9yYWdlX2xlbnMuaHRtbCNpc19lbmFibGVkIFMzU3RvcmFnZUxlbnMjaXNfZW5hYmxlZH1cbiAgKi9cbiAgcmVhZG9ubHkgaXNFbmFibGVkPzogYm9vbGVhbiB8IGNka3RmLklSZXNvbHZhYmxlO1xuICAvKipcbiAgKiBTZWxlY3Rpb24gY3JpdGVyaWEgZm9yIHByZWZpeC1sZXZlbCBtZXRyaWNzLlxuICAqIFxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3IvczNfc3RvcmFnZV9sZW5zLmh0bWwjc2VsZWN0aW9uX2NyaXRlcmlhIFMzU3RvcmFnZUxlbnMjc2VsZWN0aW9uX2NyaXRlcmlhfVxuICAqL1xuICByZWFkb25seSBzZWxlY3Rpb25Dcml0ZXJpYT86IFMzU3RvcmFnZUxlbnNTdG9yYWdlTGVuc0NvbmZpZ3VyYXRpb25BY2NvdW50TGV2ZWxCdWNrZXRMZXZlbFByZWZpeExldmVsU3RvcmFnZU1ldHJpY3NTZWxlY3Rpb25Dcml0ZXJpYTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHMzU3RvcmFnZUxlbnNTdG9yYWdlTGVuc0NvbmZpZ3VyYXRpb25BY2NvdW50TGV2ZWxCdWNrZXRMZXZlbFByZWZpeExldmVsU3RvcmFnZU1ldHJpY3NUb1RlcnJhZm9ybShzdHJ1Y3Q/OiBTM1N0b3JhZ2VMZW5zU3RvcmFnZUxlbnNDb25maWd1cmF0aW9uQWNjb3VudExldmVsQnVja2V0TGV2ZWxQcmVmaXhMZXZlbFN0b3JhZ2VNZXRyaWNzKTogYW55IHtcbiAgaWYgKCFjZGt0Zi5jYW5JbnNwZWN0KHN0cnVjdCkpIHsgcmV0dXJuIHN0cnVjdDsgfVxuICByZXR1cm4ge1xuICAgIGlzX2VuYWJsZWQ6IGNka3RmLmJvb2xlYW5Ub1RlcnJhZm9ybShzdHJ1Y3QhLmlzRW5hYmxlZCksXG4gICAgc2VsZWN0aW9uX2NyaXRlcmlhOiBzM1N0b3JhZ2VMZW5zU3RvcmFnZUxlbnNDb25maWd1cmF0aW9uQWNjb3VudExldmVsQnVja2V0TGV2ZWxQcmVmaXhMZXZlbFN0b3JhZ2VNZXRyaWNzU2VsZWN0aW9uQ3JpdGVyaWFUb1RlcnJhZm9ybShzdHJ1Y3QhLnNlbGVjdGlvbkNyaXRlcmlhKSxcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFMzU3RvcmFnZUxlbnNTdG9yYWdlTGVuc0NvbmZpZ3VyYXRpb25BY2NvdW50TGV2ZWxCdWNrZXRMZXZlbFByZWZpeExldmVsIHtcbiAgLyoqXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9zM19zdG9yYWdlX2xlbnMuaHRtbCNzdG9yYWdlX21ldHJpY3MgUzNTdG9yYWdlTGVucyNzdG9yYWdlX21ldHJpY3N9XG4gICovXG4gIHJlYWRvbmx5IHN0b3JhZ2VNZXRyaWNzOiBTM1N0b3JhZ2VMZW5zU3RvcmFnZUxlbnNDb25maWd1cmF0aW9uQWNjb3VudExldmVsQnVja2V0TGV2ZWxQcmVmaXhMZXZlbFN0b3JhZ2VNZXRyaWNzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gczNTdG9yYWdlTGVuc1N0b3JhZ2VMZW5zQ29uZmlndXJhdGlvbkFjY291bnRMZXZlbEJ1Y2tldExldmVsUHJlZml4TGV2ZWxUb1RlcnJhZm9ybShzdHJ1Y3Q/OiBTM1N0b3JhZ2VMZW5zU3RvcmFnZUxlbnNDb25maWd1cmF0aW9uQWNjb3VudExldmVsQnVja2V0TGV2ZWxQcmVmaXhMZXZlbCk6IGFueSB7XG4gIGlmICghY2RrdGYuY2FuSW5zcGVjdChzdHJ1Y3QpKSB7IHJldHVybiBzdHJ1Y3Q7IH1cbiAgcmV0dXJuIHtcbiAgICBzdG9yYWdlX21ldHJpY3M6IHMzU3RvcmFnZUxlbnNTdG9yYWdlTGVuc0NvbmZpZ3VyYXRpb25BY2NvdW50TGV2ZWxCdWNrZXRMZXZlbFByZWZpeExldmVsU3RvcmFnZU1ldHJpY3NUb1RlcnJhZm9ybShzdHJ1Y3QhLnN0b3JhZ2VNZXRyaWNzKSxcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFMzU3RvcmFnZUxlbnNTdG9yYWdlTGVuc0NvbmZpZ3VyYXRpb25BY2NvdW50TGV2ZWxCdWNrZXRMZXZlbCB7XG4gIC8qKlxuICAqIEVuYWJsZXMgYWN0aXZpdHkgbWV0cmljcy5cbiAgKiBcbiAgKiBEb2NzIGF0IFRlcnJhZm9ybSBSZWdpc3RyeToge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL3Byb3ZpZGVycy9hd3NjYy9yL3MzX3N0b3JhZ2VfbGVucy5odG1sI2FjdGl2aXR5X21ldHJpY3MgUzNTdG9yYWdlTGVucyNhY3Rpdml0eV9tZXRyaWNzfVxuICAqL1xuICByZWFkb25seSBhY3Rpdml0eU1ldHJpY3M/OiBTM1N0b3JhZ2VMZW5zU3RvcmFnZUxlbnNDb25maWd1cmF0aW9uQWNjb3VudExldmVsQnVja2V0TGV2ZWxBY3Rpdml0eU1ldHJpY3M7XG4gIC8qKlxuICAqIFByZWZpeC1sZXZlbCBtZXRyaWNzIGNvbmZpZ3VyYXRpb25zLlxuICAqIFxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3IvczNfc3RvcmFnZV9sZW5zLmh0bWwjcHJlZml4X2xldmVsIFMzU3RvcmFnZUxlbnMjcHJlZml4X2xldmVsfVxuICAqL1xuICByZWFkb25seSBwcmVmaXhMZXZlbD86IFMzU3RvcmFnZUxlbnNTdG9yYWdlTGVuc0NvbmZpZ3VyYXRpb25BY2NvdW50TGV2ZWxCdWNrZXRMZXZlbFByZWZpeExldmVsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gczNTdG9yYWdlTGVuc1N0b3JhZ2VMZW5zQ29uZmlndXJhdGlvbkFjY291bnRMZXZlbEJ1Y2tldExldmVsVG9UZXJyYWZvcm0oc3RydWN0PzogUzNTdG9yYWdlTGVuc1N0b3JhZ2VMZW5zQ29uZmlndXJhdGlvbkFjY291bnRMZXZlbEJ1Y2tldExldmVsKTogYW55IHtcbiAgaWYgKCFjZGt0Zi5jYW5JbnNwZWN0KHN0cnVjdCkpIHsgcmV0dXJuIHN0cnVjdDsgfVxuICByZXR1cm4ge1xuICAgIGFjdGl2aXR5X21ldHJpY3M6IHMzU3RvcmFnZUxlbnNTdG9yYWdlTGVuc0NvbmZpZ3VyYXRpb25BY2NvdW50TGV2ZWxCdWNrZXRMZXZlbEFjdGl2aXR5TWV0cmljc1RvVGVycmFmb3JtKHN0cnVjdCEuYWN0aXZpdHlNZXRyaWNzKSxcbiAgICBwcmVmaXhfbGV2ZWw6IHMzU3RvcmFnZUxlbnNTdG9yYWdlTGVuc0NvbmZpZ3VyYXRpb25BY2NvdW50TGV2ZWxCdWNrZXRMZXZlbFByZWZpeExldmVsVG9UZXJyYWZvcm0oc3RydWN0IS5wcmVmaXhMZXZlbCksXG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBTM1N0b3JhZ2VMZW5zU3RvcmFnZUxlbnNDb25maWd1cmF0aW9uQWNjb3VudExldmVsIHtcbiAgLyoqXG4gICogRW5hYmxlcyBhY3Rpdml0eSBtZXRyaWNzLlxuICAqIFxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3IvczNfc3RvcmFnZV9sZW5zLmh0bWwjYWN0aXZpdHlfbWV0cmljcyBTM1N0b3JhZ2VMZW5zI2FjdGl2aXR5X21ldHJpY3N9XG4gICovXG4gIHJlYWRvbmx5IGFjdGl2aXR5TWV0cmljcz86IFMzU3RvcmFnZUxlbnNTdG9yYWdlTGVuc0NvbmZpZ3VyYXRpb25BY2NvdW50TGV2ZWxBY3Rpdml0eU1ldHJpY3M7XG4gIC8qKlxuICAqIEJ1Y2tldC1sZXZlbCBtZXRyaWNzIGNvbmZpZ3VyYXRpb25zLlxuICAqIFxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3IvczNfc3RvcmFnZV9sZW5zLmh0bWwjYnVja2V0X2xldmVsIFMzU3RvcmFnZUxlbnMjYnVja2V0X2xldmVsfVxuICAqL1xuICByZWFkb25seSBidWNrZXRMZXZlbDogUzNTdG9yYWdlTGVuc1N0b3JhZ2VMZW5zQ29uZmlndXJhdGlvbkFjY291bnRMZXZlbEJ1Y2tldExldmVsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gczNTdG9yYWdlTGVuc1N0b3JhZ2VMZW5zQ29uZmlndXJhdGlvbkFjY291bnRMZXZlbFRvVGVycmFmb3JtKHN0cnVjdD86IFMzU3RvcmFnZUxlbnNTdG9yYWdlTGVuc0NvbmZpZ3VyYXRpb25BY2NvdW50TGV2ZWwpOiBhbnkge1xuICBpZiAoIWNka3RmLmNhbkluc3BlY3Qoc3RydWN0KSkgeyByZXR1cm4gc3RydWN0OyB9XG4gIHJldHVybiB7XG4gICAgYWN0aXZpdHlfbWV0cmljczogczNTdG9yYWdlTGVuc1N0b3JhZ2VMZW5zQ29uZmlndXJhdGlvbkFjY291bnRMZXZlbEFjdGl2aXR5TWV0cmljc1RvVGVycmFmb3JtKHN0cnVjdCEuYWN0aXZpdHlNZXRyaWNzKSxcbiAgICBidWNrZXRfbGV2ZWw6IHMzU3RvcmFnZUxlbnNTdG9yYWdlTGVuc0NvbmZpZ3VyYXRpb25BY2NvdW50TGV2ZWxCdWNrZXRMZXZlbFRvVGVycmFmb3JtKHN0cnVjdCEuYnVja2V0TGV2ZWwpLFxuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUzNTdG9yYWdlTGVuc1N0b3JhZ2VMZW5zQ29uZmlndXJhdGlvbkF3c09yZyB7XG4gIC8qKlxuICAqIFRoZSBBbWF6b24gUmVzb3VyY2UgTmFtZSAoQVJOKSBvZiB0aGUgc3BlY2lmaWVkIHJlc291cmNlLlxuICAqIFxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3IvczNfc3RvcmFnZV9sZW5zLmh0bWwjYXJuIFMzU3RvcmFnZUxlbnMjYXJufVxuICAqL1xuICByZWFkb25seSBhcm46IHN0cmluZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHMzU3RvcmFnZUxlbnNTdG9yYWdlTGVuc0NvbmZpZ3VyYXRpb25Bd3NPcmdUb1RlcnJhZm9ybShzdHJ1Y3Q/OiBTM1N0b3JhZ2VMZW5zU3RvcmFnZUxlbnNDb25maWd1cmF0aW9uQXdzT3JnKTogYW55IHtcbiAgaWYgKCFjZGt0Zi5jYW5JbnNwZWN0KHN0cnVjdCkpIHsgcmV0dXJuIHN0cnVjdDsgfVxuICByZXR1cm4ge1xuICAgIGFybjogY2RrdGYuc3RyaW5nVG9UZXJyYWZvcm0oc3RydWN0IS5hcm4pLFxuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUzNTdG9yYWdlTGVuc1N0b3JhZ2VMZW5zQ29uZmlndXJhdGlvbkRhdGFFeHBvcnRTM0J1Y2tldERlc3RpbmF0aW9uIHtcbiAgLyoqXG4gICogVGhlIEFXUyBhY2NvdW50IElEIHRoYXQgb3ducyB0aGUgZGVzdGluYXRpb24gUzMgYnVja2V0LlxuICAqIFxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3IvczNfc3RvcmFnZV9sZW5zLmh0bWwjYWNjb3VudF9pZCBTM1N0b3JhZ2VMZW5zI2FjY291bnRfaWR9XG4gICovXG4gIHJlYWRvbmx5IGFjY291bnRJZDogc3RyaW5nO1xuICAvKipcbiAgKiBUaGUgQVJOIG9mIHRoZSBidWNrZXQgdG8gd2hpY2ggQW1hem9uIFMzIFN0b3JhZ2UgTGVucyBleHBvcnRzIHdpbGwgYmUgcGxhY2VkLlxuICAqIFxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3IvczNfc3RvcmFnZV9sZW5zLmh0bWwjYXJuIFMzU3RvcmFnZUxlbnMjYXJufVxuICAqL1xuICByZWFkb25seSBhcm46IHN0cmluZztcbiAgLyoqXG4gICogQ29uZmlndXJlcyB0aGUgc2VydmVyLXNpZGUgZW5jcnlwdGlvbiBmb3IgQW1hem9uIFMzIFN0b3JhZ2UgTGVucyByZXBvcnQgZmlsZXMgd2l0aCBlaXRoZXIgUzMtbWFuYWdlZCBrZXlzIChTU0UtUzMpIG9yIEtNUy1tYW5hZ2VkIGtleXMgKFNTRS1LTVMpLlxuICAqIFxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3IvczNfc3RvcmFnZV9sZW5zLmh0bWwjZW5jcnlwdGlvbiBTM1N0b3JhZ2VMZW5zI2VuY3J5cHRpb259XG4gICovXG4gIHJlYWRvbmx5IGVuY3J5cHRpb24/OiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9IHwgY2RrdGYuSVJlc29sdmFibGU7XG4gIC8qKlxuICAqIFNwZWNpZmllcyB0aGUgZmlsZSBmb3JtYXQgdG8gdXNlIHdoZW4gZXhwb3J0aW5nIEFtYXpvbiBTMyBTdG9yYWdlIExlbnMgbWV0cmljcyBleHBvcnQuXG4gICogXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9zM19zdG9yYWdlX2xlbnMuaHRtbCNmb3JtYXQgUzNTdG9yYWdlTGVucyNmb3JtYXR9XG4gICovXG4gIHJlYWRvbmx5IGZvcm1hdDogc3RyaW5nO1xuICAvKipcbiAgKiBUaGUgdmVyc2lvbiBvZiB0aGUgb3V0cHV0IHNjaGVtYSB0byB1c2Ugd2hlbiBleHBvcnRpbmcgQW1hem9uIFMzIFN0b3JhZ2UgTGVucyBtZXRyaWNzLlxuICAqIFxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3IvczNfc3RvcmFnZV9sZW5zLmh0bWwjb3V0cHV0X3NjaGVtYV92ZXJzaW9uIFMzU3RvcmFnZUxlbnMjb3V0cHV0X3NjaGVtYV92ZXJzaW9ufVxuICAqL1xuICByZWFkb25seSBvdXRwdXRTY2hlbWFWZXJzaW9uOiBzdHJpbmc7XG4gIC8qKlxuICAqIFRoZSBwcmVmaXggdG8gdXNlIGZvciBBbWF6b24gUzMgU3RvcmFnZSBMZW5zIGV4cG9ydC5cbiAgKiBcbiAgKiBEb2NzIGF0IFRlcnJhZm9ybSBSZWdpc3RyeToge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL3Byb3ZpZGVycy9hd3NjYy9yL3MzX3N0b3JhZ2VfbGVucy5odG1sI3ByZWZpeCBTM1N0b3JhZ2VMZW5zI3ByZWZpeH1cbiAgKi9cbiAgcmVhZG9ubHkgcHJlZml4Pzogc3RyaW5nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gczNTdG9yYWdlTGVuc1N0b3JhZ2VMZW5zQ29uZmlndXJhdGlvbkRhdGFFeHBvcnRTM0J1Y2tldERlc3RpbmF0aW9uVG9UZXJyYWZvcm0oc3RydWN0PzogUzNTdG9yYWdlTGVuc1N0b3JhZ2VMZW5zQ29uZmlndXJhdGlvbkRhdGFFeHBvcnRTM0J1Y2tldERlc3RpbmF0aW9uKTogYW55IHtcbiAgaWYgKCFjZGt0Zi5jYW5JbnNwZWN0KHN0cnVjdCkpIHsgcmV0dXJuIHN0cnVjdDsgfVxuICByZXR1cm4ge1xuICAgIGFjY291bnRfaWQ6IGNka3RmLnN0cmluZ1RvVGVycmFmb3JtKHN0cnVjdCEuYWNjb3VudElkKSxcbiAgICBhcm46IGNka3RmLnN0cmluZ1RvVGVycmFmb3JtKHN0cnVjdCEuYXJuKSxcbiAgICBlbmNyeXB0aW9uOiBjZGt0Zi5oYXNoTWFwcGVyKGNka3RmLmFueVRvVGVycmFmb3JtKShzdHJ1Y3QhLmVuY3J5cHRpb24pLFxuICAgIGZvcm1hdDogY2RrdGYuc3RyaW5nVG9UZXJyYWZvcm0oc3RydWN0IS5mb3JtYXQpLFxuICAgIG91dHB1dF9zY2hlbWFfdmVyc2lvbjogY2RrdGYuc3RyaW5nVG9UZXJyYWZvcm0oc3RydWN0IS5vdXRwdXRTY2hlbWFWZXJzaW9uKSxcbiAgICBwcmVmaXg6IGNka3RmLnN0cmluZ1RvVGVycmFmb3JtKHN0cnVjdCEucHJlZml4KSxcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFMzU3RvcmFnZUxlbnNTdG9yYWdlTGVuc0NvbmZpZ3VyYXRpb25EYXRhRXhwb3J0IHtcbiAgLyoqXG4gICogUzMgYnVja2V0IGRlc3RpbmF0aW9uIHNldHRpbmdzIGZvciB0aGUgQW1hem9uIFMzIFN0b3JhZ2UgTGVucyBtZXRyaWNzIGV4cG9ydC5cbiAgKiBcbiAgKiBEb2NzIGF0IFRlcnJhZm9ybSBSZWdpc3RyeToge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL3Byb3ZpZGVycy9hd3NjYy9yL3MzX3N0b3JhZ2VfbGVucy5odG1sI3MzX2J1Y2tldF9kZXN0aW5hdGlvbiBTM1N0b3JhZ2VMZW5zI3MzX2J1Y2tldF9kZXN0aW5hdGlvbn1cbiAgKi9cbiAgcmVhZG9ubHkgczNCdWNrZXREZXN0aW5hdGlvbjogUzNTdG9yYWdlTGVuc1N0b3JhZ2VMZW5zQ29uZmlndXJhdGlvbkRhdGFFeHBvcnRTM0J1Y2tldERlc3RpbmF0aW9uO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gczNTdG9yYWdlTGVuc1N0b3JhZ2VMZW5zQ29uZmlndXJhdGlvbkRhdGFFeHBvcnRUb1RlcnJhZm9ybShzdHJ1Y3Q/OiBTM1N0b3JhZ2VMZW5zU3RvcmFnZUxlbnNDb25maWd1cmF0aW9uRGF0YUV4cG9ydCk6IGFueSB7XG4gIGlmICghY2RrdGYuY2FuSW5zcGVjdChzdHJ1Y3QpKSB7IHJldHVybiBzdHJ1Y3Q7IH1cbiAgcmV0dXJuIHtcbiAgICBzM19idWNrZXRfZGVzdGluYXRpb246IHMzU3RvcmFnZUxlbnNTdG9yYWdlTGVuc0NvbmZpZ3VyYXRpb25EYXRhRXhwb3J0UzNCdWNrZXREZXN0aW5hdGlvblRvVGVycmFmb3JtKHN0cnVjdCEuczNCdWNrZXREZXN0aW5hdGlvbiksXG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBTM1N0b3JhZ2VMZW5zU3RvcmFnZUxlbnNDb25maWd1cmF0aW9uRXhjbHVkZSB7XG4gIC8qKlxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3IvczNfc3RvcmFnZV9sZW5zLmh0bWwjYnVja2V0cyBTM1N0b3JhZ2VMZW5zI2J1Y2tldHN9XG4gICovXG4gIHJlYWRvbmx5IGJ1Y2tldHM/OiBzdHJpbmdbXTtcbiAgLyoqXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9zM19zdG9yYWdlX2xlbnMuaHRtbCNyZWdpb25zIFMzU3RvcmFnZUxlbnMjcmVnaW9uc31cbiAgKi9cbiAgcmVhZG9ubHkgcmVnaW9ucz86IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gczNTdG9yYWdlTGVuc1N0b3JhZ2VMZW5zQ29uZmlndXJhdGlvbkV4Y2x1ZGVUb1RlcnJhZm9ybShzdHJ1Y3Q/OiBTM1N0b3JhZ2VMZW5zU3RvcmFnZUxlbnNDb25maWd1cmF0aW9uRXhjbHVkZSk6IGFueSB7XG4gIGlmICghY2RrdGYuY2FuSW5zcGVjdChzdHJ1Y3QpKSB7IHJldHVybiBzdHJ1Y3Q7IH1cbiAgcmV0dXJuIHtcbiAgICBidWNrZXRzOiBjZGt0Zi5saXN0TWFwcGVyKGNka3RmLnN0cmluZ1RvVGVycmFmb3JtKShzdHJ1Y3QhLmJ1Y2tldHMpLFxuICAgIHJlZ2lvbnM6IGNka3RmLmxpc3RNYXBwZXIoY2RrdGYuc3RyaW5nVG9UZXJyYWZvcm0pKHN0cnVjdCEucmVnaW9ucyksXG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBTM1N0b3JhZ2VMZW5zU3RvcmFnZUxlbnNDb25maWd1cmF0aW9uSW5jbHVkZSB7XG4gIC8qKlxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3IvczNfc3RvcmFnZV9sZW5zLmh0bWwjYnVja2V0cyBTM1N0b3JhZ2VMZW5zI2J1Y2tldHN9XG4gICovXG4gIHJlYWRvbmx5IGJ1Y2tldHM/OiBzdHJpbmdbXTtcbiAgLyoqXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9zM19zdG9yYWdlX2xlbnMuaHRtbCNyZWdpb25zIFMzU3RvcmFnZUxlbnMjcmVnaW9uc31cbiAgKi9cbiAgcmVhZG9ubHkgcmVnaW9ucz86IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gczNTdG9yYWdlTGVuc1N0b3JhZ2VMZW5zQ29uZmlndXJhdGlvbkluY2x1ZGVUb1RlcnJhZm9ybShzdHJ1Y3Q/OiBTM1N0b3JhZ2VMZW5zU3RvcmFnZUxlbnNDb25maWd1cmF0aW9uSW5jbHVkZSk6IGFueSB7XG4gIGlmICghY2RrdGYuY2FuSW5zcGVjdChzdHJ1Y3QpKSB7IHJldHVybiBzdHJ1Y3Q7IH1cbiAgcmV0dXJuIHtcbiAgICBidWNrZXRzOiBjZGt0Zi5saXN0TWFwcGVyKGNka3RmLnN0cmluZ1RvVGVycmFmb3JtKShzdHJ1Y3QhLmJ1Y2tldHMpLFxuICAgIHJlZ2lvbnM6IGNka3RmLmxpc3RNYXBwZXIoY2RrdGYuc3RyaW5nVG9UZXJyYWZvcm0pKHN0cnVjdCEucmVnaW9ucyksXG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBTM1N0b3JhZ2VMZW5zU3RvcmFnZUxlbnNDb25maWd1cmF0aW9uIHtcbiAgLyoqXG4gICogQWNjb3VudC1sZXZlbCBtZXRyaWNzIGNvbmZpZ3VyYXRpb25zLlxuICAqIFxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3IvczNfc3RvcmFnZV9sZW5zLmh0bWwjYWNjb3VudF9sZXZlbCBTM1N0b3JhZ2VMZW5zI2FjY291bnRfbGV2ZWx9XG4gICovXG4gIHJlYWRvbmx5IGFjY291bnRMZXZlbDogUzNTdG9yYWdlTGVuc1N0b3JhZ2VMZW5zQ29uZmlndXJhdGlvbkFjY291bnRMZXZlbDtcbiAgLyoqXG4gICogVGhlIEFXUyBPcmdhbml6YXRpb25zIEFSTiB0byB1c2UgaW4gdGhlIEFtYXpvbiBTMyBTdG9yYWdlIExlbnMgY29uZmlndXJhdGlvbi5cbiAgKiBcbiAgKiBEb2NzIGF0IFRlcnJhZm9ybSBSZWdpc3RyeToge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL3Byb3ZpZGVycy9hd3NjYy9yL3MzX3N0b3JhZ2VfbGVucy5odG1sI2F3c19vcmcgUzNTdG9yYWdlTGVucyNhd3Nfb3JnfVxuICAqL1xuICByZWFkb25seSBhd3NPcmc/OiBTM1N0b3JhZ2VMZW5zU3RvcmFnZUxlbnNDb25maWd1cmF0aW9uQXdzT3JnO1xuICAvKipcbiAgKiBTcGVjaWZpZXMgaG93IEFtYXpvbiBTMyBTdG9yYWdlIExlbnMgbWV0cmljcyBzaG91bGQgYmUgZXhwb3J0ZWQuXG4gICogXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9zM19zdG9yYWdlX2xlbnMuaHRtbCNkYXRhX2V4cG9ydCBTM1N0b3JhZ2VMZW5zI2RhdGFfZXhwb3J0fVxuICAqL1xuICByZWFkb25seSBkYXRhRXhwb3J0PzogUzNTdG9yYWdlTGVuc1N0b3JhZ2VMZW5zQ29uZmlndXJhdGlvbkRhdGFFeHBvcnQ7XG4gIC8qKlxuICAqIFMzIGJ1Y2tldHMgYW5kIFJlZ2lvbnMgdG8gaW5jbHVkZS9leGNsdWRlIGluIHRoZSBBbWF6b24gUzMgU3RvcmFnZSBMZW5zIGNvbmZpZ3VyYXRpb24uXG4gICogXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9zM19zdG9yYWdlX2xlbnMuaHRtbCNleGNsdWRlIFMzU3RvcmFnZUxlbnMjZXhjbHVkZX1cbiAgKi9cbiAgcmVhZG9ubHkgZXhjbHVkZT86IFMzU3RvcmFnZUxlbnNTdG9yYWdlTGVuc0NvbmZpZ3VyYXRpb25FeGNsdWRlO1xuICAvKipcbiAgKiBUaGUgSUQgdGhhdCBpZGVudGlmaWVzIHRoZSBBbWF6b24gUzMgU3RvcmFnZSBMZW5zIGNvbmZpZ3VyYXRpb24uXG4gICogXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9zM19zdG9yYWdlX2xlbnMuaHRtbCNpZCBTM1N0b3JhZ2VMZW5zI2lkfVxuICAqL1xuICByZWFkb25seSBpZDogc3RyaW5nO1xuICAvKipcbiAgKiBTMyBidWNrZXRzIGFuZCBSZWdpb25zIHRvIGluY2x1ZGUvZXhjbHVkZSBpbiB0aGUgQW1hem9uIFMzIFN0b3JhZ2UgTGVucyBjb25maWd1cmF0aW9uLlxuICAqIFxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3IvczNfc3RvcmFnZV9sZW5zLmh0bWwjaW5jbHVkZSBTM1N0b3JhZ2VMZW5zI2luY2x1ZGV9XG4gICovXG4gIHJlYWRvbmx5IGluY2x1ZGU/OiBTM1N0b3JhZ2VMZW5zU3RvcmFnZUxlbnNDb25maWd1cmF0aW9uSW5jbHVkZTtcbiAgLyoqXG4gICogU3BlY2lmaWVzIHdoZXRoZXIgdGhlIEFtYXpvbiBTMyBTdG9yYWdlIExlbnMgY29uZmlndXJhdGlvbiBpcyBlbmFibGVkIG9yIGRpc2FibGVkLlxuICAqIFxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3IvczNfc3RvcmFnZV9sZW5zLmh0bWwjaXNfZW5hYmxlZCBTM1N0b3JhZ2VMZW5zI2lzX2VuYWJsZWR9XG4gICovXG4gIHJlYWRvbmx5IGlzRW5hYmxlZDogYm9vbGVhbiB8IGNka3RmLklSZXNvbHZhYmxlO1xuICAvKipcbiAgKiBUaGUgQVJOIGZvciB0aGUgQW1hem9uIFMzIFN0b3JhZ2UgTGVucyBjb25maWd1cmF0aW9uLlxuICAqIFxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3IvczNfc3RvcmFnZV9sZW5zLmh0bWwjc3RvcmFnZV9sZW5zX2FybiBTM1N0b3JhZ2VMZW5zI3N0b3JhZ2VfbGVuc19hcm59XG4gICovXG4gIHJlYWRvbmx5IHN0b3JhZ2VMZW5zQXJuOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzM1N0b3JhZ2VMZW5zU3RvcmFnZUxlbnNDb25maWd1cmF0aW9uVG9UZXJyYWZvcm0oc3RydWN0PzogUzNTdG9yYWdlTGVuc1N0b3JhZ2VMZW5zQ29uZmlndXJhdGlvbik6IGFueSB7XG4gIGlmICghY2RrdGYuY2FuSW5zcGVjdChzdHJ1Y3QpKSB7IHJldHVybiBzdHJ1Y3Q7IH1cbiAgcmV0dXJuIHtcbiAgICBhY2NvdW50X2xldmVsOiBzM1N0b3JhZ2VMZW5zU3RvcmFnZUxlbnNDb25maWd1cmF0aW9uQWNjb3VudExldmVsVG9UZXJyYWZvcm0oc3RydWN0IS5hY2NvdW50TGV2ZWwpLFxuICAgIGF3c19vcmc6IHMzU3RvcmFnZUxlbnNTdG9yYWdlTGVuc0NvbmZpZ3VyYXRpb25Bd3NPcmdUb1RlcnJhZm9ybShzdHJ1Y3QhLmF3c09yZyksXG4gICAgZGF0YV9leHBvcnQ6IHMzU3RvcmFnZUxlbnNTdG9yYWdlTGVuc0NvbmZpZ3VyYXRpb25EYXRhRXhwb3J0VG9UZXJyYWZvcm0oc3RydWN0IS5kYXRhRXhwb3J0KSxcbiAgICBleGNsdWRlOiBzM1N0b3JhZ2VMZW5zU3RvcmFnZUxlbnNDb25maWd1cmF0aW9uRXhjbHVkZVRvVGVycmFmb3JtKHN0cnVjdCEuZXhjbHVkZSksXG4gICAgaWQ6IGNka3RmLnN0cmluZ1RvVGVycmFmb3JtKHN0cnVjdCEuaWQpLFxuICAgIGluY2x1ZGU6IHMzU3RvcmFnZUxlbnNTdG9yYWdlTGVuc0NvbmZpZ3VyYXRpb25JbmNsdWRlVG9UZXJyYWZvcm0oc3RydWN0IS5pbmNsdWRlKSxcbiAgICBpc19lbmFibGVkOiBjZGt0Zi5ib29sZWFuVG9UZXJyYWZvcm0oc3RydWN0IS5pc0VuYWJsZWQpLFxuICAgIHN0b3JhZ2VfbGVuc19hcm46IGNka3RmLnN0cmluZ1RvVGVycmFmb3JtKHN0cnVjdCEuc3RvcmFnZUxlbnNBcm4pLFxuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUzNTdG9yYWdlTGVuc1RhZ3Mge1xuICAvKipcbiAgKiBEb2NzIGF0IFRlcnJhZm9ybSBSZWdpc3RyeToge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL3Byb3ZpZGVycy9hd3NjYy9yL3MzX3N0b3JhZ2VfbGVucy5odG1sI2tleSBTM1N0b3JhZ2VMZW5zI2tleX1cbiAgKi9cbiAgcmVhZG9ubHkga2V5OiBzdHJpbmc7XG4gIC8qKlxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3IvczNfc3RvcmFnZV9sZW5zLmh0bWwjdmFsdWUgUzNTdG9yYWdlTGVucyN2YWx1ZX1cbiAgKi9cbiAgcmVhZG9ubHkgdmFsdWU6IHN0cmluZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHMzU3RvcmFnZUxlbnNUYWdzVG9UZXJyYWZvcm0oc3RydWN0PzogUzNTdG9yYWdlTGVuc1RhZ3MpOiBhbnkge1xuICBpZiAoIWNka3RmLmNhbkluc3BlY3Qoc3RydWN0KSkgeyByZXR1cm4gc3RydWN0OyB9XG4gIHJldHVybiB7XG4gICAga2V5OiBjZGt0Zi5zdHJpbmdUb1RlcnJhZm9ybShzdHJ1Y3QhLmtleSksXG4gICAgdmFsdWU6IGNka3RmLnN0cmluZ1RvVGVycmFmb3JtKHN0cnVjdCEudmFsdWUpLFxuICB9XG59XG5cblxuLyoqXG4qIFJlcHJlc2VudHMgYSB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3IvczNfc3RvcmFnZV9sZW5zLmh0bWwgYXdzY2NfczNfc3RvcmFnZV9sZW5zfVxuKi9cbmV4cG9ydCBjbGFzcyBTM1N0b3JhZ2VMZW5zIGV4dGVuZHMgY2RrdGYuVGVycmFmb3JtUmVzb3VyY2Uge1xuXG4gIC8vID09PT09PT09PT09PT09PT09XG4gIC8vIFNUQVRJQyBQUk9QRVJUSUVTXG4gIC8vID09PT09PT09PT09PT09PT09XG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgdGZSZXNvdXJjZVR5cGU6IHN0cmluZyA9IFwiYXdzY2NfczNfc3RvcmFnZV9sZW5zXCI7XG5cbiAgLy8gPT09PT09PT09PT1cbiAgLy8gSU5JVElBTElaRVJcbiAgLy8gPT09PT09PT09PT1cblxuICAvKipcbiAgKiBDcmVhdGUgYSBuZXcge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL3Byb3ZpZGVycy9hd3NjYy9yL3MzX3N0b3JhZ2VfbGVucy5odG1sIGF3c2NjX3MzX3N0b3JhZ2VfbGVuc30gUmVzb3VyY2VcbiAgKlxuICAqIEBwYXJhbSBzY29wZSBUaGUgc2NvcGUgaW4gd2hpY2ggdG8gZGVmaW5lIHRoaXMgY29uc3RydWN0XG4gICogQHBhcmFtIGlkIFRoZSBzY29wZWQgY29uc3RydWN0IElELiBNdXN0IGJlIHVuaXF1ZSBhbW9uZ3N0IHNpYmxpbmdzIGluIHRoZSBzYW1lIHNjb3BlXG4gICogQHBhcmFtIG9wdGlvbnMgUzNTdG9yYWdlTGVuc0NvbmZpZ1xuICAqL1xuICBwdWJsaWMgY29uc3RydWN0b3Ioc2NvcGU6IENvbnN0cnVjdCwgaWQ6IHN0cmluZywgY29uZmlnOiBTM1N0b3JhZ2VMZW5zQ29uZmlnKSB7XG4gICAgc3VwZXIoc2NvcGUsIGlkLCB7XG4gICAgICB0ZXJyYWZvcm1SZXNvdXJjZVR5cGU6ICdhd3NjY19zM19zdG9yYWdlX2xlbnMnLFxuICAgICAgdGVycmFmb3JtR2VuZXJhdG9yTWV0YWRhdGE6IHtcbiAgICAgICAgcHJvdmlkZXJOYW1lOiAnYXdzY2MnXG4gICAgICB9LFxuICAgICAgcHJvdmlkZXI6IGNvbmZpZy5wcm92aWRlcixcbiAgICAgIGRlcGVuZHNPbjogY29uZmlnLmRlcGVuZHNPbixcbiAgICAgIGNvdW50OiBjb25maWcuY291bnQsXG4gICAgICBsaWZlY3ljbGU6IGNvbmZpZy5saWZlY3ljbGVcbiAgICB9KTtcbiAgICB0aGlzLl9zdG9yYWdlTGVuc0NvbmZpZ3VyYXRpb24gPSBjb25maWcuc3RvcmFnZUxlbnNDb25maWd1cmF0aW9uO1xuICAgIHRoaXMuX3RhZ3MgPSBjb25maWcudGFncztcbiAgfVxuXG4gIC8vID09PT09PT09PT1cbiAgLy8gQVRUUklCVVRFU1xuICAvLyA9PT09PT09PT09XG5cbiAgLy8gaWQgLSBjb21wdXRlZDogdHJ1ZSwgb3B0aW9uYWw6IGZhbHNlLCByZXF1aXJlZDogZmFsc2VcbiAgcHVibGljIGdldCBpZCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRTdHJpbmdBdHRyaWJ1dGUoJ2lkJyk7XG4gIH1cblxuICAvLyBzdG9yYWdlX2xlbnNfY29uZmlndXJhdGlvbiAtIGNvbXB1dGVkOiBmYWxzZSwgb3B0aW9uYWw6IGZhbHNlLCByZXF1aXJlZDogdHJ1ZVxuICBwcml2YXRlIF9zdG9yYWdlTGVuc0NvbmZpZ3VyYXRpb246IFMzU3RvcmFnZUxlbnNTdG9yYWdlTGVuc0NvbmZpZ3VyYXRpb247XG4gIHB1YmxpYyBnZXQgc3RvcmFnZUxlbnNDb25maWd1cmF0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmludGVycG9sYXRpb25Gb3JBdHRyaWJ1dGUoJ3N0b3JhZ2VfbGVuc19jb25maWd1cmF0aW9uJykgYXMgYW55O1xuICB9XG4gIHB1YmxpYyBzZXQgc3RvcmFnZUxlbnNDb25maWd1cmF0aW9uKHZhbHVlOiBTM1N0b3JhZ2VMZW5zU3RvcmFnZUxlbnNDb25maWd1cmF0aW9uKSB7XG4gICAgdGhpcy5fc3RvcmFnZUxlbnNDb25maWd1cmF0aW9uID0gdmFsdWU7XG4gIH1cbiAgLy8gVGVtcG9yYXJpbHkgZXhwb3NlIGlucHV0IHZhbHVlLiBVc2Ugd2l0aCBjYXV0aW9uLlxuICBwdWJsaWMgZ2V0IHN0b3JhZ2VMZW5zQ29uZmlndXJhdGlvbklucHV0KCkge1xuICAgIHJldHVybiB0aGlzLl9zdG9yYWdlTGVuc0NvbmZpZ3VyYXRpb25cbiAgfVxuXG4gIC8vIHRhZ3MgLSBjb21wdXRlZDogZmFsc2UsIG9wdGlvbmFsOiB0cnVlLCByZXF1aXJlZDogZmFsc2VcbiAgcHJpdmF0ZSBfdGFncz86IFMzU3RvcmFnZUxlbnNUYWdzW107XG4gIHB1YmxpYyBnZXQgdGFncygpIHtcbiAgICByZXR1cm4gdGhpcy5pbnRlcnBvbGF0aW9uRm9yQXR0cmlidXRlKCd0YWdzJykgYXMgYW55O1xuICB9XG4gIHB1YmxpYyBzZXQgdGFncyh2YWx1ZTogUzNTdG9yYWdlTGVuc1RhZ3NbXSApIHtcbiAgICB0aGlzLl90YWdzID0gdmFsdWU7XG4gIH1cbiAgcHVibGljIHJlc2V0VGFncygpIHtcbiAgICB0aGlzLl90YWdzID0gdW5kZWZpbmVkO1xuICB9XG4gIC8vIFRlbXBvcmFyaWx5IGV4cG9zZSBpbnB1dCB2YWx1ZS4gVXNlIHdpdGggY2F1dGlvbi5cbiAgcHVibGljIGdldCB0YWdzSW5wdXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RhZ3NcbiAgfVxuXG4gIC8vID09PT09PT09PVxuICAvLyBTWU5USEVTSVNcbiAgLy8gPT09PT09PT09XG5cbiAgcHJvdGVjdGVkIHN5bnRoZXNpemVBdHRyaWJ1dGVzKCk6IHsgW25hbWU6IHN0cmluZ106IGFueSB9IHtcbiAgICByZXR1cm4ge1xuICAgICAgc3RvcmFnZV9sZW5zX2NvbmZpZ3VyYXRpb246IHMzU3RvcmFnZUxlbnNTdG9yYWdlTGVuc0NvbmZpZ3VyYXRpb25Ub1RlcnJhZm9ybSh0aGlzLl9zdG9yYWdlTGVuc0NvbmZpZ3VyYXRpb24pLFxuICAgICAgdGFnczogY2RrdGYubGlzdE1hcHBlcihzM1N0b3JhZ2VMZW5zVGFnc1RvVGVycmFmb3JtKSh0aGlzLl90YWdzKSxcbiAgICB9O1xuICB9XG59XG4iXX0=