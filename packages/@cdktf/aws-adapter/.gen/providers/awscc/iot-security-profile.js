"use strict";
// https://www.terraform.io/docs/providers/awscc/r/iot_security_profile.html
// generated from terraform resource schema
Object.defineProperty(exports, "__esModule", { value: true });
exports.IotSecurityProfile = exports.iotSecurityProfileTagsToTerraform = exports.iotSecurityProfileBehaviorsToTerraform = exports.iotSecurityProfileBehaviorsMetricDimensionToTerraform = exports.iotSecurityProfileBehaviorsCriteriaToTerraform = exports.iotSecurityProfileBehaviorsCriteriaValueToTerraform = exports.iotSecurityProfileBehaviorsCriteriaStatisticalThresholdToTerraform = exports.iotSecurityProfileBehaviorsCriteriaMlDetectionConfigToTerraform = exports.iotSecurityProfileAlertTargetsToTerraform = exports.iotSecurityProfileAdditionalMetricsToRetainV2ToTerraform = exports.iotSecurityProfileAdditionalMetricsToRetainV2MetricDimensionToTerraform = void 0;
const cdktf = require("cdktf");
function iotSecurityProfileAdditionalMetricsToRetainV2MetricDimensionToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        dimension_name: cdktf.stringToTerraform(struct.dimensionName),
        operator: cdktf.stringToTerraform(struct.operator),
    };
}
exports.iotSecurityProfileAdditionalMetricsToRetainV2MetricDimensionToTerraform = iotSecurityProfileAdditionalMetricsToRetainV2MetricDimensionToTerraform;
function iotSecurityProfileAdditionalMetricsToRetainV2ToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        metric: cdktf.stringToTerraform(struct.metric),
        metric_dimension: iotSecurityProfileAdditionalMetricsToRetainV2MetricDimensionToTerraform(struct.metricDimension),
    };
}
exports.iotSecurityProfileAdditionalMetricsToRetainV2ToTerraform = iotSecurityProfileAdditionalMetricsToRetainV2ToTerraform;
function iotSecurityProfileAlertTargetsToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        alert_target_arn: cdktf.stringToTerraform(struct.alertTargetArn),
        role_arn: cdktf.stringToTerraform(struct.roleArn),
    };
}
exports.iotSecurityProfileAlertTargetsToTerraform = iotSecurityProfileAlertTargetsToTerraform;
function iotSecurityProfileBehaviorsCriteriaMlDetectionConfigToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        confidence_level: cdktf.stringToTerraform(struct.confidenceLevel),
    };
}
exports.iotSecurityProfileBehaviorsCriteriaMlDetectionConfigToTerraform = iotSecurityProfileBehaviorsCriteriaMlDetectionConfigToTerraform;
function iotSecurityProfileBehaviorsCriteriaStatisticalThresholdToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        statistic: cdktf.stringToTerraform(struct.statistic),
    };
}
exports.iotSecurityProfileBehaviorsCriteriaStatisticalThresholdToTerraform = iotSecurityProfileBehaviorsCriteriaStatisticalThresholdToTerraform;
function iotSecurityProfileBehaviorsCriteriaValueToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        cidrs: cdktf.listMapper(cdktf.stringToTerraform)(struct.cidrs),
        count: cdktf.stringToTerraform(struct.count),
        number: cdktf.numberToTerraform(struct.number),
        numbers: cdktf.listMapper(cdktf.numberToTerraform)(struct.numbers),
        ports: cdktf.listMapper(cdktf.numberToTerraform)(struct.ports),
        strings: cdktf.listMapper(cdktf.stringToTerraform)(struct.strings),
    };
}
exports.iotSecurityProfileBehaviorsCriteriaValueToTerraform = iotSecurityProfileBehaviorsCriteriaValueToTerraform;
function iotSecurityProfileBehaviorsCriteriaToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        comparison_operator: cdktf.stringToTerraform(struct.comparisonOperator),
        consecutive_datapoints_to_alarm: cdktf.numberToTerraform(struct.consecutiveDatapointsToAlarm),
        consecutive_datapoints_to_clear: cdktf.numberToTerraform(struct.consecutiveDatapointsToClear),
        duration_seconds: cdktf.numberToTerraform(struct.durationSeconds),
        ml_detection_config: iotSecurityProfileBehaviorsCriteriaMlDetectionConfigToTerraform(struct.mlDetectionConfig),
        statistical_threshold: iotSecurityProfileBehaviorsCriteriaStatisticalThresholdToTerraform(struct.statisticalThreshold),
        value: iotSecurityProfileBehaviorsCriteriaValueToTerraform(struct.value),
    };
}
exports.iotSecurityProfileBehaviorsCriteriaToTerraform = iotSecurityProfileBehaviorsCriteriaToTerraform;
function iotSecurityProfileBehaviorsMetricDimensionToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        dimension_name: cdktf.stringToTerraform(struct.dimensionName),
        operator: cdktf.stringToTerraform(struct.operator),
    };
}
exports.iotSecurityProfileBehaviorsMetricDimensionToTerraform = iotSecurityProfileBehaviorsMetricDimensionToTerraform;
function iotSecurityProfileBehaviorsToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        criteria: iotSecurityProfileBehaviorsCriteriaToTerraform(struct.criteria),
        metric: cdktf.stringToTerraform(struct.metric),
        metric_dimension: iotSecurityProfileBehaviorsMetricDimensionToTerraform(struct.metricDimension),
        name: cdktf.stringToTerraform(struct.name),
        suppress_alerts: cdktf.booleanToTerraform(struct.suppressAlerts),
    };
}
exports.iotSecurityProfileBehaviorsToTerraform = iotSecurityProfileBehaviorsToTerraform;
function iotSecurityProfileTagsToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        key: cdktf.stringToTerraform(struct.key),
        value: cdktf.stringToTerraform(struct.value),
    };
}
exports.iotSecurityProfileTagsToTerraform = iotSecurityProfileTagsToTerraform;
/**
* Represents a {@link https://www.terraform.io/docs/providers/awscc/r/iot_security_profile.html awscc_iot_security_profile}
*/
class IotSecurityProfile extends cdktf.TerraformResource {
    // ===========
    // INITIALIZER
    // ===========
    /**
    * Create a new {@link https://www.terraform.io/docs/providers/awscc/r/iot_security_profile.html awscc_iot_security_profile} Resource
    *
    * @param scope The scope in which to define this construct
    * @param id The scoped construct ID. Must be unique amongst siblings in the same scope
    * @param options IotSecurityProfileConfig = {}
    */
    constructor(scope, id, config = {}) {
        super(scope, id, {
            terraformResourceType: 'awscc_iot_security_profile',
            terraformGeneratorMetadata: {
                providerName: 'awscc'
            },
            provider: config.provider,
            dependsOn: config.dependsOn,
            count: config.count,
            lifecycle: config.lifecycle
        });
        this._additionalMetricsToRetainV2 = config.additionalMetricsToRetainV2;
        this._alertTargets = config.alertTargets;
        this._behaviors = config.behaviors;
        this._securityProfileDescription = config.securityProfileDescription;
        this._securityProfileName = config.securityProfileName;
        this._tags = config.tags;
        this._targetArns = config.targetArns;
    }
    get additionalMetricsToRetainV2() {
        return this.interpolationForAttribute('additional_metrics_to_retain_v2');
    }
    set additionalMetricsToRetainV2(value) {
        this._additionalMetricsToRetainV2 = value;
    }
    resetAdditionalMetricsToRetainV2() {
        this._additionalMetricsToRetainV2 = undefined;
    }
    // Temporarily expose input value. Use with caution.
    get additionalMetricsToRetainV2Input() {
        return this._additionalMetricsToRetainV2;
    }
    get alertTargets() {
        return this.interpolationForAttribute('alert_targets');
    }
    set alertTargets(value) {
        this._alertTargets = value;
    }
    resetAlertTargets() {
        this._alertTargets = undefined;
    }
    // Temporarily expose input value. Use with caution.
    get alertTargetsInput() {
        return this._alertTargets;
    }
    get behaviors() {
        return this.interpolationForAttribute('behaviors');
    }
    set behaviors(value) {
        this._behaviors = value;
    }
    resetBehaviors() {
        this._behaviors = undefined;
    }
    // Temporarily expose input value. Use with caution.
    get behaviorsInput() {
        return this._behaviors;
    }
    // id - computed: true, optional: false, required: false
    get id() {
        return this.getStringAttribute('id');
    }
    // security_profile_arn - computed: true, optional: false, required: false
    get securityProfileArn() {
        return this.getStringAttribute('security_profile_arn');
    }
    get securityProfileDescription() {
        return this.getStringAttribute('security_profile_description');
    }
    set securityProfileDescription(value) {
        this._securityProfileDescription = value;
    }
    resetSecurityProfileDescription() {
        this._securityProfileDescription = undefined;
    }
    // Temporarily expose input value. Use with caution.
    get securityProfileDescriptionInput() {
        return this._securityProfileDescription;
    }
    get securityProfileName() {
        return this.getStringAttribute('security_profile_name');
    }
    set securityProfileName(value) {
        this._securityProfileName = value;
    }
    resetSecurityProfileName() {
        this._securityProfileName = undefined;
    }
    // Temporarily expose input value. Use with caution.
    get securityProfileNameInput() {
        return this._securityProfileName;
    }
    get tags() {
        return this.interpolationForAttribute('tags');
    }
    set tags(value) {
        this._tags = value;
    }
    resetTags() {
        this._tags = undefined;
    }
    // Temporarily expose input value. Use with caution.
    get tagsInput() {
        return this._tags;
    }
    get targetArns() {
        return this.getListAttribute('target_arns');
    }
    set targetArns(value) {
        this._targetArns = value;
    }
    resetTargetArns() {
        this._targetArns = undefined;
    }
    // Temporarily expose input value. Use with caution.
    get targetArnsInput() {
        return this._targetArns;
    }
    // =========
    // SYNTHESIS
    // =========
    synthesizeAttributes() {
        return {
            additional_metrics_to_retain_v2: cdktf.listMapper(iotSecurityProfileAdditionalMetricsToRetainV2ToTerraform)(this._additionalMetricsToRetainV2),
            alert_targets: cdktf.hashMapper(cdktf.anyToTerraform)(this._alertTargets),
            behaviors: cdktf.listMapper(iotSecurityProfileBehaviorsToTerraform)(this._behaviors),
            security_profile_description: cdktf.stringToTerraform(this._securityProfileDescription),
            security_profile_name: cdktf.stringToTerraform(this._securityProfileName),
            tags: cdktf.listMapper(iotSecurityProfileTagsToTerraform)(this._tags),
            target_arns: cdktf.listMapper(cdktf.stringToTerraform)(this._targetArns),
        };
    }
}
exports.IotSecurityProfile = IotSecurityProfile;
// =================
// STATIC PROPERTIES
// =================
IotSecurityProfile.tfResourceType = "awscc_iot_security_profile";
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW90LXNlY3VyaXR5LXByb2ZpbGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpb3Qtc2VjdXJpdHktcHJvZmlsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsNEVBQTRFO0FBQzVFLDJDQUEyQzs7O0FBRzNDLCtCQUErQjtBQStEL0IsU0FBZ0IsdUVBQXVFLENBQUMsTUFBcUU7SUFDM0osSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLEVBQUU7UUFBRSxPQUFPLE1BQU0sQ0FBQztLQUFFO0lBQ2pELE9BQU87UUFDTCxjQUFjLEVBQUUsS0FBSyxDQUFDLGlCQUFpQixDQUFDLE1BQU8sQ0FBQyxhQUFhLENBQUM7UUFDOUQsUUFBUSxFQUFFLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxNQUFPLENBQUMsUUFBUSxDQUFDO0tBQ3BELENBQUE7QUFDSCxDQUFDO0FBTkQsMEpBTUM7QUFpQkQsU0FBZ0Isd0RBQXdELENBQUMsTUFBc0Q7SUFDN0gsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLEVBQUU7UUFBRSxPQUFPLE1BQU0sQ0FBQztLQUFFO0lBQ2pELE9BQU87UUFDTCxNQUFNLEVBQUUsS0FBSyxDQUFDLGlCQUFpQixDQUFDLE1BQU8sQ0FBQyxNQUFNLENBQUM7UUFDL0MsZ0JBQWdCLEVBQUUsdUVBQXVFLENBQUMsTUFBTyxDQUFDLGVBQWUsQ0FBQztLQUNuSCxDQUFBO0FBQ0gsQ0FBQztBQU5ELDRIQU1DO0FBaUJELFNBQWdCLHlDQUF5QyxDQUFDLE1BQXVDO0lBQy9GLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1FBQUUsT0FBTyxNQUFNLENBQUM7S0FBRTtJQUNqRCxPQUFPO1FBQ0wsZ0JBQWdCLEVBQUUsS0FBSyxDQUFDLGlCQUFpQixDQUFDLE1BQU8sQ0FBQyxjQUFjLENBQUM7UUFDakUsUUFBUSxFQUFFLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxN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QyxXQUFXLENBQUE7SUFDekIsQ0FBQztJQUVELFlBQVk7SUFDWixZQUFZO0lBQ1osWUFBWTtJQUVGLG9CQUFvQjtRQUM1QixPQUFPO1lBQ0wsK0JBQStCLEVBQUUsS0FBSyxDQUFDLFVBQVUsQ0FBQyx3REFBd0QsQ0FBQyxDQUFDLElBQUksQ0FBQyw0QkFBNEIsQ0FBQztZQUM5SSxhQUFhLEVBQUUsS0FBSyxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsY0FBYyxDQUFDLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQztZQUN6RSxTQUFTLEVBQUUsS0FBSyxDQUFDLFVBQVUsQ0FBQyxzQ0FBc0MsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUM7WUFDcEYsNEJBQTRCLEVBQUUsS0FBSyxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQywyQkFBMkIsQ0FBQztZQUN2RixxQkFBcUIsRUFBRSxLQUFLLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLG9CQUFvQixDQUFDO1lBQ3pFLElBQUksRUFBRSxLQUFLLENBQUMsVUFBVSxDQUFDLGlDQUFpQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztZQUNyRSxXQUFXLEVBQUUsS0FBSyxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDO1NBQ3pFLENBQUM7SUFDSixDQUFDOztBQWxMSCxnREFtTEM7QUFqTEMsb0JBQW9CO0FBQ3BCLG9CQUFvQjtBQUNwQixvQkFBb0I7QUFDRyxpQ0FBYyxHQUFXLDRCQUE0QixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3IvaW90X3NlY3VyaXR5X3Byb2ZpbGUuaHRtbFxuLy8gZ2VuZXJhdGVkIGZyb20gdGVycmFmb3JtIHJlc291cmNlIHNjaGVtYVxuXG5pbXBvcnQgeyBDb25zdHJ1Y3QgfSBmcm9tICdjb25zdHJ1Y3RzJztcbmltcG9ydCAqIGFzIGNka3RmIGZyb20gJ2Nka3RmJztcblxuLy8gQ29uZmlndXJhdGlvblxuXG5leHBvcnQgaW50ZXJmYWNlIElvdFNlY3VyaXR5UHJvZmlsZUNvbmZpZyBleHRlbmRzIGNka3RmLlRlcnJhZm9ybU1ldGFBcmd1bWVudHMge1xuICAvKipcbiAgKiBBIGxpc3Qgb2YgbWV0cmljcyB3aG9zZSBkYXRhIGlzIHJldGFpbmVkIChzdG9yZWQpLiBCeSBkZWZhdWx0LCBkYXRhIGlzIHJldGFpbmVkIGZvciBhbnkgbWV0cmljIHVzZWQgaW4gdGhlIHByb2ZpbGUncyBiZWhhdmlvcnMsIGJ1dCBpdCBpcyBhbHNvIHJldGFpbmVkIGZvciBhbnkgbWV0cmljIHNwZWNpZmllZCBoZXJlLlxuICAqIFxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3IvaW90X3NlY3VyaXR5X3Byb2ZpbGUuaHRtbCNhZGRpdGlvbmFsX21ldHJpY3NfdG9fcmV0YWluX3YyIElvdFNlY3VyaXR5UHJvZmlsZSNhZGRpdGlvbmFsX21ldHJpY3NfdG9fcmV0YWluX3YyfVxuICAqL1xuICByZWFkb25seSBhZGRpdGlvbmFsTWV0cmljc1RvUmV0YWluVjI/OiBJb3RTZWN1cml0eVByb2ZpbGVBZGRpdGlvbmFsTWV0cmljc1RvUmV0YWluVjJbXTtcbiAgLyoqXG4gICogU3BlY2lmaWVzIHRoZSBkZXN0aW5hdGlvbnMgdG8gd2hpY2ggYWxlcnRzIGFyZSBzZW50LlxuICAqIFxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3IvaW90X3NlY3VyaXR5X3Byb2ZpbGUuaHRtbCNhbGVydF90YXJnZXRzIElvdFNlY3VyaXR5UHJvZmlsZSNhbGVydF90YXJnZXRzfVxuICAqL1xuICByZWFkb25seSBhbGVydFRhcmdldHM/OiB7IFtrZXk6IHN0cmluZ106IElvdFNlY3VyaXR5UHJvZmlsZUFsZXJ0VGFyZ2V0cyB9IHwgY2RrdGYuSVJlc29sdmFibGU7XG4gIC8qKlxuICAqIFNwZWNpZmllcyB0aGUgYmVoYXZpb3JzIHRoYXQsIHdoZW4gdmlvbGF0ZWQgYnkgYSBkZXZpY2UgKHRoaW5nKSwgY2F1c2UgYW4gYWxlcnQuXG4gICogXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9pb3Rfc2VjdXJpdHlfcHJvZmlsZS5odG1sI2JlaGF2aW9ycyBJb3RTZWN1cml0eVByb2ZpbGUjYmVoYXZpb3JzfVxuICAqL1xuICByZWFkb25seSBiZWhhdmlvcnM/OiBJb3RTZWN1cml0eVByb2ZpbGVCZWhhdmlvcnNbXTtcbiAgLyoqXG4gICogQSBkZXNjcmlwdGlvbiBvZiB0aGUgc2VjdXJpdHkgcHJvZmlsZS5cbiAgKiBcbiAgKiBEb2NzIGF0IFRlcnJhZm9ybSBSZWdpc3RyeToge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL3Byb3ZpZGVycy9hd3NjYy9yL2lvdF9zZWN1cml0eV9wcm9maWxlLmh0bWwjc2VjdXJpdHlfcHJvZmlsZV9kZXNjcmlwdGlvbiBJb3RTZWN1cml0eVByb2ZpbGUjc2VjdXJpdHlfcHJvZmlsZV9kZXNjcmlwdGlvbn1cbiAgKi9cbiAgcmVhZG9ubHkgc2VjdXJpdHlQcm9maWxlRGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIC8qKlxuICAqIEEgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSBzZWN1cml0eSBwcm9maWxlLlxuICAqIFxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3IvaW90X3NlY3VyaXR5X3Byb2ZpbGUuaHRtbCNzZWN1cml0eV9wcm9maWxlX25hbWUgSW90U2VjdXJpdHlQcm9maWxlI3NlY3VyaXR5X3Byb2ZpbGVfbmFtZX1cbiAgKi9cbiAgcmVhZG9ubHkgc2VjdXJpdHlQcm9maWxlTmFtZT86IHN0cmluZztcbiAgLyoqXG4gICogTWV0YWRhdGEgdGhhdCBjYW4gYmUgdXNlZCB0byBtYW5hZ2UgdGhlIHNlY3VyaXR5IHByb2ZpbGUuXG4gICogXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9pb3Rfc2VjdXJpdHlfcHJvZmlsZS5odG1sI3RhZ3MgSW90U2VjdXJpdHlQcm9maWxlI3RhZ3N9XG4gICovXG4gIHJlYWRvbmx5IHRhZ3M/OiBJb3RTZWN1cml0eVByb2ZpbGVUYWdzW107XG4gIC8qKlxuICAqIEEgc2V0IG9mIHRhcmdldCBBUk5zIHRoYXQgdGhlIHNlY3VyaXR5IHByb2ZpbGUgaXMgYXR0YWNoZWQgdG8uXG4gICogXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9pb3Rfc2VjdXJpdHlfcHJvZmlsZS5odG1sI3RhcmdldF9hcm5zIElvdFNlY3VyaXR5UHJvZmlsZSN0YXJnZXRfYXJuc31cbiAgKi9cbiAgcmVhZG9ubHkgdGFyZ2V0QXJucz86IHN0cmluZ1tdO1xufVxuZXhwb3J0IGludGVyZmFjZSBJb3RTZWN1cml0eVByb2ZpbGVBZGRpdGlvbmFsTWV0cmljc1RvUmV0YWluVjJNZXRyaWNEaW1lbnNpb24ge1xuICAvKipcbiAgKiBBIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgZGltZW5zaW9uLlxuICAqIFxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3IvaW90X3NlY3VyaXR5X3Byb2ZpbGUuaHRtbCNkaW1lbnNpb25fbmFtZSBJb3RTZWN1cml0eVByb2ZpbGUjZGltZW5zaW9uX25hbWV9XG4gICovXG4gIHJlYWRvbmx5IGRpbWVuc2lvbk5hbWU6IHN0cmluZztcbiAgLyoqXG4gICogRGVmaW5lcyBob3cgdGhlIGRpbWVuc2lvblZhbHVlcyBvZiBhIGRpbWVuc2lvbiBhcmUgaW50ZXJwcmV0ZWQuXG4gICogXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9pb3Rfc2VjdXJpdHlfcHJvZmlsZS5odG1sI29wZXJhdG9yIElvdFNlY3VyaXR5UHJvZmlsZSNvcGVyYXRvcn1cbiAgKi9cbiAgcmVhZG9ubHkgb3BlcmF0b3I/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpb3RTZWN1cml0eVByb2ZpbGVBZGRpdGlvbmFsTWV0cmljc1RvUmV0YWluVjJNZXRyaWNEaW1lbnNpb25Ub1RlcnJhZm9ybShzdHJ1Y3Q/OiBJb3RTZWN1cml0eVByb2ZpbGVBZGRpdGlvbmFsTWV0cmljc1RvUmV0YWluVjJNZXRyaWNEaW1lbnNpb24pOiBhbnkge1xuICBpZiAoIWNka3RmLmNhbkluc3BlY3Qoc3RydWN0KSkgeyByZXR1cm4gc3RydWN0OyB9XG4gIHJldHVybiB7XG4gICAgZGltZW5zaW9uX25hbWU6IGNka3RmLnN0cmluZ1RvVGVycmFmb3JtKHN0cnVjdCEuZGltZW5zaW9uTmFtZSksXG4gICAgb3BlcmF0b3I6IGNka3RmLnN0cmluZ1RvVGVycmFmb3JtKHN0cnVjdCEub3BlcmF0b3IpLFxuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW90U2VjdXJpdHlQcm9maWxlQWRkaXRpb25hbE1ldHJpY3NUb1JldGFpblYyIHtcbiAgLyoqXG4gICogV2hhdCBpcyBtZWFzdXJlZCBieSB0aGUgYmVoYXZpb3IuXG4gICogXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9pb3Rfc2VjdXJpdHlfcHJvZmlsZS5odG1sI21ldHJpYyBJb3RTZWN1cml0eVByb2ZpbGUjbWV0cmljfVxuICAqL1xuICByZWFkb25seSBtZXRyaWM6IHN0cmluZztcbiAgLyoqXG4gICogVGhlIGRpbWVuc2lvbiBvZiBhIG1ldHJpYy5cbiAgKiBcbiAgKiBEb2NzIGF0IFRlcnJhZm9ybSBSZWdpc3RyeToge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL3Byb3ZpZGVycy9hd3NjYy9yL2lvdF9zZWN1cml0eV9wcm9maWxlLmh0bWwjbWV0cmljX2RpbWVuc2lvbiBJb3RTZWN1cml0eVByb2ZpbGUjbWV0cmljX2RpbWVuc2lvbn1cbiAgKi9cbiAgcmVhZG9ubHkgbWV0cmljRGltZW5zaW9uPzogSW90U2VjdXJpdHlQcm9maWxlQWRkaXRpb25hbE1ldHJpY3NUb1JldGFpblYyTWV0cmljRGltZW5zaW9uO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW90U2VjdXJpdHlQcm9maWxlQWRkaXRpb25hbE1ldHJpY3NUb1JldGFpblYyVG9UZXJyYWZvcm0oc3RydWN0PzogSW90U2VjdXJpdHlQcm9maWxlQWRkaXRpb25hbE1ldHJpY3NUb1JldGFpblYyKTogYW55IHtcbiAgaWYgKCFjZGt0Zi5jYW5JbnNwZWN0KHN0cnVjdCkpIHsgcmV0dXJuIHN0cnVjdDsgfVxuICByZXR1cm4ge1xuICAgIG1ldHJpYzogY2RrdGYuc3RyaW5nVG9UZXJyYWZvcm0oc3RydWN0IS5tZXRyaWMpLFxuICAgIG1ldHJpY19kaW1lbnNpb246IGlvdFNlY3VyaXR5UHJvZmlsZUFkZGl0aW9uYWxNZXRyaWNzVG9SZXRhaW5WMk1ldHJpY0RpbWVuc2lvblRvVGVycmFmb3JtKHN0cnVjdCEubWV0cmljRGltZW5zaW9uKSxcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIElvdFNlY3VyaXR5UHJvZmlsZUFsZXJ0VGFyZ2V0cyB7XG4gIC8qKlxuICAqIFRoZSBBUk4gb2YgdGhlIG5vdGlmaWNhdGlvbiB0YXJnZXQgdG8gd2hpY2ggYWxlcnRzIGFyZSBzZW50LlxuICAqIFxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3IvaW90X3NlY3VyaXR5X3Byb2ZpbGUuaHRtbCNhbGVydF90YXJnZXRfYXJuIElvdFNlY3VyaXR5UHJvZmlsZSNhbGVydF90YXJnZXRfYXJufVxuICAqL1xuICByZWFkb25seSBhbGVydFRhcmdldEFybj86IHN0cmluZztcbiAgLyoqXG4gICogVGhlIEFSTiBvZiB0aGUgcm9sZSB0aGF0IGdyYW50cyBwZXJtaXNzaW9uIHRvIHNlbmQgYWxlcnRzIHRvIHRoZSBub3RpZmljYXRpb24gdGFyZ2V0LlxuICAqIFxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3IvaW90X3NlY3VyaXR5X3Byb2ZpbGUuaHRtbCNyb2xlX2FybiBJb3RTZWN1cml0eVByb2ZpbGUjcm9sZV9hcm59XG4gICovXG4gIHJlYWRvbmx5IHJvbGVBcm4/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpb3RTZWN1cml0eVByb2ZpbGVBbGVydFRhcmdldHNUb1RlcnJhZm9ybShzdHJ1Y3Q/OiBJb3RTZWN1cml0eVByb2ZpbGVBbGVydFRhcmdldHMpOiBhbnkge1xuICBpZiAoIWNka3RmLmNhbkluc3BlY3Qoc3RydWN0KSkgeyByZXR1cm4gc3RydWN0OyB9XG4gIHJldHVybiB7XG4gICAgYWxlcnRfdGFyZ2V0X2FybjogY2RrdGYuc3RyaW5nVG9UZXJyYWZvcm0oc3RydWN0IS5hbGVydFRhcmdldEFybiksXG4gICAgcm9sZV9hcm46IGNka3RmLnN0cmluZ1RvVGVycmFmb3JtKHN0cnVjdCEucm9sZUFybiksXG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBJb3RTZWN1cml0eVByb2ZpbGVCZWhhdmlvcnNDcml0ZXJpYU1sRGV0ZWN0aW9uQ29uZmlnIHtcbiAgLyoqXG4gICogVGhlIHNlbnNpdGl2aXR5IG9mIGFub21hbG91cyBiZWhhdmlvciBldmFsdWF0aW9uLiBDYW4gYmUgTG93LCBNZWRpdW0sIG9yIEhpZ2guXG4gICogXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9pb3Rfc2VjdXJpdHlfcHJvZmlsZS5odG1sI2NvbmZpZGVuY2VfbGV2ZWwgSW90U2VjdXJpdHlQcm9maWxlI2NvbmZpZGVuY2VfbGV2ZWx9XG4gICovXG4gIHJlYWRvbmx5IGNvbmZpZGVuY2VMZXZlbD86IHN0cmluZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlvdFNlY3VyaXR5UHJvZmlsZUJlaGF2aW9yc0NyaXRlcmlhTWxEZXRlY3Rpb25Db25maWdUb1RlcnJhZm9ybShzdHJ1Y3Q/OiBJb3RTZWN1cml0eVByb2ZpbGVCZWhhdmlvcnNDcml0ZXJpYU1sRGV0ZWN0aW9uQ29uZmlnKTogYW55IHtcbiAgaWYgKCFjZGt0Zi5jYW5JbnNwZWN0KHN0cnVjdCkpIHsgcmV0dXJuIHN0cnVjdDsgfVxuICByZXR1cm4ge1xuICAgIGNvbmZpZGVuY2VfbGV2ZWw6IGNka3RmLnN0cmluZ1RvVGVycmFmb3JtKHN0cnVjdCEuY29uZmlkZW5jZUxldmVsKSxcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIElvdFNlY3VyaXR5UHJvZmlsZUJlaGF2aW9yc0NyaXRlcmlhU3RhdGlzdGljYWxUaHJlc2hvbGQge1xuICAvKipcbiAgKiBUaGUgcGVyY2VudGlsZSB3aGljaCByZXNvbHZlcyB0byBhIHRocmVzaG9sZCB2YWx1ZSBieSB3aGljaCBjb21wbGlhbmNlIHdpdGggYSBiZWhhdmlvciBpcyBkZXRlcm1pbmVkXG4gICogXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9pb3Rfc2VjdXJpdHlfcHJvZmlsZS5odG1sI3N0YXRpc3RpYyBJb3RTZWN1cml0eVByb2ZpbGUjc3RhdGlzdGljfVxuICAqL1xuICByZWFkb25seSBzdGF0aXN0aWM/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpb3RTZWN1cml0eVByb2ZpbGVCZWhhdmlvcnNDcml0ZXJpYVN0YXRpc3RpY2FsVGhyZXNob2xkVG9UZXJyYWZvcm0oc3RydWN0PzogSW90U2VjdXJpdHlQcm9maWxlQmVoYXZpb3JzQ3JpdGVyaWFTdGF0aXN0aWNhbFRocmVzaG9sZCk6IGFueSB7XG4gIGlmICghY2RrdGYuY2FuSW5zcGVjdChzdHJ1Y3QpKSB7IHJldHVybiBzdHJ1Y3Q7IH1cbiAgcmV0dXJuIHtcbiAgICBzdGF0aXN0aWM6IGNka3RmLnN0cmluZ1RvVGVycmFmb3JtKHN0cnVjdCEuc3RhdGlzdGljKSxcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIElvdFNlY3VyaXR5UHJvZmlsZUJlaGF2aW9yc0NyaXRlcmlhVmFsdWUge1xuICAvKipcbiAgKiBJZiB0aGUgQ29tcGFyaXNvbk9wZXJhdG9yIGNhbGxzIGZvciBhIHNldCBvZiBDSURScywgdXNlIHRoaXMgdG8gc3BlY2lmeSB0aGF0IHNldCB0byBiZSBjb21wYXJlZCB3aXRoIHRoZSBtZXRyaWMuXG4gICogXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9pb3Rfc2VjdXJpdHlfcHJvZmlsZS5odG1sI2NpZHJzIElvdFNlY3VyaXR5UHJvZmlsZSNjaWRyc31cbiAgKi9cbiAgcmVhZG9ubHkgY2lkcnM/OiBzdHJpbmdbXTtcbiAgLyoqXG4gICogSWYgdGhlIENvbXBhcmlzb25PcGVyYXRvciBjYWxscyBmb3IgYSBudW1lcmljIHZhbHVlLCB1c2UgdGhpcyB0byBzcGVjaWZ5IHRoYXQgKGludGVnZXIpIG51bWVyaWMgdmFsdWUgdG8gYmUgY29tcGFyZWQgd2l0aCB0aGUgbWV0cmljLlxuICAqIFxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3IvaW90X3NlY3VyaXR5X3Byb2ZpbGUuaHRtbCNjb3VudCBJb3RTZWN1cml0eVByb2ZpbGUjY291bnR9XG4gICovXG4gIHJlYWRvbmx5IGNvdW50Pzogc3RyaW5nO1xuICAvKipcbiAgKiBUaGUgbnVtZXJhbCB2YWx1ZSBvZiBhIG1ldHJpYy5cbiAgKiBcbiAgKiBEb2NzIGF0IFRlcnJhZm9ybSBSZWdpc3RyeToge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL3Byb3ZpZGVycy9hd3NjYy9yL2lvdF9zZWN1cml0eV9wcm9maWxlLmh0bWwjbnVtYmVyIElvdFNlY3VyaXR5UHJvZmlsZSNudW1iZXJ9XG4gICovXG4gIHJlYWRvbmx5IG51bWJlcj86IG51bWJlcjtcbiAgLyoqXG4gICogVGhlIG51bWVyYWwgdmFsdWVzIG9mIGEgbWV0cmljLlxuICAqIFxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3IvaW90X3NlY3VyaXR5X3Byb2ZpbGUuaHRtbCNudW1iZXJzIElvdFNlY3VyaXR5UHJvZmlsZSNudW1iZXJzfVxuICAqL1xuICByZWFkb25seSBudW1iZXJzPzogbnVtYmVyW107XG4gIC8qKlxuICAqIElmIHRoZSBDb21wYXJpc29uT3BlcmF0b3IgY2FsbHMgZm9yIGEgc2V0IG9mIHBvcnRzLCB1c2UgdGhpcyB0byBzcGVjaWZ5IHRoYXQgc2V0IHRvIGJlIGNvbXBhcmVkIHdpdGggdGhlIG1ldHJpYy5cbiAgKiBcbiAgKiBEb2NzIGF0IFRlcnJhZm9ybSBSZWdpc3RyeToge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL3Byb3ZpZGVycy9hd3NjYy9yL2lvdF9zZWN1cml0eV9wcm9maWxlLmh0bWwjcG9ydHMgSW90U2VjdXJpdHlQcm9maWxlI3BvcnRzfVxuICAqL1xuICByZWFkb25seSBwb3J0cz86IG51bWJlcltdO1xuICAvKipcbiAgKiBUaGUgc3RyaW5nIHZhbHVlcyBvZiBhIG1ldHJpYy5cbiAgKiBcbiAgKiBEb2NzIGF0IFRlcnJhZm9ybSBSZWdpc3RyeToge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL3Byb3ZpZGVycy9hd3NjYy9yL2lvdF9zZWN1cml0eV9wcm9maWxlLmh0bWwjc3RyaW5ncyBJb3RTZWN1cml0eVByb2ZpbGUjc3RyaW5nc31cbiAgKi9cbiAgcmVhZG9ubHkgc3RyaW5ncz86IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW90U2VjdXJpdHlQcm9maWxlQmVoYXZpb3JzQ3JpdGVyaWFWYWx1ZVRvVGVycmFmb3JtKHN0cnVjdD86IElvdFNlY3VyaXR5UHJvZmlsZUJlaGF2aW9yc0NyaXRlcmlhVmFsdWUpOiBhbnkge1xuICBpZiAoIWNka3RmLmNhbkluc3BlY3Qoc3RydWN0KSkgeyByZXR1cm4gc3RydWN0OyB9XG4gIHJldHVybiB7XG4gICAgY2lkcnM6IGNka3RmLmxpc3RNYXBwZXIoY2RrdGYuc3RyaW5nVG9UZXJyYWZvcm0pKHN0cnVjdCEuY2lkcnMpLFxuICAgIGNvdW50OiBjZGt0Zi5zdHJpbmdUb1RlcnJhZm9ybShzdHJ1Y3QhLmNvdW50KSxcbiAgICBudW1iZXI6IGNka3RmLm51bWJlclRvVGVycmFmb3JtKHN0cnVjdCEubnVtYmVyKSxcbiAgICBudW1iZXJzOiBjZGt0Zi5saXN0TWFwcGVyKGNka3RmLm51bWJlclRvVGVycmFmb3JtKShzdHJ1Y3QhLm51bWJlcnMpLFxuICAgIHBvcnRzOiBjZGt0Zi5saXN0TWFwcGVyKGNka3RmLm51bWJlclRvVGVycmFmb3JtKShzdHJ1Y3QhLnBvcnRzKSxcbiAgICBzdHJpbmdzOiBjZGt0Zi5saXN0TWFwcGVyKGNka3RmLnN0cmluZ1RvVGVycmFmb3JtKShzdHJ1Y3QhLnN0cmluZ3MpLFxuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW90U2VjdXJpdHlQcm9maWxlQmVoYXZpb3JzQ3JpdGVyaWEge1xuICAvKipcbiAgKiBUaGUgb3BlcmF0b3IgdGhhdCByZWxhdGVzIHRoZSB0aGluZyBtZWFzdXJlZCAobWV0cmljKSB0byB0aGUgY3JpdGVyaWEgKGNvbnRhaW5pbmcgYSB2YWx1ZSBvciBzdGF0aXN0aWNhbFRocmVzaG9sZCkuXG4gICogXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9pb3Rfc2VjdXJpdHlfcHJvZmlsZS5odG1sI2NvbXBhcmlzb25fb3BlcmF0b3IgSW90U2VjdXJpdHlQcm9maWxlI2NvbXBhcmlzb25fb3BlcmF0b3J9XG4gICovXG4gIHJlYWRvbmx5IGNvbXBhcmlzb25PcGVyYXRvcj86IHN0cmluZztcbiAgLyoqXG4gICogSWYgYSBkZXZpY2UgaXMgaW4gdmlvbGF0aW9uIG9mIHRoZSBiZWhhdmlvciBmb3IgdGhlIHNwZWNpZmllZCBudW1iZXIgb2YgY29uc2VjdXRpdmUgZGF0YXBvaW50cywgYW4gYWxhcm0gb2NjdXJzLiBJZiBub3Qgc3BlY2lmaWVkLCB0aGUgZGVmYXVsdCBpcyAxLlxuICAqIFxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3IvaW90X3NlY3VyaXR5X3Byb2ZpbGUuaHRtbCNjb25zZWN1dGl2ZV9kYXRhcG9pbnRzX3RvX2FsYXJtIElvdFNlY3VyaXR5UHJvZmlsZSNjb25zZWN1dGl2ZV9kYXRhcG9pbnRzX3RvX2FsYXJtfVxuICAqL1xuICByZWFkb25seSBjb25zZWN1dGl2ZURhdGFwb2ludHNUb0FsYXJtPzogbnVtYmVyO1xuICAvKipcbiAgKiBJZiBhbiBhbGFybSBoYXMgb2NjdXJyZWQgYW5kIHRoZSBvZmZlbmRpbmcgZGV2aWNlIGlzIG5vIGxvbmdlciBpbiB2aW9sYXRpb24gb2YgdGhlIGJlaGF2aW9yIGZvciB0aGUgc3BlY2lmaWVkIG51bWJlciBvZiBjb25zZWN1dGl2ZSBkYXRhcG9pbnRzLCB0aGUgYWxhcm0gaXMgY2xlYXJlZC4gSWYgbm90IHNwZWNpZmllZCwgdGhlIGRlZmF1bHQgaXMgMS5cbiAgKiBcbiAgKiBEb2NzIGF0IFRlcnJhZm9ybSBSZWdpc3RyeToge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL3Byb3ZpZGVycy9hd3NjYy9yL2lvdF9zZWN1cml0eV9wcm9maWxlLmh0bWwjY29uc2VjdXRpdmVfZGF0YXBvaW50c190b19jbGVhciBJb3RTZWN1cml0eVByb2ZpbGUjY29uc2VjdXRpdmVfZGF0YXBvaW50c190b19jbGVhcn1cbiAgKi9cbiAgcmVhZG9ubHkgY29uc2VjdXRpdmVEYXRhcG9pbnRzVG9DbGVhcj86IG51bWJlcjtcbiAgLyoqXG4gICogVXNlIHRoaXMgdG8gc3BlY2lmeSB0aGUgdGltZSBkdXJhdGlvbiBvdmVyIHdoaWNoIHRoZSBiZWhhdmlvciBpcyBldmFsdWF0ZWQuXG4gICogXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9pb3Rfc2VjdXJpdHlfcHJvZmlsZS5odG1sI2R1cmF0aW9uX3NlY29uZHMgSW90U2VjdXJpdHlQcm9maWxlI2R1cmF0aW9uX3NlY29uZHN9XG4gICovXG4gIHJlYWRvbmx5IGR1cmF0aW9uU2Vjb25kcz86IG51bWJlcjtcbiAgLyoqXG4gICogVGhlIGNvbmZpZ3VyYXRpb24gb2YgYW4gTUwgRGV0ZWN0IFNlY3VyaXR5IFByb2ZpbGUuXG4gICogXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9pb3Rfc2VjdXJpdHlfcHJvZmlsZS5odG1sI21sX2RldGVjdGlvbl9jb25maWcgSW90U2VjdXJpdHlQcm9maWxlI21sX2RldGVjdGlvbl9jb25maWd9XG4gICovXG4gIHJlYWRvbmx5IG1sRGV0ZWN0aW9uQ29uZmlnPzogSW90U2VjdXJpdHlQcm9maWxlQmVoYXZpb3JzQ3JpdGVyaWFNbERldGVjdGlvbkNvbmZpZztcbiAgLyoqXG4gICogQSBzdGF0aXN0aWNhbCByYW5raW5nIChwZXJjZW50aWxlKSB3aGljaCBpbmRpY2F0ZXMgYSB0aHJlc2hvbGQgdmFsdWUgYnkgd2hpY2ggYSBiZWhhdmlvciBpcyBkZXRlcm1pbmVkIHRvIGJlIGluIGNvbXBsaWFuY2Ugb3IgaW4gdmlvbGF0aW9uIG9mIHRoZSBiZWhhdmlvci5cbiAgKiBcbiAgKiBEb2NzIGF0IFRlcnJhZm9ybSBSZWdpc3RyeToge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL3Byb3ZpZGVycy9hd3NjYy9yL2lvdF9zZWN1cml0eV9wcm9maWxlLmh0bWwjc3RhdGlzdGljYWxfdGhyZXNob2xkIElvdFNlY3VyaXR5UHJvZmlsZSNzdGF0aXN0aWNhbF90aHJlc2hvbGR9XG4gICovXG4gIHJlYWRvbmx5IHN0YXRpc3RpY2FsVGhyZXNob2xkPzogSW90U2VjdXJpdHlQcm9maWxlQmVoYXZpb3JzQ3JpdGVyaWFTdGF0aXN0aWNhbFRocmVzaG9sZDtcbiAgLyoqXG4gICogVGhlIHZhbHVlIHRvIGJlIGNvbXBhcmVkIHdpdGggdGhlIG1ldHJpYy5cbiAgKiBcbiAgKiBEb2NzIGF0IFRlcnJhZm9ybSBSZWdpc3RyeToge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL3Byb3ZpZGVycy9hd3NjYy9yL2lvdF9zZWN1cml0eV9wcm9maWxlLmh0bWwjdmFsdWUgSW90U2VjdXJpdHlQcm9maWxlI3ZhbHVlfVxuICAqL1xuICByZWFkb25seSB2YWx1ZT86IElvdFNlY3VyaXR5UHJvZmlsZUJlaGF2aW9yc0NyaXRlcmlhVmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpb3RTZWN1cml0eVByb2ZpbGVCZWhhdmlvcnNDcml0ZXJpYVRvVGVycmFmb3JtKHN0cnVjdD86IElvdFNlY3VyaXR5UHJvZmlsZUJlaGF2aW9yc0NyaXRlcmlhKTogYW55IHtcbiAgaWYgKCFjZGt0Zi5jYW5JbnNwZWN0KHN0cnVjdCkpIHsgcmV0dXJuIHN0cnVjdDsgfVxuICByZXR1cm4ge1xuICAgIGNvbXBhcmlzb25fb3BlcmF0b3I6IGNka3RmLnN0cmluZ1RvVGVycmFmb3JtKHN0cnVjdCEuY29tcGFyaXNvbk9wZXJhdG9yKSxcbiAgICBjb25zZWN1dGl2ZV9kYXRhcG9pbnRzX3RvX2FsYXJtOiBjZGt0Zi5udW1iZXJUb1RlcnJhZm9ybShzdHJ1Y3QhLmNvbnNlY3V0aXZlRGF0YXBvaW50c1RvQWxhcm0pLFxuICAgIGNvbnNlY3V0aXZlX2RhdGFwb2ludHNfdG9fY2xlYXI6IGNka3RmLm51bWJlclRvVGVycmFmb3JtKHN0cnVjdCEuY29uc2VjdXRpdmVEYXRhcG9pbnRzVG9DbGVhciksXG4gICAgZHVyYXRpb25fc2Vjb25kczogY2RrdGYubnVtYmVyVG9UZXJyYWZvcm0oc3RydWN0IS5kdXJhdGlvblNlY29uZHMpLFxuICAgIG1sX2RldGVjdGlvbl9jb25maWc6IGlvdFNlY3VyaXR5UHJvZmlsZUJlaGF2aW9yc0NyaXRlcmlhTWxEZXRlY3Rpb25Db25maWdUb1RlcnJhZm9ybShzdHJ1Y3QhLm1sRGV0ZWN0aW9uQ29uZmlnKSxcbiAgICBzdGF0aXN0aWNhbF90aHJlc2hvbGQ6IGlvdFNlY3VyaXR5UHJvZmlsZUJlaGF2aW9yc0NyaXRlcmlhU3RhdGlzdGljYWxUaHJlc2hvbGRUb1RlcnJhZm9ybShzdHJ1Y3QhLnN0YXRpc3RpY2FsVGhyZXNob2xkKSxcbiAgICB2YWx1ZTogaW90U2VjdXJpdHlQcm9maWxlQmVoYXZpb3JzQ3JpdGVyaWFWYWx1ZVRvVGVycmFmb3JtKHN0cnVjdCEudmFsdWUpLFxuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW90U2VjdXJpdHlQcm9maWxlQmVoYXZpb3JzTWV0cmljRGltZW5zaW9uIHtcbiAgLyoqXG4gICogQSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIGRpbWVuc2lvbi5cbiAgKiBcbiAgKiBEb2NzIGF0IFRlcnJhZm9ybSBSZWdpc3RyeToge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL3Byb3ZpZGVycy9hd3NjYy9yL2lvdF9zZWN1cml0eV9wcm9maWxlLmh0bWwjZGltZW5zaW9uX25hbWUgSW90U2VjdXJpdHlQcm9maWxlI2RpbWVuc2lvbl9uYW1lfVxuICAqL1xuICByZWFkb25seSBkaW1lbnNpb25OYW1lOiBzdHJpbmc7XG4gIC8qKlxuICAqIERlZmluZXMgaG93IHRoZSBkaW1lbnNpb25WYWx1ZXMgb2YgYSBkaW1lbnNpb24gYXJlIGludGVycHJldGVkLlxuICAqIFxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3IvaW90X3NlY3VyaXR5X3Byb2ZpbGUuaHRtbCNvcGVyYXRvciBJb3RTZWN1cml0eVByb2ZpbGUjb3BlcmF0b3J9XG4gICovXG4gIHJlYWRvbmx5IG9wZXJhdG9yPzogc3RyaW5nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW90U2VjdXJpdHlQcm9maWxlQmVoYXZpb3JzTWV0cmljRGltZW5zaW9uVG9UZXJyYWZvcm0oc3RydWN0PzogSW90U2VjdXJpdHlQcm9maWxlQmVoYXZpb3JzTWV0cmljRGltZW5zaW9uKTogYW55IHtcbiAgaWYgKCFjZGt0Zi5jYW5JbnNwZWN0KHN0cnVjdCkpIHsgcmV0dXJuIHN0cnVjdDsgfVxuICByZXR1cm4ge1xuICAgIGRpbWVuc2lvbl9uYW1lOiBjZGt0Zi5zdHJpbmdUb1RlcnJhZm9ybShzdHJ1Y3QhLmRpbWVuc2lvbk5hbWUpLFxuICAgIG9wZXJhdG9yOiBjZGt0Zi5zdHJpbmdUb1RlcnJhZm9ybShzdHJ1Y3QhLm9wZXJhdG9yKSxcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIElvdFNlY3VyaXR5UHJvZmlsZUJlaGF2aW9ycyB7XG4gIC8qKlxuICAqIFRoZSBjcml0ZXJpYSBieSB3aGljaCB0aGUgYmVoYXZpb3IgaXMgZGV0ZXJtaW5lZCB0byBiZSBub3JtYWwuXG4gICogXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9pb3Rfc2VjdXJpdHlfcHJvZmlsZS5odG1sI2NyaXRlcmlhIElvdFNlY3VyaXR5UHJvZmlsZSNjcml0ZXJpYX1cbiAgKi9cbiAgcmVhZG9ubHkgY3JpdGVyaWE/OiBJb3RTZWN1cml0eVByb2ZpbGVCZWhhdmlvcnNDcml0ZXJpYTtcbiAgLyoqXG4gICogV2hhdCBpcyBtZWFzdXJlZCBieSB0aGUgYmVoYXZpb3IuXG4gICogXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9pb3Rfc2VjdXJpdHlfcHJvZmlsZS5odG1sI21ldHJpYyBJb3RTZWN1cml0eVByb2ZpbGUjbWV0cmljfVxuICAqL1xuICByZWFkb25seSBtZXRyaWM/OiBzdHJpbmc7XG4gIC8qKlxuICAqIFRoZSBkaW1lbnNpb24gb2YgYSBtZXRyaWMuXG4gICogXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9pb3Rfc2VjdXJpdHlfcHJvZmlsZS5odG1sI21ldHJpY19kaW1lbnNpb24gSW90U2VjdXJpdHlQcm9maWxlI21ldHJpY19kaW1lbnNpb259XG4gICovXG4gIHJlYWRvbmx5IG1ldHJpY0RpbWVuc2lvbj86IElvdFNlY3VyaXR5UHJvZmlsZUJlaGF2aW9yc01ldHJpY0RpbWVuc2lvbjtcbiAgLyoqXG4gICogVGhlIG5hbWUgZm9yIHRoZSBiZWhhdmlvci5cbiAgKiBcbiAgKiBEb2NzIGF0IFRlcnJhZm9ybSBSZWdpc3RyeToge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL3Byb3ZpZGVycy9hd3NjYy9yL2lvdF9zZWN1cml0eV9wcm9maWxlLmh0bWwjbmFtZSBJb3RTZWN1cml0eVByb2ZpbGUjbmFtZX1cbiAgKi9cbiAgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xuICAvKipcbiAgKiBNYW5hZ2UgRGV0ZWN0IGFsYXJtIFNOUyBub3RpZmljYXRpb25zIGJ5IHNldHRpbmcgYmVoYXZpb3Igbm90aWZpY2F0aW9uIHRvIG9uIG9yIHN1cHByZXNzZWQuIERldGVjdCB3aWxsIGNvbnRpbnVlIHRvIHBlcmZvcm1pbmcgZGV2aWNlIGJlaGF2aW9yIGV2YWx1YXRpb25zLiBIb3dldmVyLCBzdXBwcmVzc2VkIGFsYXJtcyB3b3VsZG4ndCBiZSBmb3J3YXJkZWQgZm9yIFNOUyBub3RpZmljYXRpb24uXG4gICogXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9pb3Rfc2VjdXJpdHlfcHJvZmlsZS5odG1sI3N1cHByZXNzX2FsZXJ0cyBJb3RTZWN1cml0eVByb2ZpbGUjc3VwcHJlc3NfYWxlcnRzfVxuICAqL1xuICByZWFkb25seSBzdXBwcmVzc0FsZXJ0cz86IGJvb2xlYW4gfCBjZGt0Zi5JUmVzb2x2YWJsZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlvdFNlY3VyaXR5UHJvZmlsZUJlaGF2aW9yc1RvVGVycmFmb3JtKHN0cnVjdD86IElvdFNlY3VyaXR5UHJvZmlsZUJlaGF2aW9ycyk6IGFueSB7XG4gIGlmICghY2RrdGYuY2FuSW5zcGVjdChzdHJ1Y3QpKSB7IHJldHVybiBzdHJ1Y3Q7IH1cbiAgcmV0dXJuIHtcbiAgICBjcml0ZXJpYTogaW90U2VjdXJpdHlQcm9maWxlQmVoYXZpb3JzQ3JpdGVyaWFUb1RlcnJhZm9ybShzdHJ1Y3QhLmNyaXRlcmlhKSxcbiAgICBtZXRyaWM6IGNka3RmLnN0cmluZ1RvVGVycmFmb3JtKHN0cnVjdCEubWV0cmljKSxcbiAgICBtZXRyaWNfZGltZW5zaW9uOiBpb3RTZWN1cml0eVByb2ZpbGVCZWhhdmlvcnNNZXRyaWNEaW1lbnNpb25Ub1RlcnJhZm9ybShzdHJ1Y3QhLm1ldHJpY0RpbWVuc2lvbiksXG4gICAgbmFtZTogY2RrdGYuc3RyaW5nVG9UZXJyYWZvcm0oc3RydWN0IS5uYW1lKSxcbiAgICBzdXBwcmVzc19hbGVydHM6IGNka3RmLmJvb2xlYW5Ub1RlcnJhZm9ybShzdHJ1Y3QhLnN1cHByZXNzQWxlcnRzKSxcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIElvdFNlY3VyaXR5UHJvZmlsZVRhZ3Mge1xuICAvKipcbiAgKiBUaGUgdGFnJ3Mga2V5LlxuICAqIFxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3IvaW90X3NlY3VyaXR5X3Byb2ZpbGUuaHRtbCNrZXkgSW90U2VjdXJpdHlQcm9maWxlI2tleX1cbiAgKi9cbiAgcmVhZG9ubHkga2V5OiBzdHJpbmc7XG4gIC8qKlxuICAqIFRoZSB0YWcncyB2YWx1ZS5cbiAgKiBcbiAgKiBEb2NzIGF0IFRlcnJhZm9ybSBSZWdpc3RyeToge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL3Byb3ZpZGVycy9hd3NjYy9yL2lvdF9zZWN1cml0eV9wcm9maWxlLmh0bWwjdmFsdWUgSW90U2VjdXJpdHlQcm9maWxlI3ZhbHVlfVxuICAqL1xuICByZWFkb25seSB2YWx1ZTogc3RyaW5nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW90U2VjdXJpdHlQcm9maWxlVGFnc1RvVGVycmFmb3JtKHN0cnVjdD86IElvdFNlY3VyaXR5UHJvZmlsZVRhZ3MpOiBhbnkge1xuICBpZiAoIWNka3RmLmNhbkluc3BlY3Qoc3RydWN0KSkgeyByZXR1cm4gc3RydWN0OyB9XG4gIHJldHVybiB7XG4gICAga2V5OiBjZGt0Zi5zdHJpbmdUb1RlcnJhZm9ybShzdHJ1Y3QhLmtleSksXG4gICAgdmFsdWU6IGNka3RmLnN0cmluZ1RvVGVycmFmb3JtKHN0cnVjdCEudmFsdWUpLFxuICB9XG59XG5cblxuLyoqXG4qIFJlcHJlc2VudHMgYSB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3IvaW90X3NlY3VyaXR5X3Byb2ZpbGUuaHRtbCBhd3NjY19pb3Rfc2VjdXJpdHlfcHJvZmlsZX1cbiovXG5leHBvcnQgY2xhc3MgSW90U2VjdXJpdHlQcm9maWxlIGV4dGVuZHMgY2RrdGYuVGVycmFmb3JtUmVzb3VyY2Uge1xuXG4gIC8vID09PT09PT09PT09PT09PT09XG4gIC8vIFNUQVRJQyBQUk9QRVJUSUVTXG4gIC8vID09PT09PT09PT09PT09PT09XG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgdGZSZXNvdXJjZVR5cGU6IHN0cmluZyA9IFwiYXdzY2NfaW90X3NlY3VyaXR5X3Byb2ZpbGVcIjtcblxuICAvLyA9PT09PT09PT09PVxuICAvLyBJTklUSUFMSVpFUlxuICAvLyA9PT09PT09PT09PVxuXG4gIC8qKlxuICAqIENyZWF0ZSBhIG5ldyB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3IvaW90X3NlY3VyaXR5X3Byb2ZpbGUuaHRtbCBhd3NjY19pb3Rfc2VjdXJpdHlfcHJvZmlsZX0gUmVzb3VyY2VcbiAgKlxuICAqIEBwYXJhbSBzY29wZSBUaGUgc2NvcGUgaW4gd2hpY2ggdG8gZGVmaW5lIHRoaXMgY29uc3RydWN0XG4gICogQHBhcmFtIGlkIFRoZSBzY29wZWQgY29uc3RydWN0IElELiBNdXN0IGJlIHVuaXF1ZSBhbW9uZ3N0IHNpYmxpbmdzIGluIHRoZSBzYW1lIHNjb3BlXG4gICogQHBhcmFtIG9wdGlvbnMgSW90U2VjdXJpdHlQcm9maWxlQ29uZmlnID0ge31cbiAgKi9cbiAgcHVibGljIGNvbnN0cnVjdG9yKHNjb3BlOiBDb25zdHJ1Y3QsIGlkOiBzdHJpbmcsIGNvbmZpZzogSW90U2VjdXJpdHlQcm9maWxlQ29uZmlnID0ge30pIHtcbiAgICBzdXBlcihzY29wZSwgaWQsIHtcbiAgICAgIHRlcnJhZm9ybVJlc291cmNlVHlwZTogJ2F3c2NjX2lvdF9zZWN1cml0eV9wcm9maWxlJyxcbiAgICAgIHRlcnJhZm9ybUdlbmVyYXRvck1ldGFkYXRhOiB7XG4gICAgICAgIHByb3ZpZGVyTmFtZTogJ2F3c2NjJ1xuICAgICAgfSxcbiAgICAgIHByb3ZpZGVyOiBjb25maWcucHJvdmlkZXIsXG4gICAgICBkZXBlbmRzT246IGNvbmZpZy5kZXBlbmRzT24sXG4gICAgICBjb3VudDogY29uZmlnLmNvdW50LFxuICAgICAgbGlmZWN5Y2xlOiBjb25maWcubGlmZWN5Y2xlXG4gICAgfSk7XG4gICAgdGhpcy5fYWRkaXRpb25hbE1ldHJpY3NUb1JldGFpblYyID0gY29uZmlnLmFkZGl0aW9uYWxNZXRyaWNzVG9SZXRhaW5WMjtcbiAgICB0aGlzLl9hbGVydFRhcmdldHMgPSBjb25maWcuYWxlcnRUYXJnZXRzO1xuICAgIHRoaXMuX2JlaGF2aW9ycyA9IGNvbmZpZy5iZWhhdmlvcnM7XG4gICAgdGhpcy5fc2VjdXJpdHlQcm9maWxlRGVzY3JpcHRpb24gPSBjb25maWcuc2VjdXJpdHlQcm9maWxlRGVzY3JpcHRpb247XG4gICAgdGhpcy5fc2VjdXJpdHlQcm9maWxlTmFtZSA9IGNvbmZpZy5zZWN1cml0eVByb2ZpbGVOYW1lO1xuICAgIHRoaXMuX3RhZ3MgPSBjb25maWcudGFncztcbiAgICB0aGlzLl90YXJnZXRBcm5zID0gY29uZmlnLnRhcmdldEFybnM7XG4gIH1cblxuICAvLyA9PT09PT09PT09XG4gIC8vIEFUVFJJQlVURVNcbiAgLy8gPT09PT09PT09PVxuXG4gIC8vIGFkZGl0aW9uYWxfbWV0cmljc190b19yZXRhaW5fdjIgLSBjb21wdXRlZDogZmFsc2UsIG9wdGlvbmFsOiB0cnVlLCByZXF1aXJlZDogZmFsc2VcbiAgcHJpdmF0ZSBfYWRkaXRpb25hbE1ldHJpY3NUb1JldGFpblYyPzogSW90U2VjdXJpdHlQcm9maWxlQWRkaXRpb25hbE1ldHJpY3NUb1JldGFpblYyW107XG4gIHB1YmxpYyBnZXQgYWRkaXRpb25hbE1ldHJpY3NUb1JldGFpblYyKCkge1xuICAgIHJldHVybiB0aGlzLmludGVycG9sYXRpb25Gb3JBdHRyaWJ1dGUoJ2FkZGl0aW9uYWxfbWV0cmljc190b19yZXRhaW5fdjInKSBhcyBhbnk7XG4gIH1cbiAgcHVibGljIHNldCBhZGRpdGlvbmFsTWV0cmljc1RvUmV0YWluVjIodmFsdWU6IElvdFNlY3VyaXR5UHJvZmlsZUFkZGl0aW9uYWxNZXRyaWNzVG9SZXRhaW5WMltdICkge1xuICAgIHRoaXMuX2FkZGl0aW9uYWxNZXRyaWNzVG9SZXRhaW5WMiA9IHZhbHVlO1xuICB9XG4gIHB1YmxpYyByZXNldEFkZGl0aW9uYWxNZXRyaWNzVG9SZXRhaW5WMigpIHtcbiAgICB0aGlzLl9hZGRpdGlvbmFsTWV0cmljc1RvUmV0YWluVjIgPSB1bmRlZmluZWQ7XG4gIH1cbiAgLy8gVGVtcG9yYXJpbHkgZXhwb3NlIGlucHV0IHZhbHVlLiBVc2Ugd2l0aCBjYXV0aW9uLlxuICBwdWJsaWMgZ2V0IGFkZGl0aW9uYWxNZXRyaWNzVG9SZXRhaW5WMklucHV0KCkge1xuICAgIHJldHVybiB0aGlzLl9hZGRpdGlvbmFsTWV0cmljc1RvUmV0YWluVjJcbiAgfVxuXG4gIC8vIGFsZXJ0X3RhcmdldHMgLSBjb21wdXRlZDogZmFsc2UsIG9wdGlvbmFsOiB0cnVlLCByZXF1aXJlZDogZmFsc2VcbiAgcHJpdmF0ZSBfYWxlcnRUYXJnZXRzPzogeyBba2V5OiBzdHJpbmddOiBJb3RTZWN1cml0eVByb2ZpbGVBbGVydFRhcmdldHMgfSB8IGNka3RmLklSZXNvbHZhYmxlO1xuICBwdWJsaWMgZ2V0IGFsZXJ0VGFyZ2V0cygpIHtcbiAgICByZXR1cm4gdGhpcy5pbnRlcnBvbGF0aW9uRm9yQXR0cmlidXRlKCdhbGVydF90YXJnZXRzJykgYXMgYW55O1xuICB9XG4gIHB1YmxpYyBzZXQgYWxlcnRUYXJnZXRzKHZhbHVlOiB7IFtrZXk6IHN0cmluZ106IElvdFNlY3VyaXR5UHJvZmlsZUFsZXJ0VGFyZ2V0cyB9IHwgY2RrdGYuSVJlc29sdmFibGUgKSB7XG4gICAgdGhpcy5fYWxlcnRUYXJnZXRzID0gdmFsdWU7XG4gIH1cbiAgcHVibGljIHJlc2V0QWxlcnRUYXJnZXRzKCkge1xuICAgIHRoaXMuX2FsZXJ0VGFyZ2V0cyA9IHVuZGVmaW5lZDtcbiAgfVxuICAvLyBUZW1wb3JhcmlseSBleHBvc2UgaW5wdXQgdmFsdWUuIFVzZSB3aXRoIGNhdXRpb24uXG4gIHB1YmxpYyBnZXQgYWxlcnRUYXJnZXRzSW5wdXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FsZXJ0VGFyZ2V0c1xuICB9XG5cbiAgLy8gYmVoYXZpb3JzIC0gY29tcHV0ZWQ6IGZhbHNlLCBvcHRpb25hbDogdHJ1ZSwgcmVxdWlyZWQ6IGZhbHNlXG4gIHByaXZhdGUgX2JlaGF2aW9ycz86IElvdFNlY3VyaXR5UHJvZmlsZUJlaGF2aW9yc1tdO1xuICBwdWJsaWMgZ2V0IGJlaGF2aW9ycygpIHtcbiAgICByZXR1cm4gdGhpcy5pbnRlcnBvbGF0aW9uRm9yQXR0cmlidXRlKCdiZWhhdmlvcnMnKSBhcyBhbnk7XG4gIH1cbiAgcHVibGljIHNldCBiZWhhdmlvcnModmFsdWU6IElvdFNlY3VyaXR5UHJvZmlsZUJlaGF2aW9yc1tdICkge1xuICAgIHRoaXMuX2JlaGF2aW9ycyA9IHZhbHVlO1xuICB9XG4gIHB1YmxpYyByZXNldEJlaGF2aW9ycygpIHtcbiAgICB0aGlzLl9iZWhhdmlvcnMgPSB1bmRlZmluZWQ7XG4gIH1cbiAgLy8gVGVtcG9yYXJpbHkgZXhwb3NlIGlucHV0IHZhbHVlLiBVc2Ugd2l0aCBjYXV0aW9uLlxuICBwdWJsaWMgZ2V0IGJlaGF2aW9yc0lucHV0KCkge1xuICAgIHJldHVybiB0aGlzLl9iZWhhdmlvcnNcbiAgfVxuXG4gIC8vIGlkIC0gY29tcHV0ZWQ6IHRydWUsIG9wdGlvbmFsOiBmYWxzZSwgcmVxdWlyZWQ6IGZhbHNlXG4gIHB1YmxpYyBnZXQgaWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0U3RyaW5nQXR0cmlidXRlKCdpZCcpO1xuICB9XG5cbiAgLy8gc2VjdXJpdHlfcHJvZmlsZV9hcm4gLSBjb21wdXRlZDogdHJ1ZSwgb3B0aW9uYWw6IGZhbHNlLCByZXF1aXJlZDogZmFsc2VcbiAgcHVibGljIGdldCBzZWN1cml0eVByb2ZpbGVBcm4oKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0U3RyaW5nQXR0cmlidXRlKCdzZWN1cml0eV9wcm9maWxlX2FybicpO1xuICB9XG5cbiAgLy8gc2VjdXJpdHlfcHJvZmlsZV9kZXNjcmlwdGlvbiAtIGNvbXB1dGVkOiBmYWxzZSwgb3B0aW9uYWw6IHRydWUsIHJlcXVpcmVkOiBmYWxzZVxuICBwcml2YXRlIF9zZWN1cml0eVByb2ZpbGVEZXNjcmlwdGlvbj86IHN0cmluZztcbiAgcHVibGljIGdldCBzZWN1cml0eVByb2ZpbGVEZXNjcmlwdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRTdHJpbmdBdHRyaWJ1dGUoJ3NlY3VyaXR5X3Byb2ZpbGVfZGVzY3JpcHRpb24nKTtcbiAgfVxuICBwdWJsaWMgc2V0IHNlY3VyaXR5UHJvZmlsZURlc2NyaXB0aW9uKHZhbHVlOiBzdHJpbmcgKSB7XG4gICAgdGhpcy5fc2VjdXJpdHlQcm9maWxlRGVzY3JpcHRpb24gPSB2YWx1ZTtcbiAgfVxuICBwdWJsaWMgcmVzZXRTZWN1cml0eVByb2ZpbGVEZXNjcmlwdGlvbigpIHtcbiAgICB0aGlzLl9zZWN1cml0eVByb2ZpbGVEZXNjcmlwdGlvbiA9IHVuZGVmaW5lZDtcbiAgfVxuICAvLyBUZW1wb3JhcmlseSBleHBvc2UgaW5wdXQgdmFsdWUuIFVzZSB3aXRoIGNhdXRpb24uXG4gIHB1YmxpYyBnZXQgc2VjdXJpdHlQcm9maWxlRGVzY3JpcHRpb25JbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5fc2VjdXJpdHlQcm9maWxlRGVzY3JpcHRpb25cbiAgfVxuXG4gIC8vIHNlY3VyaXR5X3Byb2ZpbGVfbmFtZSAtIGNvbXB1dGVkOiB0cnVlLCBvcHRpb25hbDogdHJ1ZSwgcmVxdWlyZWQ6IGZhbHNlXG4gIHByaXZhdGUgX3NlY3VyaXR5UHJvZmlsZU5hbWU/OiBzdHJpbmc7XG4gIHB1YmxpYyBnZXQgc2VjdXJpdHlQcm9maWxlTmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRTdHJpbmdBdHRyaWJ1dGUoJ3NlY3VyaXR5X3Byb2ZpbGVfbmFtZScpO1xuICB9XG4gIHB1YmxpYyBzZXQgc2VjdXJpdHlQcm9maWxlTmFtZSh2YWx1ZTogc3RyaW5nKSB7XG4gICAgdGhpcy5fc2VjdXJpdHlQcm9maWxlTmFtZSA9IHZhbHVlO1xuICB9XG4gIHB1YmxpYyByZXNldFNlY3VyaXR5UHJvZmlsZU5hbWUoKSB7XG4gICAgdGhpcy5fc2VjdXJpdHlQcm9maWxlTmFtZSA9IHVuZGVmaW5lZDtcbiAgfVxuICAvLyBUZW1wb3JhcmlseSBleHBvc2UgaW5wdXQgdmFsdWUuIFVzZSB3aXRoIGNhdXRpb24uXG4gIHB1YmxpYyBnZXQgc2VjdXJpdHlQcm9maWxlTmFtZUlucHV0KCkge1xuICAgIHJldHVybiB0aGlzLl9zZWN1cml0eVByb2ZpbGVOYW1lXG4gIH1cblxuICAvLyB0YWdzIC0gY29tcHV0ZWQ6IGZhbHNlLCBvcHRpb25hbDogdHJ1ZSwgcmVxdWlyZWQ6IGZhbHNlXG4gIHByaXZhdGUgX3RhZ3M/OiBJb3RTZWN1cml0eVByb2ZpbGVUYWdzW107XG4gIHB1YmxpYyBnZXQgdGFncygpIHtcbiAgICByZXR1cm4gdGhpcy5pbnRlcnBvbGF0aW9uRm9yQXR0cmlidXRlKCd0YWdzJykgYXMgYW55O1xuICB9XG4gIHB1YmxpYyBzZXQgdGFncyh2YWx1ZTogSW90U2VjdXJpdHlQcm9maWxlVGFnc1tdICkge1xuICAgIHRoaXMuX3RhZ3MgPSB2YWx1ZTtcbiAgfVxuICBwdWJsaWMgcmVzZXRUYWdzKCkge1xuICAgIHRoaXMuX3RhZ3MgPSB1bmRlZmluZWQ7XG4gIH1cbiAgLy8gVGVtcG9yYXJpbHkgZXhwb3NlIGlucHV0IHZhbHVlLiBVc2Ugd2l0aCBjYXV0aW9uLlxuICBwdWJsaWMgZ2V0IHRhZ3NJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5fdGFnc1xuICB9XG5cbiAgLy8gdGFyZ2V0X2FybnMgLSBjb21wdXRlZDogZmFsc2UsIG9wdGlvbmFsOiB0cnVlLCByZXF1aXJlZDogZmFsc2VcbiAgcHJpdmF0ZSBfdGFyZ2V0QXJucz86IHN0cmluZ1tdO1xuICBwdWJsaWMgZ2V0IHRhcmdldEFybnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0TGlzdEF0dHJpYnV0ZSgndGFyZ2V0X2FybnMnKTtcbiAgfVxuICBwdWJsaWMgc2V0IHRhcmdldEFybnModmFsdWU6IHN0cmluZ1tdICkge1xuICAgIHRoaXMuX3RhcmdldEFybnMgPSB2YWx1ZTtcbiAgfVxuICBwdWJsaWMgcmVzZXRUYXJnZXRBcm5zKCkge1xuICAgIHRoaXMuX3RhcmdldEFybnMgPSB1bmRlZmluZWQ7XG4gIH1cbiAgLy8gVGVtcG9yYXJpbHkgZXhwb3NlIGlucHV0IHZhbHVlLiBVc2Ugd2l0aCBjYXV0aW9uLlxuICBwdWJsaWMgZ2V0IHRhcmdldEFybnNJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5fdGFyZ2V0QXJuc1xuICB9XG5cbiAgLy8gPT09PT09PT09XG4gIC8vIFNZTlRIRVNJU1xuICAvLyA9PT09PT09PT1cblxuICBwcm90ZWN0ZWQgc3ludGhlc2l6ZUF0dHJpYnV0ZXMoKTogeyBbbmFtZTogc3RyaW5nXTogYW55IH0ge1xuICAgIHJldHVybiB7XG4gICAgICBhZGRpdGlvbmFsX21ldHJpY3NfdG9fcmV0YWluX3YyOiBjZGt0Zi5saXN0TWFwcGVyKGlvdFNlY3VyaXR5UHJvZmlsZUFkZGl0aW9uYWxNZXRyaWNzVG9SZXRhaW5WMlRvVGVycmFmb3JtKSh0aGlzLl9hZGRpdGlvbmFsTWV0cmljc1RvUmV0YWluVjIpLFxuICAgICAgYWxlcnRfdGFyZ2V0czogY2RrdGYuaGFzaE1hcHBlcihjZGt0Zi5hbnlUb1RlcnJhZm9ybSkodGhpcy5fYWxlcnRUYXJnZXRzKSxcbiAgICAgIGJlaGF2aW9yczogY2RrdGYubGlzdE1hcHBlcihpb3RTZWN1cml0eVByb2ZpbGVCZWhhdmlvcnNUb1RlcnJhZm9ybSkodGhpcy5fYmVoYXZpb3JzKSxcbiAgICAgIHNlY3VyaXR5X3Byb2ZpbGVfZGVzY3JpcHRpb246IGNka3RmLnN0cmluZ1RvVGVycmFmb3JtKHRoaXMuX3NlY3VyaXR5UHJvZmlsZURlc2NyaXB0aW9uKSxcbiAgICAgIHNlY3VyaXR5X3Byb2ZpbGVfbmFtZTogY2RrdGYuc3RyaW5nVG9UZXJyYWZvcm0odGhpcy5fc2VjdXJpdHlQcm9maWxlTmFtZSksXG4gICAgICB0YWdzOiBjZGt0Zi5saXN0TWFwcGVyKGlvdFNlY3VyaXR5UHJvZmlsZVRhZ3NUb1RlcnJhZm9ybSkodGhpcy5fdGFncyksXG4gICAgICB0YXJnZXRfYXJuczogY2RrdGYubGlzdE1hcHBlcihjZGt0Zi5zdHJpbmdUb1RlcnJhZm9ybSkodGhpcy5fdGFyZ2V0QXJucyksXG4gICAgfTtcbiAgfVxufVxuIl19