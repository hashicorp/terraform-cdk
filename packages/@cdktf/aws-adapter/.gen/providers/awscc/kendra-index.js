"use strict";
// https://www.terraform.io/docs/providers/awscc/r/kendra_index.html
// generated from terraform resource schema
Object.defineProperty(exports, "__esModule", { value: true });
exports.KendraIndex = exports.kendraIndexUserTokenConfigurationsToTerraform = exports.kendraIndexUserTokenConfigurationsJwtTokenTypeConfigurationToTerraform = exports.kendraIndexUserTokenConfigurationsJsonTokenTypeConfigurationToTerraform = exports.kendraIndexTagsToTerraform = exports.kendraIndexServerSideEncryptionConfigurationToTerraform = exports.kendraIndexDocumentMetadataConfigurationsToTerraform = exports.kendraIndexDocumentMetadataConfigurationsSearchToTerraform = exports.kendraIndexDocumentMetadataConfigurationsRelevanceToTerraform = exports.kendraIndexDocumentMetadataConfigurationsRelevanceValueImportanceItemsToTerraform = exports.kendraIndexCapacityUnitsToTerraform = void 0;
const cdktf = require("cdktf");
function kendraIndexCapacityUnitsToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        query_capacity_units: cdktf.numberToTerraform(struct.queryCapacityUnits),
        storage_capacity_units: cdktf.numberToTerraform(struct.storageCapacityUnits),
    };
}
exports.kendraIndexCapacityUnitsToTerraform = kendraIndexCapacityUnitsToTerraform;
function kendraIndexDocumentMetadataConfigurationsRelevanceValueImportanceItemsToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        key: cdktf.stringToTerraform(struct.key),
        value: cdktf.numberToTerraform(struct.value),
    };
}
exports.kendraIndexDocumentMetadataConfigurationsRelevanceValueImportanceItemsToTerraform = kendraIndexDocumentMetadataConfigurationsRelevanceValueImportanceItemsToTerraform;
function kendraIndexDocumentMetadataConfigurationsRelevanceToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        duration: cdktf.stringToTerraform(struct.duration),
        freshness: cdktf.booleanToTerraform(struct.freshness),
        importance: cdktf.numberToTerraform(struct.importance),
        rank_order: cdktf.stringToTerraform(struct.rankOrder),
        value_importance_items: cdktf.listMapper(kendraIndexDocumentMetadataConfigurationsRelevanceValueImportanceItemsToTerraform)(struct.valueImportanceItems),
    };
}
exports.kendraIndexDocumentMetadataConfigurationsRelevanceToTerraform = kendraIndexDocumentMetadataConfigurationsRelevanceToTerraform;
function kendraIndexDocumentMetadataConfigurationsSearchToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        displayable: cdktf.booleanToTerraform(struct.displayable),
        facetable: cdktf.booleanToTerraform(struct.facetable),
        searchable: cdktf.booleanToTerraform(struct.searchable),
        sortable: cdktf.booleanToTerraform(struct.sortable),
    };
}
exports.kendraIndexDocumentMetadataConfigurationsSearchToTerraform = kendraIndexDocumentMetadataConfigurationsSearchToTerraform;
function kendraIndexDocumentMetadataConfigurationsToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        name: cdktf.stringToTerraform(struct.name),
        relevance: kendraIndexDocumentMetadataConfigurationsRelevanceToTerraform(struct.relevance),
        search: kendraIndexDocumentMetadataConfigurationsSearchToTerraform(struct.search),
        type: cdktf.stringToTerraform(struct.type),
    };
}
exports.kendraIndexDocumentMetadataConfigurationsToTerraform = kendraIndexDocumentMetadataConfigurationsToTerraform;
function kendraIndexServerSideEncryptionConfigurationToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        kms_key_id: cdktf.stringToTerraform(struct.kmsKeyId),
    };
}
exports.kendraIndexServerSideEncryptionConfigurationToTerraform = kendraIndexServerSideEncryptionConfigurationToTerraform;
function kendraIndexTagsToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        key: cdktf.stringToTerraform(struct.key),
        value: cdktf.stringToTerraform(struct.value),
    };
}
exports.kendraIndexTagsToTerraform = kendraIndexTagsToTerraform;
function kendraIndexUserTokenConfigurationsJsonTokenTypeConfigurationToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        group_attribute_field: cdktf.stringToTerraform(struct.groupAttributeField),
        user_name_attribute_field: cdktf.stringToTerraform(struct.userNameAttributeField),
    };
}
exports.kendraIndexUserTokenConfigurationsJsonTokenTypeConfigurationToTerraform = kendraIndexUserTokenConfigurationsJsonTokenTypeConfigurationToTerraform;
function kendraIndexUserTokenConfigurationsJwtTokenTypeConfigurationToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        claim_regex: cdktf.stringToTerraform(struct.claimRegex),
        group_attribute_field: cdktf.stringToTerraform(struct.groupAttributeField),
        issuer: cdktf.stringToTerraform(struct.issuer),
        key_location: cdktf.stringToTerraform(struct.keyLocation),
        secret_manager_arn: cdktf.stringToTerraform(struct.secretManagerArn),
        url: cdktf.stringToTerraform(struct.url),
        user_name_attribute_field: cdktf.stringToTerraform(struct.userNameAttributeField),
    };
}
exports.kendraIndexUserTokenConfigurationsJwtTokenTypeConfigurationToTerraform = kendraIndexUserTokenConfigurationsJwtTokenTypeConfigurationToTerraform;
function kendraIndexUserTokenConfigurationsToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        json_token_type_configuration: kendraIndexUserTokenConfigurationsJsonTokenTypeConfigurationToTerraform(struct.jsonTokenTypeConfiguration),
        jwt_token_type_configuration: kendraIndexUserTokenConfigurationsJwtTokenTypeConfigurationToTerraform(struct.jwtTokenTypeConfiguration),
    };
}
exports.kendraIndexUserTokenConfigurationsToTerraform = kendraIndexUserTokenConfigurationsToTerraform;
/**
* Represents a {@link https://www.terraform.io/docs/providers/awscc/r/kendra_index.html awscc_kendra_index}
*/
class KendraIndex extends cdktf.TerraformResource {
    // ===========
    // INITIALIZER
    // ===========
    /**
    * Create a new {@link https://www.terraform.io/docs/providers/awscc/r/kendra_index.html awscc_kendra_index} Resource
    *
    * @param scope The scope in which to define this construct
    * @param id The scoped construct ID. Must be unique amongst siblings in the same scope
    * @param options KendraIndexConfig
    */
    constructor(scope, id, config) {
        super(scope, id, {
            terraformResourceType: 'awscc_kendra_index',
            terraformGeneratorMetadata: {
                providerName: 'awscc'
            },
            provider: config.provider,
            dependsOn: config.dependsOn,
            count: config.count,
            lifecycle: config.lifecycle
        });
        this._capacityUnits = config.capacityUnits;
        this._description = config.description;
        this._documentMetadataConfigurations = config.documentMetadataConfigurations;
        this._edition = config.edition;
        this._name = config.name;
        this._roleArn = config.roleArn;
        this._serverSideEncryptionConfiguration = config.serverSideEncryptionConfiguration;
        this._tags = config.tags;
        this._userContextPolicy = config.userContextPolicy;
        this._userTokenConfigurations = config.userTokenConfigurations;
    }
    // ==========
    // ATTRIBUTES
    // ==========
    // arn - computed: true, optional: false, required: false
    get arn() {
        return this.getStringAttribute('arn');
    }
    get capacityUnits() {
        return this.interpolationForAttribute('capacity_units');
    }
    set capacityUnits(value) {
        this._capacityUnits = value;
    }
    resetCapacityUnits() {
        this._capacityUnits = undefined;
    }
    // Temporarily expose input value. Use with caution.
    get capacityUnitsInput() {
        return this._capacityUnits;
    }
    get description() {
        return this.getStringAttribute('description');
    }
    set description(value) {
        this._description = value;
    }
    resetDescription() {
        this._description = undefined;
    }
    // Temporarily expose input value. Use with caution.
    get descriptionInput() {
        return this._description;
    }
    get documentMetadataConfigurations() {
        return this.interpolationForAttribute('document_metadata_configurations');
    }
    set documentMetadataConfigurations(value) {
        this._documentMetadataConfigurations = value;
    }
    resetDocumentMetadataConfigurations() {
        this._documentMetadataConfigurations = undefined;
    }
    // Temporarily expose input value. Use with caution.
    get documentMetadataConfigurationsInput() {
        return this._documentMetadataConfigurations;
    }
    get edition() {
        return this.getStringAttribute('edition');
    }
    set edition(value) {
        this._edition = value;
    }
    // Temporarily expose input value. Use with caution.
    get editionInput() {
        return this._edition;
    }
    // id - computed: true, optional: false, required: false
    get id() {
        return this.getStringAttribute('id');
    }
    get name() {
        return this.getStringAttribute('name');
    }
    set name(value) {
        this._name = value;
    }
    // Temporarily expose input value. Use with caution.
    get nameInput() {
        return this._name;
    }
    get roleArn() {
        return this.getStringAttribute('role_arn');
    }
    set roleArn(value) {
        this._roleArn = value;
    }
    // Temporarily expose input value. Use with caution.
    get roleArnInput() {
        return this._roleArn;
    }
    get serverSideEncryptionConfiguration() {
        return this.interpolationForAttribute('server_side_encryption_configuration');
    }
    set serverSideEncryptionConfiguration(value) {
        this._serverSideEncryptionConfiguration = value;
    }
    resetServerSideEncryptionConfiguration() {
        this._serverSideEncryptionConfiguration = undefined;
    }
    // Temporarily expose input value. Use with caution.
    get serverSideEncryptionConfigurationInput() {
        return this._serverSideEncryptionConfiguration;
    }
    get tags() {
        return this.interpolationForAttribute('tags');
    }
    set tags(value) {
        this._tags = value;
    }
    resetTags() {
        this._tags = undefined;
    }
    // Temporarily expose input value. Use with caution.
    get tagsInput() {
        return this._tags;
    }
    get userContextPolicy() {
        return this.getStringAttribute('user_context_policy');
    }
    set userContextPolicy(value) {
        this._userContextPolicy = value;
    }
    resetUserContextPolicy() {
        this._userContextPolicy = undefined;
    }
    // Temporarily expose input value. Use with caution.
    get userContextPolicyInput() {
        return this._userContextPolicy;
    }
    get userTokenConfigurations() {
        return this.interpolationForAttribute('user_token_configurations');
    }
    set userTokenConfigurations(value) {
        this._userTokenConfigurations = value;
    }
    resetUserTokenConfigurations() {
        this._userTokenConfigurations = undefined;
    }
    // Temporarily expose input value. Use with caution.
    get userTokenConfigurationsInput() {
        return this._userTokenConfigurations;
    }
    // =========
    // SYNTHESIS
    // =========
    synthesizeAttributes() {
        return {
            capacity_units: kendraIndexCapacityUnitsToTerraform(this._capacityUnits),
            description: cdktf.stringToTerraform(this._description),
            document_metadata_configurations: cdktf.listMapper(kendraIndexDocumentMetadataConfigurationsToTerraform)(this._documentMetadataConfigurations),
            edition: cdktf.stringToTerraform(this._edition),
            name: cdktf.stringToTerraform(this._name),
            role_arn: cdktf.stringToTerraform(this._roleArn),
            server_side_encryption_configuration: kendraIndexServerSideEncryptionConfigurationToTerraform(this._serverSideEncryptionConfiguration),
            tags: cdktf.listMapper(kendraIndexTagsToTerraform)(this._tags),
            user_context_policy: cdktf.stringToTerraform(this._userContextPolicy),
            user_token_configurations: cdktf.listMapper(kendraIndexUserTokenConfigurationsToTerraform)(this._userTokenConfigurations),
        };
    }
}
exports.KendraIndex = KendraIndex;
// =================
// STATIC PROPERTIES
// =================
KendraIndex.tfResourceType = "awscc_kendra_index";
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoia2VuZHJhLWluZGV4LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsia2VuZHJhLWluZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxvRUFBb0U7QUFDcEUsMkNBQTJDOzs7QUFHM0MsK0JBQStCO0FBaUUvQixTQUFnQixtQ0FBbUMsQ0FBQyxNQUFpQztJQUNuRixJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsRUFBRTtRQUFFLE9BQU8sTUFBTSxDQUFDO0tBQUU7SUFDakQsT0FBTztRQUNMLG9CQUFvQixFQUFFLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxNQUFPLENBQUMsa0JBQWtCLENBQUM7UUFDekUsc0JBQXNCLEVBQUUsS0FBSyxDQUFDLGlCQUFpQixDQUFDLE1BQU8sQ0FBQyxvQkFBb0IsQ0FBQztLQUM5RSxDQUFBO0FBQ0gsQ0FBQztBQU5ELGtGQU1DO0FBYUQsU0FBZ0IsaUZBQWlGLENBQUMsTUFBK0U7SUFDL0ssSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLEVBQUU7UUFBRSxPQUFPLE1BQU0sQ0FBQztLQUFFO0lBQ2pELE9BQU87UUFDTCxHQUFHLEVBQUUsS0FBSyxDQUFDLGlCQUFpQixDQUFDLE1BQU8sQ0FBQyxHQUFHLENBQUM7UUFDekMsS0FBSyxFQUFFLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxNQUFPLENBQUMsS0FBSyxDQUFDO0tBQzlDLENBQUE7QUFDSCxDQUFDO0FBTkQsOEtBTUM7QUF5QkQsU0FBZ0IsNkRBQTZELENBQUMsTUFBMkQ7SUFDdkksSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLEVBQUU7UUFBRSxPQUFPLE1BQU0sQ0FBQztLQUFFO0lBQ2pELE9BQU87UUFDTCxRQUFRLEVBQUUsS0FBSyxDQUFDLGlCQUFpQixDQUFDLE1BQU8sQ0FBQyxRQUFRLENBQUM7UUFDbkQsU0FBUyxFQUFFLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxNQUFPLENBQUMsU0FBUyxDQUFDO1FBQ3RELFVBQVUsRUFBRSxLQUFLLENBQUMsaUJBQWlCLENBQUMsTUFBTyxDQUFDLFVBQVUsQ0FBQztRQUN2RCxVQUFVLEVBQUUsS0FBSyxDQUFDLGlCQUFpQixDQUFDLE1BQU8sQ0FBQyxTQUFTLENBQUM7UUFDdEQsc0JBQXNCLEVBQUUsS0FBSyxDQUFDLFVBQVUsQ0FBQyxpRkFBaUYsQ0FBQyxDQUFDLE1BQU8sQ0FBQyxvQkFBb0IsQ0FBQztLQUMxSixDQUFBO0FBQ0gsQ0FBQztBQVRELHNJQVNDO0FBcUJELFNBQWdCLDBEQUEwRCxDQUFDLE1BQXdEO0lBQ2pJLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1FBQUUsT0FBTyxNQUFNLENBQUM7S0FBRTtJQUNqRCxPQUFPO1FBQ0wsV0FBVyxFQUFFLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxNQUFPLENBQUMsV0FBVyxDQUFDO1FBQzFELFNBQVMsRUFBRSxLQUFLLENBQUMsa0JBQWtCLENBQUMsTUFBTyxDQUFDLFNBQVMsQ0FBQztRQUN0RCxVQUFVLEVBQUUsS0FBSyxDQUFDLGtCQUFrQixDQUFDLE1BQU8sQ0FBQyxVQUFVLENBQUM7UUFDeEQsUUFBUSxFQUFFLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxNQUFPLENBQUMsUUFBUSxDQUFDO0tBQ3JELENBQUE7QUFDSCxDQUFDO0FBUkQsZ0lBUUM7QUFxQkQsU0FBZ0Isb0RBQW9ELENBQUMsTUFBa0Q7SUFDckgsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLEVBQUU7UUFBRSxPQUFPLE1BQU0sQ0FBQztLQUFFO0lBQ2pELE9BQU87UUFDTCxJQUFJLEVBQUUsS0FBSyxDQUFDLGlCQUFpQixDQUFDLE1BQU8sQ0FBQyxJQUFJLENBQUM7UUFDM0MsU0FBUyxFQUFFLDZEQUE2RCxDQUFDLE1BQU8sQ0FBQyxTQUFTLENBQUM7UUFDM0YsTUFBTSxFQUFFLDBEQUEwRCxDQUFDLE1BQU8sQ0FBQyxNQUFNLENBQUM7UUFDbEYsSUFBSSxFQUFFLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxNQUFPLENBQUMsSUFBSSxDQUFDO0tBQzVDLENBQUE7QUFDSCxDQUFDO0FBUkQsb0hBUUM7QUFTRCxTQUFnQix1REFBdUQsQ0FBQyxNQUFxRDtJQUMzSCxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsRUFBRTtRQUFFLE9BQU8sTUFBTSxDQUFDO0tBQUU7SUFDakQsT0FBTztRQUNMLFVBQVUsRUFBRSxLQUFLLENBQUMsaUJBQWlCLENBQUMsTUFBTyxDQUFDLFFBQVEsQ0FBQztLQUN0RCxDQUFBO0FBQ0gsQ0FBQztBQUxELDBIQUtDO0FBaUJELFNBQWdCLDBCQUEwQixDQUFDLE1BQXdCO0lBQ2pFLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1FBQUUsT0FBTyxNQUFNLENBQUM7S0FBRTtJQUNqRCxPQUFPO1FBQ0wsR0FBRyxFQUFFLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxNQUFPLENBQUMsR0FBRyxDQUFDO1FBQ3pDLEtBQUssRUFBRSxLQUFLLENBQUMsaUJBQWlCLENBQUMsTUFBTyxDQUFDLEtBQUssQ0FBQztLQUM5QyxDQUFBO0FBQ0gsQ0FBQztBQU5ELGdFQU1DO0FBYUQsU0FBZ0IsdUVBQXVFLENBQUMsTUFBcUU7SUFDM0osSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLEVBQUU7UUFBRSxPQUFPLE1BQU0sQ0FBQztLQUFFO0lBQ2pELE9BQU87UUFDTCxxQkFBcUIsRUFBRSxLQUFLLENBQUMsaUJBQWlCLENBQUMsTUFBTyxDQUFDLG1CQUFtQixDQUFDO1FBQzNFLHlCQUF5QixFQUFFLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxNQUFPLENBQUMsc0JBQXNCLENBQUM7S0FDbkYsQ0FBQTtBQUNILENBQUM7QUFORCwwSkFNQztBQW1DRCxTQUFnQixzRUFBc0UsQ0FBQyxNQUFvRTtJQUN6SixJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsRUFBRTtRQUFFLE9BQU8sTUFBTSxDQUFDO0tBQUU7SUFDakQsT0FBTztRQUNMLFdBQVcsRUFBRSxLQUFLLENBQUMsaUJBQWlCLENBQUMsTUFBTyxDQUFDLFVBQVUsQ0FBQztRQUN4RCxxQkFBcUIsRUFBRSxLQUFLLENBQUMsaUJBQWlCLENBQUMsTUFBTyxDQUFDLG1CQUFtQixDQUFDO1FBQzNFLE1BQU0sRUFBRSxLQUFLLENBQUMsaUJBQWlCLENBQUMsTUFBTyxDQUFDLE1BQU0sQ0FBQztRQUMvQyxZQUFZLEVBQUUsS0FBSyxDQUFDLGlCQUFpQixDQUFDLE1BQU8sQ0FBQyxXQUFXLENBQUM7UUFDMUQsa0JBQWtCLEVBQUUsS0FBSyxDQUFDLGlCQUFpQixDQUFDLE1BQU8sQ0FBQyxnQkFBZ0IsQ0FBQztRQUNyRSxHQUFHLEVBQUUsS0FBSyxDQUFDLGlCQUFpQixDQUFDLE1BQU8sQ0FBQyxHQUFHLENBQUM7UUFDekMseUJBQXlCLEVBQUUsS0FBSyxDQUFDLGlCQUFpQixDQUFDLE1BQU8sQ0FBQyxzQkFBc0IsQ0FBQztLQUNuRixDQUFBO0FBQ0gsQ0FBQztBQVhELHdKQVdDO0FBYUQsU0FBZ0IsNkNBQTZDLENBQUMsTUFBMkM7SUFDdkcsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLEVBQUU7UUFBRSxPQUFPLE1BQU0sQ0FBQztLQUFFO0lBQ2pELE9BQU87UUFDTCw2QkFBNkIsRUFBRSx1RUFBdUUsQ0FBQyxNQUFPLENBQUMsMEJBQTBCLENBQUM7UUFDMUksNEJBQTRCLEVBQUUsc0VBQXNFLENBQUMsTUFBTyxDQUFDLHlCQUF5QixDQUFDO0tBQ3hJLENBQUE7QUFDSCxDQUFDO0FBTkQsc0dBTUM7QUFHRDs7RUFFRTtBQUNGLE1BQWEsV0FBWSxTQUFRLEtBQUssQ0FBQyxpQkFBaUI7SUFPdEQsY0FBYztJQUNkLGNBQWM7SUFDZCxjQUFjO0lBRWQ7Ozs7OztNQU1FO0lBQ0YsWUFBbUIsS0FBZ0IsRUFBRSxFQUFVLEVBQUUsTUFBeUI7UUFDeEUsS0FBSyxDQUFDLEtBQUssRUFBRSxFQUFFLEVBQUU7WUFDZixxQkFBcUIsRUFBRSxvQkFBb0I7WUFDM0MsMEJBQTBCLEVBQUU7Z0JBQzFCLFlBQVksRUFBRSxPQUFPO2FBQ3RCO1lBQ0QsUUFBUSxFQUFFLE1BQU0sQ0FBQyxRQUFRO1lBQ3pCLFNBQVMsRUFBRSxNQUFNLENBQUMsU0FBUztZQUMzQixLQUFLLEVBQUUsTUFBTSxDQUFDLEtBQUs7WUFDbkIsU0FBUyxFQUFFLE1BQU0sQ0FBQyxTQUFTO1NBQzVCLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxjQUFjLEdBQUcsTUFBTSxDQUFDLGFBQWEsQ0FBQztRQUMzQyxJQUFJLENBQUMsWUFBWSxHQUFHLE1BQU0sQ0FBQyxXQUFXLENBQUM7UUFDdkMsSUFBSSxDQUFDLCtCQUErQixHQUFHLE1BQU0sQ0FBQyw4QkFBOEIsQ0FBQztRQUM3RSxJQUFJLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUM7UUFDL0IsSUFBSSxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxRQUFRLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQztRQUMvQixJQUFJLENBQUMsa0NBQWtDLEdBQUcsTUFBTSxDQUFDLGlDQUFpQyxDQUFDO1FBQ25GLElBQUksQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQztRQUN6QixJQUFJLENBQUMsa0JBQWtCLEdBQUcsTUFBTSxDQUFDLGlCQUFpQixDQUFDO1FBQ25ELElBQUksQ0FBQyx3QkFBd0IsR0FBRyxNQUFNLENBQUMsdUJBQXVCLENBQUM7SUFDakUsQ0FBQztJQUVELGFBQWE7SUFDYixhQUFhO0lBQ2IsYUFBYTtJQUViLHlEQUF5RDtJQUN6RCxJQUFXLEdBQUc7UUFDWixPQUFPLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN4QyxDQUFDO0lBSUQsSUFBVyxhQUFhO1FBQ3RCLE9BQU8sSUFBSSxDQUFDLHlCQUF5QixDQUFDLGdCQUFnQixDQUFRLENBQUM7SUFDakUsQ0FBQztJQUNELElBQVcsYUFBYSxDQUFDLEtBQStCO1FBQ3RELElBQUksQ0FBQyxjQUFjLEdBQUcsS0FBSyxDQUFDO0lBQzlCLENBQUM7SUFDTSxrQkFBa0I7UUFDdkIsSUFBSSxDQUFDLGNBQWMsR0FBRyxTQUFTLENBQUM7SUFDbEMsQ0FBQztJQUNELG9EQUFvRDtJQUNwRCxJQUFXLGtCQUFrQjtRQUMzQixPQUFPLElBQUksQ0FBQyxjQUFjLENBQUE7SUFDNUIsQ0FBQztJQUlELElBQVcsV0FBVztRQUNwQixPQUFPLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxhQUFhLENBQUMsQ0FBQztJQUNoRCxDQUFDO0lBQ0QsSUFBVyxXQUFXLENBQUMsS0FBYTtRQUNsQyxJQUFJLENBQUMsWUFBWSxHQUFHLEtBQUssQ0FBQztJQUM1QixDQUFDO0lBQ00sZ0JBQWdCO1FBQ3JCLElBQUksQ0FBQyxZQUFZLEdBQUcsU0FBUyxDQUFDO0lBQ2hDLENBQUM7SUFDRCxvREFBb0Q7SUFDcEQsSUFBVyxnQkFBZ0I7UUFDekIsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFBO0lBQzFCLENBQUM7SUFJRCxJQUFXLDhCQUE4QjtRQUN2QyxPQUFPLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxrQ0FBa0MsQ0FBUSxDQUFDO0lBQ25GLENBQUM7SUFDRCxJQUFXLDhCQUE4QixDQUFDLEtBQWtEO1FBQzFGLElBQUksQ0FBQywrQkFBK0IsR0FBRyxLQUFLLENBQUM7SUFDL0MsQ0FBQztJQUNNLG1DQUFtQztRQUN4QyxJQUFJLENBQUMsK0JBQStCLEdBQUcsU0FBUyxDQUFDO0lBQ25ELENBQUM7SUFDRCxvREFBb0Q7SUFDcEQsSUFBVyxtQ0FBbUM7UUFDNUMsT0FBTyxJQUFJLENBQUMsK0JBQStCLENBQUE7SUFDN0MsQ0FBQztJQUlELElBQVcsT0FBTztRQUNoQixPQUFPLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUM1QyxDQUFDO0lBQ0QsSUFBVyxPQUFPLENBQUMsS0FBYTtRQUM5QixJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztJQUN4QixDQUFDO0lBQ0Qsb0RBQW9EO0lBQ3BELElBQVcsWUFBWTtRQUNyQixPQUFPLElBQUksQ0FBQyxRQUFRLENBQUE7SUFDdEIsQ0FBQztJQUVELHdEQUF3RDtJQUN4RCxJQUFXLEVBQUU7UUFDWCxPQUFPLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUN2QyxDQUFDO0lBSUQsSUFBVyxJQUFJO1FBQ2IsT0FBTyxJQUFJLENBQUMsa0JBQWtCLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDekMsQ0FBQztJQUNELElBQVcsSUFBSSxDQUFDLEtBQWE7UUFDM0IsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7SUFDckIsQ0FBQztJQUNELG9EQUFvRDtJQUNwRCxJQUFXLFNBQVM7UUFDbEIsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFBO0lBQ25CLENBQUM7SUFJRCxJQUFXLE9BQU87UUFDaEIsT0FBTyxJQUFJLENBQUMsa0JBQWtCLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDN0MsQ0FBQztJQUNELElBQVcsT0FBTyxDQUFDLEtBQWE7UUFDOUIsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7SUFDeEIsQ0FBQztJQUNELG9EQUFvRDtJQUNwRCxJQUFXLFlBQVk7UUFDckIsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFBO0lBQ3RCLENBQUM7SUFJRCxJQUFXLGlDQUFpQztRQUMxQyxPQUFPLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxzQ0FBc0MsQ0FBUSxDQUFDO0lBQ3ZGLENBQUM7SUFDRCxJQUFXLGlDQUFpQyxDQUFDLEtBQW1EO1FBQzlGLElBQUksQ0FBQyxrQ0FBa0MsR0FBRyxLQUFLLENBQUM7SUFDbEQsQ0FBQztJQUNNLHNDQUFzQztRQUMzQyxJQUFJLENBQUMsa0NBQWtDLEdBQUcsU0FBUyxDQUFDO0lBQ3RELENBQUM7SUFDRCxvREFBb0Q7SUFDcEQsSUFBVyxzQ0FBc0M7UUFDL0MsT0FBTyxJQUFJLENBQUMsa0NBQWtDLENBQUE7SUFDaEQsQ0FBQztJQUlELElBQVcsSUFBSTtRQUNiLE9BQU8sSUFBSSxDQUFDLHlCQUF5QixDQUFDLE1BQU0sQ0FBUSxDQUFDO0lBQ3ZELENBQUM7SUFDRCxJQUFXLElBQUksQ0FBQyxLQUF3QjtRQUN0QyxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztJQUNyQixDQUFDO0lBQ00sU0FBUztRQUNkLElBQUksQ0FBQyxLQUFLLEdBQUcsU0FBUyxDQUFDO0lBQ3pCLENBQUM7SUFDRCxvREFBb0Q7SUFDcEQsSUFBVyxTQUFTO1FBQ2xCLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQTtJQUNuQixDQUFDO0lBSUQsSUFBVyxpQkFBaUI7UUFDMUIsT0FBTyxJQUFJLENBQUMsa0JBQWtCLENBQUMscUJBQXFCLENBQUMsQ0FBQztJQUN4RCxDQUFDO0lBQ0QsSUFBVyxpQkFBaUIsQ0FBQyxLQUFhO1FBQ3hDLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxLQUFLLENBQUM7SUFDbEMsQ0FBQztJQUNNLHNCQUFzQjtRQUMzQixJQUFJLENBQUMsa0JBQWtCLEdBQUcsU0FBUyxDQUFDO0lBQ3RDLENBQUM7SUFDRCxvREFBb0Q7SUFDcEQsSUFBVyxzQkFBc0I7UUFDL0IsT0FBTyxJQUFJLENBQUMsa0JBQWtCLENBQUE7SUFDaEMsQ0FBQztJQUlELElBQVcsdUJBQXVCO1FBQ2hDLE9BQU8sSUFBSSxDQUFDLHlCQUF5QixDQUFDLDJCQUEyQixDQUFRLENBQUM7SUFDNUUsQ0FBQztJQUNELElBQVcsdUJBQXVCLENBQUMsS0FBMkM7UUFDNUUsSUFBSSxDQUFDLHdCQUF3QixHQUFHLEtBQUssQ0FBQztJQUN4QyxDQUFDO0lBQ00sNEJBQTRCO1FBQ2pDLElBQUksQ0FBQyx3QkFBd0IsR0FBRyxTQUFTLENBQUM7SUFDNUMsQ0FBQztJQUNELG9EQUFvRDtJQUNwRCxJQUFXLDRCQUE0QjtRQUNyQyxPQUFPLElBQUksQ0FBQyx3QkFBd0IsQ0FBQTtJQUN0QyxDQUFDO0lBRUQsWUFBWTtJQUNaLFlBQVk7SUFDWixZQUFZO0lBRUYsb0JBQW9CO1FBQzVCLE9BQU87WUFDTCxjQUFjLEVBQUUsbUNBQW1DLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQztZQUN4RSxXQUFXLEVBQUUsS0FBSyxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxZQUFZLENBQUM7WUFDdkQsZ0NBQWdDLEVBQUUsS0FBSyxDQUFDLFVBQVUsQ0FBQyxvREFBb0QsQ0FBQyxDQUFDLElBQUksQ0FBQywrQkFBK0IsQ0FBQztZQUM5SSxPQUFPLEVBQUUsS0FBSyxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7WUFDL0MsSUFBSSxFQUFFLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDO1lBQ3pDLFFBQVEsRUFBRSxLQUFLLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztZQUNoRCxvQ0FBb0MsRUFBRSx1REFBdUQsQ0FBQyxJQUFJLENBQUMsa0NBQWtDLENBQUM7WUFDdEksSUFBSSxFQUFFLEtBQUssQ0FBQyxVQUFVLENBQUMsMEJBQTBCLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDO1lBQzlELG1CQUFtQixFQUFFLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUM7WUFDckUseUJBQXlCLEVBQUUsS0FBSyxDQUFDLFVBQVUsQ0FBQyw2Q0FBNkMsQ0FBQyxDQUFDLElBQUksQ0FBQyx3QkFBd0IsQ0FBQztTQUMxSCxDQUFDO0lBQ0osQ0FBQzs7QUEvTkgsa0NBZ09DO0FBOU5DLG9CQUFvQjtBQUNwQixvQkFBb0I7QUFDcEIsb0JBQW9CO0FBQ0csMEJBQWMsR0FBVyxvQkFBb0IsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL3Byb3ZpZGVycy9hd3NjYy9yL2tlbmRyYV9pbmRleC5odG1sXG4vLyBnZW5lcmF0ZWQgZnJvbSB0ZXJyYWZvcm0gcmVzb3VyY2Ugc2NoZW1hXG5cbmltcG9ydCB7IENvbnN0cnVjdCB9IGZyb20gJ2NvbnN0cnVjdHMnO1xuaW1wb3J0ICogYXMgY2RrdGYgZnJvbSAnY2RrdGYnO1xuXG4vLyBDb25maWd1cmF0aW9uXG5cbmV4cG9ydCBpbnRlcmZhY2UgS2VuZHJhSW5kZXhDb25maWcgZXh0ZW5kcyBjZGt0Zi5UZXJyYWZvcm1NZXRhQXJndW1lbnRzIHtcbiAgLyoqXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9rZW5kcmFfaW5kZXguaHRtbCNjYXBhY2l0eV91bml0cyBLZW5kcmFJbmRleCNjYXBhY2l0eV91bml0c31cbiAgKi9cbiAgcmVhZG9ubHkgY2FwYWNpdHlVbml0cz86IEtlbmRyYUluZGV4Q2FwYWNpdHlVbml0cztcbiAgLyoqXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9rZW5kcmFfaW5kZXguaHRtbCNkZXNjcmlwdGlvbiBLZW5kcmFJbmRleCNkZXNjcmlwdGlvbn1cbiAgKi9cbiAgcmVhZG9ubHkgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIC8qKlxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3Iva2VuZHJhX2luZGV4Lmh0bWwjZG9jdW1lbnRfbWV0YWRhdGFfY29uZmlndXJhdGlvbnMgS2VuZHJhSW5kZXgjZG9jdW1lbnRfbWV0YWRhdGFfY29uZmlndXJhdGlvbnN9XG4gICovXG4gIHJlYWRvbmx5IGRvY3VtZW50TWV0YWRhdGFDb25maWd1cmF0aW9ucz86IEtlbmRyYUluZGV4RG9jdW1lbnRNZXRhZGF0YUNvbmZpZ3VyYXRpb25zW107XG4gIC8qKlxuICAqIEVkaXRpb24gb2YgaW5kZXhcbiAgKiBcbiAgKiBEb2NzIGF0IFRlcnJhZm9ybSBSZWdpc3RyeToge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL3Byb3ZpZGVycy9hd3NjYy9yL2tlbmRyYV9pbmRleC5odG1sI2VkaXRpb24gS2VuZHJhSW5kZXgjZWRpdGlvbn1cbiAgKi9cbiAgcmVhZG9ubHkgZWRpdGlvbjogc3RyaW5nO1xuICAvKipcbiAgKiBOYW1lIG9mIGluZGV4XG4gICogXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9rZW5kcmFfaW5kZXguaHRtbCNuYW1lIEtlbmRyYUluZGV4I25hbWV9XG4gICovXG4gIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcbiAgLyoqXG4gICogUm9sZSBBcm5cbiAgKiBcbiAgKiBEb2NzIGF0IFRlcnJhZm9ybSBSZWdpc3RyeToge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL3Byb3ZpZGVycy9hd3NjYy9yL2tlbmRyYV9pbmRleC5odG1sI3JvbGVfYXJuIEtlbmRyYUluZGV4I3JvbGVfYXJufVxuICAqL1xuICByZWFkb25seSByb2xlQXJuOiBzdHJpbmc7XG4gIC8qKlxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3Iva2VuZHJhX2luZGV4Lmh0bWwjc2VydmVyX3NpZGVfZW5jcnlwdGlvbl9jb25maWd1cmF0aW9uIEtlbmRyYUluZGV4I3NlcnZlcl9zaWRlX2VuY3J5cHRpb25fY29uZmlndXJhdGlvbn1cbiAgKi9cbiAgcmVhZG9ubHkgc2VydmVyU2lkZUVuY3J5cHRpb25Db25maWd1cmF0aW9uPzogS2VuZHJhSW5kZXhTZXJ2ZXJTaWRlRW5jcnlwdGlvbkNvbmZpZ3VyYXRpb247XG4gIC8qKlxuICAqIExpc3Qgb2YgdGFnc1xuICAqIFxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3Iva2VuZHJhX2luZGV4Lmh0bWwjdGFncyBLZW5kcmFJbmRleCN0YWdzfVxuICAqL1xuICByZWFkb25seSB0YWdzPzogS2VuZHJhSW5kZXhUYWdzW107XG4gIC8qKlxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3Iva2VuZHJhX2luZGV4Lmh0bWwjdXNlcl9jb250ZXh0X3BvbGljeSBLZW5kcmFJbmRleCN1c2VyX2NvbnRleHRfcG9saWN5fVxuICAqL1xuICByZWFkb25seSB1c2VyQ29udGV4dFBvbGljeT86IHN0cmluZztcbiAgLyoqXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9rZW5kcmFfaW5kZXguaHRtbCN1c2VyX3Rva2VuX2NvbmZpZ3VyYXRpb25zIEtlbmRyYUluZGV4I3VzZXJfdG9rZW5fY29uZmlndXJhdGlvbnN9XG4gICovXG4gIHJlYWRvbmx5IHVzZXJUb2tlbkNvbmZpZ3VyYXRpb25zPzogS2VuZHJhSW5kZXhVc2VyVG9rZW5Db25maWd1cmF0aW9uc1tdO1xufVxuZXhwb3J0IGludGVyZmFjZSBLZW5kcmFJbmRleENhcGFjaXR5VW5pdHMge1xuICAvKipcbiAgKiBEb2NzIGF0IFRlcnJhZm9ybSBSZWdpc3RyeToge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL3Byb3ZpZGVycy9hd3NjYy9yL2tlbmRyYV9pbmRleC5odG1sI3F1ZXJ5X2NhcGFjaXR5X3VuaXRzIEtlbmRyYUluZGV4I3F1ZXJ5X2NhcGFjaXR5X3VuaXRzfVxuICAqL1xuICByZWFkb25seSBxdWVyeUNhcGFjaXR5VW5pdHM6IG51bWJlcjtcbiAgLyoqXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9rZW5kcmFfaW5kZXguaHRtbCNzdG9yYWdlX2NhcGFjaXR5X3VuaXRzIEtlbmRyYUluZGV4I3N0b3JhZ2VfY2FwYWNpdHlfdW5pdHN9XG4gICovXG4gIHJlYWRvbmx5IHN0b3JhZ2VDYXBhY2l0eVVuaXRzOiBudW1iZXI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBrZW5kcmFJbmRleENhcGFjaXR5VW5pdHNUb1RlcnJhZm9ybShzdHJ1Y3Q/OiBLZW5kcmFJbmRleENhcGFjaXR5VW5pdHMpOiBhbnkge1xuICBpZiAoIWNka3RmLmNhbkluc3BlY3Qoc3RydWN0KSkgeyByZXR1cm4gc3RydWN0OyB9XG4gIHJldHVybiB7XG4gICAgcXVlcnlfY2FwYWNpdHlfdW5pdHM6IGNka3RmLm51bWJlclRvVGVycmFmb3JtKHN0cnVjdCEucXVlcnlDYXBhY2l0eVVuaXRzKSxcbiAgICBzdG9yYWdlX2NhcGFjaXR5X3VuaXRzOiBjZGt0Zi5udW1iZXJUb1RlcnJhZm9ybShzdHJ1Y3QhLnN0b3JhZ2VDYXBhY2l0eVVuaXRzKSxcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEtlbmRyYUluZGV4RG9jdW1lbnRNZXRhZGF0YUNvbmZpZ3VyYXRpb25zUmVsZXZhbmNlVmFsdWVJbXBvcnRhbmNlSXRlbXMge1xuICAvKipcbiAgKiBEb2NzIGF0IFRlcnJhZm9ybSBSZWdpc3RyeToge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL3Byb3ZpZGVycy9hd3NjYy9yL2tlbmRyYV9pbmRleC5odG1sI2tleSBLZW5kcmFJbmRleCNrZXl9XG4gICovXG4gIHJlYWRvbmx5IGtleT86IHN0cmluZztcbiAgLyoqXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9rZW5kcmFfaW5kZXguaHRtbCN2YWx1ZSBLZW5kcmFJbmRleCN2YWx1ZX1cbiAgKi9cbiAgcmVhZG9ubHkgdmFsdWU/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBrZW5kcmFJbmRleERvY3VtZW50TWV0YWRhdGFDb25maWd1cmF0aW9uc1JlbGV2YW5jZVZhbHVlSW1wb3J0YW5jZUl0ZW1zVG9UZXJyYWZvcm0oc3RydWN0PzogS2VuZHJhSW5kZXhEb2N1bWVudE1ldGFkYXRhQ29uZmlndXJhdGlvbnNSZWxldmFuY2VWYWx1ZUltcG9ydGFuY2VJdGVtcyk6IGFueSB7XG4gIGlmICghY2RrdGYuY2FuSW5zcGVjdChzdHJ1Y3QpKSB7IHJldHVybiBzdHJ1Y3Q7IH1cbiAgcmV0dXJuIHtcbiAgICBrZXk6IGNka3RmLnN0cmluZ1RvVGVycmFmb3JtKHN0cnVjdCEua2V5KSxcbiAgICB2YWx1ZTogY2RrdGYubnVtYmVyVG9UZXJyYWZvcm0oc3RydWN0IS52YWx1ZSksXG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBLZW5kcmFJbmRleERvY3VtZW50TWV0YWRhdGFDb25maWd1cmF0aW9uc1JlbGV2YW5jZSB7XG4gIC8qKlxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3Iva2VuZHJhX2luZGV4Lmh0bWwjZHVyYXRpb24gS2VuZHJhSW5kZXgjZHVyYXRpb259XG4gICovXG4gIHJlYWRvbmx5IGR1cmF0aW9uPzogc3RyaW5nO1xuICAvKipcbiAgKiBEb2NzIGF0IFRlcnJhZm9ybSBSZWdpc3RyeToge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL3Byb3ZpZGVycy9hd3NjYy9yL2tlbmRyYV9pbmRleC5odG1sI2ZyZXNobmVzcyBLZW5kcmFJbmRleCNmcmVzaG5lc3N9XG4gICovXG4gIHJlYWRvbmx5IGZyZXNobmVzcz86IGJvb2xlYW4gfCBjZGt0Zi5JUmVzb2x2YWJsZTtcbiAgLyoqXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9rZW5kcmFfaW5kZXguaHRtbCNpbXBvcnRhbmNlIEtlbmRyYUluZGV4I2ltcG9ydGFuY2V9XG4gICovXG4gIHJlYWRvbmx5IGltcG9ydGFuY2U/OiBudW1iZXI7XG4gIC8qKlxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3Iva2VuZHJhX2luZGV4Lmh0bWwjcmFua19vcmRlciBLZW5kcmFJbmRleCNyYW5rX29yZGVyfVxuICAqL1xuICByZWFkb25seSByYW5rT3JkZXI/OiBzdHJpbmc7XG4gIC8qKlxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3Iva2VuZHJhX2luZGV4Lmh0bWwjdmFsdWVfaW1wb3J0YW5jZV9pdGVtcyBLZW5kcmFJbmRleCN2YWx1ZV9pbXBvcnRhbmNlX2l0ZW1zfVxuICAqL1xuICByZWFkb25seSB2YWx1ZUltcG9ydGFuY2VJdGVtcz86IEtlbmRyYUluZGV4RG9jdW1lbnRNZXRhZGF0YUNvbmZpZ3VyYXRpb25zUmVsZXZhbmNlVmFsdWVJbXBvcnRhbmNlSXRlbXNbXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGtlbmRyYUluZGV4RG9jdW1lbnRNZXRhZGF0YUNvbmZpZ3VyYXRpb25zUmVsZXZhbmNlVG9UZXJyYWZvcm0oc3RydWN0PzogS2VuZHJhSW5kZXhEb2N1bWVudE1ldGFkYXRhQ29uZmlndXJhdGlvbnNSZWxldmFuY2UpOiBhbnkge1xuICBpZiAoIWNka3RmLmNhbkluc3BlY3Qoc3RydWN0KSkgeyByZXR1cm4gc3RydWN0OyB9XG4gIHJldHVybiB7XG4gICAgZHVyYXRpb246IGNka3RmLnN0cmluZ1RvVGVycmFmb3JtKHN0cnVjdCEuZHVyYXRpb24pLFxuICAgIGZyZXNobmVzczogY2RrdGYuYm9vbGVhblRvVGVycmFmb3JtKHN0cnVjdCEuZnJlc2huZXNzKSxcbiAgICBpbXBvcnRhbmNlOiBjZGt0Zi5udW1iZXJUb1RlcnJhZm9ybShzdHJ1Y3QhLmltcG9ydGFuY2UpLFxuICAgIHJhbmtfb3JkZXI6IGNka3RmLnN0cmluZ1RvVGVycmFmb3JtKHN0cnVjdCEucmFua09yZGVyKSxcbiAgICB2YWx1ZV9pbXBvcnRhbmNlX2l0ZW1zOiBjZGt0Zi5saXN0TWFwcGVyKGtlbmRyYUluZGV4RG9jdW1lbnRNZXRhZGF0YUNvbmZpZ3VyYXRpb25zUmVsZXZhbmNlVmFsdWVJbXBvcnRhbmNlSXRlbXNUb1RlcnJhZm9ybSkoc3RydWN0IS52YWx1ZUltcG9ydGFuY2VJdGVtcyksXG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBLZW5kcmFJbmRleERvY3VtZW50TWV0YWRhdGFDb25maWd1cmF0aW9uc1NlYXJjaCB7XG4gIC8qKlxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3Iva2VuZHJhX2luZGV4Lmh0bWwjZGlzcGxheWFibGUgS2VuZHJhSW5kZXgjZGlzcGxheWFibGV9XG4gICovXG4gIHJlYWRvbmx5IGRpc3BsYXlhYmxlPzogYm9vbGVhbiB8IGNka3RmLklSZXNvbHZhYmxlO1xuICAvKipcbiAgKiBEb2NzIGF0IFRlcnJhZm9ybSBSZWdpc3RyeToge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL3Byb3ZpZGVycy9hd3NjYy9yL2tlbmRyYV9pbmRleC5odG1sI2ZhY2V0YWJsZSBLZW5kcmFJbmRleCNmYWNldGFibGV9XG4gICovXG4gIHJlYWRvbmx5IGZhY2V0YWJsZT86IGJvb2xlYW4gfCBjZGt0Zi5JUmVzb2x2YWJsZTtcbiAgLyoqXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9rZW5kcmFfaW5kZXguaHRtbCNzZWFyY2hhYmxlIEtlbmRyYUluZGV4I3NlYXJjaGFibGV9XG4gICovXG4gIHJlYWRvbmx5IHNlYXJjaGFibGU/OiBib29sZWFuIHwgY2RrdGYuSVJlc29sdmFibGU7XG4gIC8qKlxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3Iva2VuZHJhX2luZGV4Lmh0bWwjc29ydGFibGUgS2VuZHJhSW5kZXgjc29ydGFibGV9XG4gICovXG4gIHJlYWRvbmx5IHNvcnRhYmxlPzogYm9vbGVhbiB8IGNka3RmLklSZXNvbHZhYmxlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24ga2VuZHJhSW5kZXhEb2N1bWVudE1ldGFkYXRhQ29uZmlndXJhdGlvbnNTZWFyY2hUb1RlcnJhZm9ybShzdHJ1Y3Q/OiBLZW5kcmFJbmRleERvY3VtZW50TWV0YWRhdGFDb25maWd1cmF0aW9uc1NlYXJjaCk6IGFueSB7XG4gIGlmICghY2RrdGYuY2FuSW5zcGVjdChzdHJ1Y3QpKSB7IHJldHVybiBzdHJ1Y3Q7IH1cbiAgcmV0dXJuIHtcbiAgICBkaXNwbGF5YWJsZTogY2RrdGYuYm9vbGVhblRvVGVycmFmb3JtKHN0cnVjdCEuZGlzcGxheWFibGUpLFxuICAgIGZhY2V0YWJsZTogY2RrdGYuYm9vbGVhblRvVGVycmFmb3JtKHN0cnVjdCEuZmFjZXRhYmxlKSxcbiAgICBzZWFyY2hhYmxlOiBjZGt0Zi5ib29sZWFuVG9UZXJyYWZvcm0oc3RydWN0IS5zZWFyY2hhYmxlKSxcbiAgICBzb3J0YWJsZTogY2RrdGYuYm9vbGVhblRvVGVycmFmb3JtKHN0cnVjdCEuc29ydGFibGUpLFxuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgS2VuZHJhSW5kZXhEb2N1bWVudE1ldGFkYXRhQ29uZmlndXJhdGlvbnMge1xuICAvKipcbiAgKiBEb2NzIGF0IFRlcnJhZm9ybSBSZWdpc3RyeToge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL3Byb3ZpZGVycy9hd3NjYy9yL2tlbmRyYV9pbmRleC5odG1sI25hbWUgS2VuZHJhSW5kZXgjbmFtZX1cbiAgKi9cbiAgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xuICAvKipcbiAgKiBEb2NzIGF0IFRlcnJhZm9ybSBSZWdpc3RyeToge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL3Byb3ZpZGVycy9hd3NjYy9yL2tlbmRyYV9pbmRleC5odG1sI3JlbGV2YW5jZSBLZW5kcmFJbmRleCNyZWxldmFuY2V9XG4gICovXG4gIHJlYWRvbmx5IHJlbGV2YW5jZT86IEtlbmRyYUluZGV4RG9jdW1lbnRNZXRhZGF0YUNvbmZpZ3VyYXRpb25zUmVsZXZhbmNlO1xuICAvKipcbiAgKiBEb2NzIGF0IFRlcnJhZm9ybSBSZWdpc3RyeToge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL3Byb3ZpZGVycy9hd3NjYy9yL2tlbmRyYV9pbmRleC5odG1sI3NlYXJjaCBLZW5kcmFJbmRleCNzZWFyY2h9XG4gICovXG4gIHJlYWRvbmx5IHNlYXJjaD86IEtlbmRyYUluZGV4RG9jdW1lbnRNZXRhZGF0YUNvbmZpZ3VyYXRpb25zU2VhcmNoO1xuICAvKipcbiAgKiBEb2NzIGF0IFRlcnJhZm9ybSBSZWdpc3RyeToge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL3Byb3ZpZGVycy9hd3NjYy9yL2tlbmRyYV9pbmRleC5odG1sI3R5cGUgS2VuZHJhSW5kZXgjdHlwZX1cbiAgKi9cbiAgcmVhZG9ubHkgdHlwZTogc3RyaW5nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24ga2VuZHJhSW5kZXhEb2N1bWVudE1ldGFkYXRhQ29uZmlndXJhdGlvbnNUb1RlcnJhZm9ybShzdHJ1Y3Q/OiBLZW5kcmFJbmRleERvY3VtZW50TWV0YWRhdGFDb25maWd1cmF0aW9ucyk6IGFueSB7XG4gIGlmICghY2RrdGYuY2FuSW5zcGVjdChzdHJ1Y3QpKSB7IHJldHVybiBzdHJ1Y3Q7IH1cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiBjZGt0Zi5zdHJpbmdUb1RlcnJhZm9ybShzdHJ1Y3QhLm5hbWUpLFxuICAgIHJlbGV2YW5jZToga2VuZHJhSW5kZXhEb2N1bWVudE1ldGFkYXRhQ29uZmlndXJhdGlvbnNSZWxldmFuY2VUb1RlcnJhZm9ybShzdHJ1Y3QhLnJlbGV2YW5jZSksXG4gICAgc2VhcmNoOiBrZW5kcmFJbmRleERvY3VtZW50TWV0YWRhdGFDb25maWd1cmF0aW9uc1NlYXJjaFRvVGVycmFmb3JtKHN0cnVjdCEuc2VhcmNoKSxcbiAgICB0eXBlOiBjZGt0Zi5zdHJpbmdUb1RlcnJhZm9ybShzdHJ1Y3QhLnR5cGUpLFxuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgS2VuZHJhSW5kZXhTZXJ2ZXJTaWRlRW5jcnlwdGlvbkNvbmZpZ3VyYXRpb24ge1xuICAvKipcbiAgKiBEb2NzIGF0IFRlcnJhZm9ybSBSZWdpc3RyeToge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL3Byb3ZpZGVycy9hd3NjYy9yL2tlbmRyYV9pbmRleC5odG1sI2ttc19rZXlfaWQgS2VuZHJhSW5kZXgja21zX2tleV9pZH1cbiAgKi9cbiAgcmVhZG9ubHkga21zS2V5SWQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBrZW5kcmFJbmRleFNlcnZlclNpZGVFbmNyeXB0aW9uQ29uZmlndXJhdGlvblRvVGVycmFmb3JtKHN0cnVjdD86IEtlbmRyYUluZGV4U2VydmVyU2lkZUVuY3J5cHRpb25Db25maWd1cmF0aW9uKTogYW55IHtcbiAgaWYgKCFjZGt0Zi5jYW5JbnNwZWN0KHN0cnVjdCkpIHsgcmV0dXJuIHN0cnVjdDsgfVxuICByZXR1cm4ge1xuICAgIGttc19rZXlfaWQ6IGNka3RmLnN0cmluZ1RvVGVycmFmb3JtKHN0cnVjdCEua21zS2V5SWQpLFxuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgS2VuZHJhSW5kZXhUYWdzIHtcbiAgLyoqXG4gICogQSBzdHJpbmcgdXNlZCB0byBpZGVudGlmeSB0aGlzIHRhZ1xuICAqIFxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3Iva2VuZHJhX2luZGV4Lmh0bWwja2V5IEtlbmRyYUluZGV4I2tleX1cbiAgKi9cbiAgcmVhZG9ubHkga2V5OiBzdHJpbmc7XG4gIC8qKlxuICAqIEEgc3RyaW5nIGNvbnRhaW5pbmcgdGhlIHZhbHVlIGZvciB0aGUgdGFnXG4gICogXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9rZW5kcmFfaW5kZXguaHRtbCN2YWx1ZSBLZW5kcmFJbmRleCN2YWx1ZX1cbiAgKi9cbiAgcmVhZG9ubHkgdmFsdWU6IHN0cmluZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGtlbmRyYUluZGV4VGFnc1RvVGVycmFmb3JtKHN0cnVjdD86IEtlbmRyYUluZGV4VGFncyk6IGFueSB7XG4gIGlmICghY2RrdGYuY2FuSW5zcGVjdChzdHJ1Y3QpKSB7IHJldHVybiBzdHJ1Y3Q7IH1cbiAgcmV0dXJuIHtcbiAgICBrZXk6IGNka3RmLnN0cmluZ1RvVGVycmFmb3JtKHN0cnVjdCEua2V5KSxcbiAgICB2YWx1ZTogY2RrdGYuc3RyaW5nVG9UZXJyYWZvcm0oc3RydWN0IS52YWx1ZSksXG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBLZW5kcmFJbmRleFVzZXJUb2tlbkNvbmZpZ3VyYXRpb25zSnNvblRva2VuVHlwZUNvbmZpZ3VyYXRpb24ge1xuICAvKipcbiAgKiBEb2NzIGF0IFRlcnJhZm9ybSBSZWdpc3RyeToge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL3Byb3ZpZGVycy9hd3NjYy9yL2tlbmRyYV9pbmRleC5odG1sI2dyb3VwX2F0dHJpYnV0ZV9maWVsZCBLZW5kcmFJbmRleCNncm91cF9hdHRyaWJ1dGVfZmllbGR9XG4gICovXG4gIHJlYWRvbmx5IGdyb3VwQXR0cmlidXRlRmllbGQ6IHN0cmluZztcbiAgLyoqXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9rZW5kcmFfaW5kZXguaHRtbCN1c2VyX25hbWVfYXR0cmlidXRlX2ZpZWxkIEtlbmRyYUluZGV4I3VzZXJfbmFtZV9hdHRyaWJ1dGVfZmllbGR9XG4gICovXG4gIHJlYWRvbmx5IHVzZXJOYW1lQXR0cmlidXRlRmllbGQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGtlbmRyYUluZGV4VXNlclRva2VuQ29uZmlndXJhdGlvbnNKc29uVG9rZW5UeXBlQ29uZmlndXJhdGlvblRvVGVycmFmb3JtKHN0cnVjdD86IEtlbmRyYUluZGV4VXNlclRva2VuQ29uZmlndXJhdGlvbnNKc29uVG9rZW5UeXBlQ29uZmlndXJhdGlvbik6IGFueSB7XG4gIGlmICghY2RrdGYuY2FuSW5zcGVjdChzdHJ1Y3QpKSB7IHJldHVybiBzdHJ1Y3Q7IH1cbiAgcmV0dXJuIHtcbiAgICBncm91cF9hdHRyaWJ1dGVfZmllbGQ6IGNka3RmLnN0cmluZ1RvVGVycmFmb3JtKHN0cnVjdCEuZ3JvdXBBdHRyaWJ1dGVGaWVsZCksXG4gICAgdXNlcl9uYW1lX2F0dHJpYnV0ZV9maWVsZDogY2RrdGYuc3RyaW5nVG9UZXJyYWZvcm0oc3RydWN0IS51c2VyTmFtZUF0dHJpYnV0ZUZpZWxkKSxcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEtlbmRyYUluZGV4VXNlclRva2VuQ29uZmlndXJhdGlvbnNKd3RUb2tlblR5cGVDb25maWd1cmF0aW9uIHtcbiAgLyoqXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9rZW5kcmFfaW5kZXguaHRtbCNjbGFpbV9yZWdleCBLZW5kcmFJbmRleCNjbGFpbV9yZWdleH1cbiAgKi9cbiAgcmVhZG9ubHkgY2xhaW1SZWdleD86IHN0cmluZztcbiAgLyoqXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9rZW5kcmFfaW5kZXguaHRtbCNncm91cF9hdHRyaWJ1dGVfZmllbGQgS2VuZHJhSW5kZXgjZ3JvdXBfYXR0cmlidXRlX2ZpZWxkfVxuICAqL1xuICByZWFkb25seSBncm91cEF0dHJpYnV0ZUZpZWxkPzogc3RyaW5nO1xuICAvKipcbiAgKiBEb2NzIGF0IFRlcnJhZm9ybSBSZWdpc3RyeToge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL3Byb3ZpZGVycy9hd3NjYy9yL2tlbmRyYV9pbmRleC5odG1sI2lzc3VlciBLZW5kcmFJbmRleCNpc3N1ZXJ9XG4gICovXG4gIHJlYWRvbmx5IGlzc3Vlcj86IHN0cmluZztcbiAgLyoqXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9rZW5kcmFfaW5kZXguaHRtbCNrZXlfbG9jYXRpb24gS2VuZHJhSW5kZXgja2V5X2xvY2F0aW9ufVxuICAqL1xuICByZWFkb25seSBrZXlMb2NhdGlvbjogc3RyaW5nO1xuICAvKipcbiAgKiBSb2xlIEFyblxuICAqIFxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3Iva2VuZHJhX2luZGV4Lmh0bWwjc2VjcmV0X21hbmFnZXJfYXJuIEtlbmRyYUluZGV4I3NlY3JldF9tYW5hZ2VyX2Fybn1cbiAgKi9cbiAgcmVhZG9ubHkgc2VjcmV0TWFuYWdlckFybj86IHN0cmluZztcbiAgLyoqXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9rZW5kcmFfaW5kZXguaHRtbCN1cmwgS2VuZHJhSW5kZXgjdXJsfVxuICAqL1xuICByZWFkb25seSB1cmw/OiBzdHJpbmc7XG4gIC8qKlxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL3Iva2VuZHJhX2luZGV4Lmh0bWwjdXNlcl9uYW1lX2F0dHJpYnV0ZV9maWVsZCBLZW5kcmFJbmRleCN1c2VyX25hbWVfYXR0cmlidXRlX2ZpZWxkfVxuICAqL1xuICByZWFkb25seSB1c2VyTmFtZUF0dHJpYnV0ZUZpZWxkPzogc3RyaW5nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24ga2VuZHJhSW5kZXhVc2VyVG9rZW5Db25maWd1cmF0aW9uc0p3dFRva2VuVHlwZUNvbmZpZ3VyYXRpb25Ub1RlcnJhZm9ybShzdHJ1Y3Q/OiBLZW5kcmFJbmRleFVzZXJUb2tlbkNvbmZpZ3VyYXRpb25zSnd0VG9rZW5UeXBlQ29uZmlndXJhdGlvbik6IGFueSB7XG4gIGlmICghY2RrdGYuY2FuSW5zcGVjdChzdHJ1Y3QpKSB7IHJldHVybiBzdHJ1Y3Q7IH1cbiAgcmV0dXJuIHtcbiAgICBjbGFpbV9yZWdleDogY2RrdGYuc3RyaW5nVG9UZXJyYWZvcm0oc3RydWN0IS5jbGFpbVJlZ2V4KSxcbiAgICBncm91cF9hdHRyaWJ1dGVfZmllbGQ6IGNka3RmLnN0cmluZ1RvVGVycmFmb3JtKHN0cnVjdCEuZ3JvdXBBdHRyaWJ1dGVGaWVsZCksXG4gICAgaXNzdWVyOiBjZGt0Zi5zdHJpbmdUb1RlcnJhZm9ybShzdHJ1Y3QhLmlzc3VlciksXG4gICAga2V5X2xvY2F0aW9uOiBjZGt0Zi5zdHJpbmdUb1RlcnJhZm9ybShzdHJ1Y3QhLmtleUxvY2F0aW9uKSxcbiAgICBzZWNyZXRfbWFuYWdlcl9hcm46IGNka3RmLnN0cmluZ1RvVGVycmFmb3JtKHN0cnVjdCEuc2VjcmV0TWFuYWdlckFybiksXG4gICAgdXJsOiBjZGt0Zi5zdHJpbmdUb1RlcnJhZm9ybShzdHJ1Y3QhLnVybCksXG4gICAgdXNlcl9uYW1lX2F0dHJpYnV0ZV9maWVsZDogY2RrdGYuc3RyaW5nVG9UZXJyYWZvcm0oc3RydWN0IS51c2VyTmFtZUF0dHJpYnV0ZUZpZWxkKSxcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEtlbmRyYUluZGV4VXNlclRva2VuQ29uZmlndXJhdGlvbnMge1xuICAvKipcbiAgKiBEb2NzIGF0IFRlcnJhZm9ybSBSZWdpc3RyeToge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL3Byb3ZpZGVycy9hd3NjYy9yL2tlbmRyYV9pbmRleC5odG1sI2pzb25fdG9rZW5fdHlwZV9jb25maWd1cmF0aW9uIEtlbmRyYUluZGV4I2pzb25fdG9rZW5fdHlwZV9jb25maWd1cmF0aW9ufVxuICAqL1xuICByZWFkb25seSBqc29uVG9rZW5UeXBlQ29uZmlndXJhdGlvbj86IEtlbmRyYUluZGV4VXNlclRva2VuQ29uZmlndXJhdGlvbnNKc29uVG9rZW5UeXBlQ29uZmlndXJhdGlvbjtcbiAgLyoqXG4gICogRG9jcyBhdCBUZXJyYWZvcm0gUmVnaXN0cnk6IHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9rZW5kcmFfaW5kZXguaHRtbCNqd3RfdG9rZW5fdHlwZV9jb25maWd1cmF0aW9uIEtlbmRyYUluZGV4I2p3dF90b2tlbl90eXBlX2NvbmZpZ3VyYXRpb259XG4gICovXG4gIHJlYWRvbmx5IGp3dFRva2VuVHlwZUNvbmZpZ3VyYXRpb24/OiBLZW5kcmFJbmRleFVzZXJUb2tlbkNvbmZpZ3VyYXRpb25zSnd0VG9rZW5UeXBlQ29uZmlndXJhdGlvbjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGtlbmRyYUluZGV4VXNlclRva2VuQ29uZmlndXJhdGlvbnNUb1RlcnJhZm9ybShzdHJ1Y3Q/OiBLZW5kcmFJbmRleFVzZXJUb2tlbkNvbmZpZ3VyYXRpb25zKTogYW55IHtcbiAgaWYgKCFjZGt0Zi5jYW5JbnNwZWN0KHN0cnVjdCkpIHsgcmV0dXJuIHN0cnVjdDsgfVxuICByZXR1cm4ge1xuICAgIGpzb25fdG9rZW5fdHlwZV9jb25maWd1cmF0aW9uOiBrZW5kcmFJbmRleFVzZXJUb2tlbkNvbmZpZ3VyYXRpb25zSnNvblRva2VuVHlwZUNvbmZpZ3VyYXRpb25Ub1RlcnJhZm9ybShzdHJ1Y3QhLmpzb25Ub2tlblR5cGVDb25maWd1cmF0aW9uKSxcbiAgICBqd3RfdG9rZW5fdHlwZV9jb25maWd1cmF0aW9uOiBrZW5kcmFJbmRleFVzZXJUb2tlbkNvbmZpZ3VyYXRpb25zSnd0VG9rZW5UeXBlQ29uZmlndXJhdGlvblRvVGVycmFmb3JtKHN0cnVjdCEuand0VG9rZW5UeXBlQ29uZmlndXJhdGlvbiksXG4gIH1cbn1cblxuXG4vKipcbiogUmVwcmVzZW50cyBhIHtAbGluayBodHRwczovL3d3dy50ZXJyYWZvcm0uaW8vZG9jcy9wcm92aWRlcnMvYXdzY2Mvci9rZW5kcmFfaW5kZXguaHRtbCBhd3NjY19rZW5kcmFfaW5kZXh9XG4qL1xuZXhwb3J0IGNsYXNzIEtlbmRyYUluZGV4IGV4dGVuZHMgY2RrdGYuVGVycmFmb3JtUmVzb3VyY2Uge1xuXG4gIC8vID09PT09PT09PT09PT09PT09XG4gIC8vIFNUQVRJQyBQUk9QRVJUSUVTXG4gIC8vID09PT09PT09PT09PT09PT09XG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgdGZSZXNvdXJjZVR5cGU6IHN0cmluZyA9IFwiYXdzY2Nfa2VuZHJhX2luZGV4XCI7XG5cbiAgLy8gPT09PT09PT09PT1cbiAgLy8gSU5JVElBTElaRVJcbiAgLy8gPT09PT09PT09PT1cblxuICAvKipcbiAgKiBDcmVhdGUgYSBuZXcge0BsaW5rIGh0dHBzOi8vd3d3LnRlcnJhZm9ybS5pby9kb2NzL3Byb3ZpZGVycy9hd3NjYy9yL2tlbmRyYV9pbmRleC5odG1sIGF3c2NjX2tlbmRyYV9pbmRleH0gUmVzb3VyY2VcbiAgKlxuICAqIEBwYXJhbSBzY29wZSBUaGUgc2NvcGUgaW4gd2hpY2ggdG8gZGVmaW5lIHRoaXMgY29uc3RydWN0XG4gICogQHBhcmFtIGlkIFRoZSBzY29wZWQgY29uc3RydWN0IElELiBNdXN0IGJlIHVuaXF1ZSBhbW9uZ3N0IHNpYmxpbmdzIGluIHRoZSBzYW1lIHNjb3BlXG4gICogQHBhcmFtIG9wdGlvbnMgS2VuZHJhSW5kZXhDb25maWdcbiAgKi9cbiAgcHVibGljIGNvbnN0cnVjdG9yKHNjb3BlOiBDb25zdHJ1Y3QsIGlkOiBzdHJpbmcsIGNvbmZpZzogS2VuZHJhSW5kZXhDb25maWcpIHtcbiAgICBzdXBlcihzY29wZSwgaWQsIHtcbiAgICAgIHRlcnJhZm9ybVJlc291cmNlVHlwZTogJ2F3c2NjX2tlbmRyYV9pbmRleCcsXG4gICAgICB0ZXJyYWZvcm1HZW5lcmF0b3JNZXRhZGF0YToge1xuICAgICAgICBwcm92aWRlck5hbWU6ICdhd3NjYydcbiAgICAgIH0sXG4gICAgICBwcm92aWRlcjogY29uZmlnLnByb3ZpZGVyLFxuICAgICAgZGVwZW5kc09uOiBjb25maWcuZGVwZW5kc09uLFxuICAgICAgY291bnQ6IGNvbmZpZy5jb3VudCxcbiAgICAgIGxpZmVjeWNsZTogY29uZmlnLmxpZmVjeWNsZVxuICAgIH0pO1xuICAgIHRoaXMuX2NhcGFjaXR5VW5pdHMgPSBjb25maWcuY2FwYWNpdHlVbml0cztcbiAgICB0aGlzLl9kZXNjcmlwdGlvbiA9IGNvbmZpZy5kZXNjcmlwdGlvbjtcbiAgICB0aGlzLl9kb2N1bWVudE1ldGFkYXRhQ29uZmlndXJhdGlvbnMgPSBjb25maWcuZG9jdW1lbnRNZXRhZGF0YUNvbmZpZ3VyYXRpb25zO1xuICAgIHRoaXMuX2VkaXRpb24gPSBjb25maWcuZWRpdGlvbjtcbiAgICB0aGlzLl9uYW1lID0gY29uZmlnLm5hbWU7XG4gICAgdGhpcy5fcm9sZUFybiA9IGNvbmZpZy5yb2xlQXJuO1xuICAgIHRoaXMuX3NlcnZlclNpZGVFbmNyeXB0aW9uQ29uZmlndXJhdGlvbiA9IGNvbmZpZy5zZXJ2ZXJTaWRlRW5jcnlwdGlvbkNvbmZpZ3VyYXRpb247XG4gICAgdGhpcy5fdGFncyA9IGNvbmZpZy50YWdzO1xuICAgIHRoaXMuX3VzZXJDb250ZXh0UG9saWN5ID0gY29uZmlnLnVzZXJDb250ZXh0UG9saWN5O1xuICAgIHRoaXMuX3VzZXJUb2tlbkNvbmZpZ3VyYXRpb25zID0gY29uZmlnLnVzZXJUb2tlbkNvbmZpZ3VyYXRpb25zO1xuICB9XG5cbiAgLy8gPT09PT09PT09PVxuICAvLyBBVFRSSUJVVEVTXG4gIC8vID09PT09PT09PT1cblxuICAvLyBhcm4gLSBjb21wdXRlZDogdHJ1ZSwgb3B0aW9uYWw6IGZhbHNlLCByZXF1aXJlZDogZmFsc2VcbiAgcHVibGljIGdldCBhcm4oKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0U3RyaW5nQXR0cmlidXRlKCdhcm4nKTtcbiAgfVxuXG4gIC8vIGNhcGFjaXR5X3VuaXRzIC0gY29tcHV0ZWQ6IGZhbHNlLCBvcHRpb25hbDogdHJ1ZSwgcmVxdWlyZWQ6IGZhbHNlXG4gIHByaXZhdGUgX2NhcGFjaXR5VW5pdHM/OiBLZW5kcmFJbmRleENhcGFjaXR5VW5pdHM7XG4gIHB1YmxpYyBnZXQgY2FwYWNpdHlVbml0cygpIHtcbiAgICByZXR1cm4gdGhpcy5pbnRlcnBvbGF0aW9uRm9yQXR0cmlidXRlKCdjYXBhY2l0eV91bml0cycpIGFzIGFueTtcbiAgfVxuICBwdWJsaWMgc2V0IGNhcGFjaXR5VW5pdHModmFsdWU6IEtlbmRyYUluZGV4Q2FwYWNpdHlVbml0cyApIHtcbiAgICB0aGlzLl9jYXBhY2l0eVVuaXRzID0gdmFsdWU7XG4gIH1cbiAgcHVibGljIHJlc2V0Q2FwYWNpdHlVbml0cygpIHtcbiAgICB0aGlzLl9jYXBhY2l0eVVuaXRzID0gdW5kZWZpbmVkO1xuICB9XG4gIC8vIFRlbXBvcmFyaWx5IGV4cG9zZSBpbnB1dCB2YWx1ZS4gVXNlIHdpdGggY2F1dGlvbi5cbiAgcHVibGljIGdldCBjYXBhY2l0eVVuaXRzSW5wdXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhcGFjaXR5VW5pdHNcbiAgfVxuXG4gIC8vIGRlc2NyaXB0aW9uIC0gY29tcHV0ZWQ6IGZhbHNlLCBvcHRpb25hbDogdHJ1ZSwgcmVxdWlyZWQ6IGZhbHNlXG4gIHByaXZhdGUgX2Rlc2NyaXB0aW9uPzogc3RyaW5nO1xuICBwdWJsaWMgZ2V0IGRlc2NyaXB0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmdldFN0cmluZ0F0dHJpYnV0ZSgnZGVzY3JpcHRpb24nKTtcbiAgfVxuICBwdWJsaWMgc2V0IGRlc2NyaXB0aW9uKHZhbHVlOiBzdHJpbmcgKSB7XG4gICAgdGhpcy5fZGVzY3JpcHRpb24gPSB2YWx1ZTtcbiAgfVxuICBwdWJsaWMgcmVzZXREZXNjcmlwdGlvbigpIHtcbiAgICB0aGlzLl9kZXNjcmlwdGlvbiA9IHVuZGVmaW5lZDtcbiAgfVxuICAvLyBUZW1wb3JhcmlseSBleHBvc2UgaW5wdXQgdmFsdWUuIFVzZSB3aXRoIGNhdXRpb24uXG4gIHB1YmxpYyBnZXQgZGVzY3JpcHRpb25JbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGVzY3JpcHRpb25cbiAgfVxuXG4gIC8vIGRvY3VtZW50X21ldGFkYXRhX2NvbmZpZ3VyYXRpb25zIC0gY29tcHV0ZWQ6IGZhbHNlLCBvcHRpb25hbDogdHJ1ZSwgcmVxdWlyZWQ6IGZhbHNlXG4gIHByaXZhdGUgX2RvY3VtZW50TWV0YWRhdGFDb25maWd1cmF0aW9ucz86IEtlbmRyYUluZGV4RG9jdW1lbnRNZXRhZGF0YUNvbmZpZ3VyYXRpb25zW107XG4gIHB1YmxpYyBnZXQgZG9jdW1lbnRNZXRhZGF0YUNvbmZpZ3VyYXRpb25zKCkge1xuICAgIHJldHVybiB0aGlzLmludGVycG9sYXRpb25Gb3JBdHRyaWJ1dGUoJ2RvY3VtZW50X21ldGFkYXRhX2NvbmZpZ3VyYXRpb25zJykgYXMgYW55O1xuICB9XG4gIHB1YmxpYyBzZXQgZG9jdW1lbnRNZXRhZGF0YUNvbmZpZ3VyYXRpb25zKHZhbHVlOiBLZW5kcmFJbmRleERvY3VtZW50TWV0YWRhdGFDb25maWd1cmF0aW9uc1tdICkge1xuICAgIHRoaXMuX2RvY3VtZW50TWV0YWRhdGFDb25maWd1cmF0aW9ucyA9IHZhbHVlO1xuICB9XG4gIHB1YmxpYyByZXNldERvY3VtZW50TWV0YWRhdGFDb25maWd1cmF0aW9ucygpIHtcbiAgICB0aGlzLl9kb2N1bWVudE1ldGFkYXRhQ29uZmlndXJhdGlvbnMgPSB1bmRlZmluZWQ7XG4gIH1cbiAgLy8gVGVtcG9yYXJpbHkgZXhwb3NlIGlucHV0IHZhbHVlLiBVc2Ugd2l0aCBjYXV0aW9uLlxuICBwdWJsaWMgZ2V0IGRvY3VtZW50TWV0YWRhdGFDb25maWd1cmF0aW9uc0lucHV0KCkge1xuICAgIHJldHVybiB0aGlzLl9kb2N1bWVudE1ldGFkYXRhQ29uZmlndXJhdGlvbnNcbiAgfVxuXG4gIC8vIGVkaXRpb24gLSBjb21wdXRlZDogZmFsc2UsIG9wdGlvbmFsOiBmYWxzZSwgcmVxdWlyZWQ6IHRydWVcbiAgcHJpdmF0ZSBfZWRpdGlvbjogc3RyaW5nO1xuICBwdWJsaWMgZ2V0IGVkaXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0U3RyaW5nQXR0cmlidXRlKCdlZGl0aW9uJyk7XG4gIH1cbiAgcHVibGljIHNldCBlZGl0aW9uKHZhbHVlOiBzdHJpbmcpIHtcbiAgICB0aGlzLl9lZGl0aW9uID0gdmFsdWU7XG4gIH1cbiAgLy8gVGVtcG9yYXJpbHkgZXhwb3NlIGlucHV0IHZhbHVlLiBVc2Ugd2l0aCBjYXV0aW9uLlxuICBwdWJsaWMgZ2V0IGVkaXRpb25JbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZWRpdGlvblxuICB9XG5cbiAgLy8gaWQgLSBjb21wdXRlZDogdHJ1ZSwgb3B0aW9uYWw6IGZhbHNlLCByZXF1aXJlZDogZmFsc2VcbiAgcHVibGljIGdldCBpZCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRTdHJpbmdBdHRyaWJ1dGUoJ2lkJyk7XG4gIH1cblxuICAvLyBuYW1lIC0gY29tcHV0ZWQ6IGZhbHNlLCBvcHRpb25hbDogZmFsc2UsIHJlcXVpcmVkOiB0cnVlXG4gIHByaXZhdGUgX25hbWU6IHN0cmluZztcbiAgcHVibGljIGdldCBuYW1lKCkge1xuICAgIHJldHVybiB0aGlzLmdldFN0cmluZ0F0dHJpYnV0ZSgnbmFtZScpO1xuICB9XG4gIHB1YmxpYyBzZXQgbmFtZSh2YWx1ZTogc3RyaW5nKSB7XG4gICAgdGhpcy5fbmFtZSA9IHZhbHVlO1xuICB9XG4gIC8vIFRlbXBvcmFyaWx5IGV4cG9zZSBpbnB1dCB2YWx1ZS4gVXNlIHdpdGggY2F1dGlvbi5cbiAgcHVibGljIGdldCBuYW1lSW5wdXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX25hbWVcbiAgfVxuXG4gIC8vIHJvbGVfYXJuIC0gY29tcHV0ZWQ6IGZhbHNlLCBvcHRpb25hbDogZmFsc2UsIHJlcXVpcmVkOiB0cnVlXG4gIHByaXZhdGUgX3JvbGVBcm46IHN0cmluZztcbiAgcHVibGljIGdldCByb2xlQXJuKCkge1xuICAgIHJldHVybiB0aGlzLmdldFN0cmluZ0F0dHJpYnV0ZSgncm9sZV9hcm4nKTtcbiAgfVxuICBwdWJsaWMgc2V0IHJvbGVBcm4odmFsdWU6IHN0cmluZykge1xuICAgIHRoaXMuX3JvbGVBcm4gPSB2YWx1ZTtcbiAgfVxuICAvLyBUZW1wb3JhcmlseSBleHBvc2UgaW5wdXQgdmFsdWUuIFVzZSB3aXRoIGNhdXRpb24uXG4gIHB1YmxpYyBnZXQgcm9sZUFybklucHV0KCkge1xuICAgIHJldHVybiB0aGlzLl9yb2xlQXJuXG4gIH1cblxuICAvLyBzZXJ2ZXJfc2lkZV9lbmNyeXB0aW9uX2NvbmZpZ3VyYXRpb24gLSBjb21wdXRlZDogdHJ1ZSwgb3B0aW9uYWw6IHRydWUsIHJlcXVpcmVkOiBmYWxzZVxuICBwcml2YXRlIF9zZXJ2ZXJTaWRlRW5jcnlwdGlvbkNvbmZpZ3VyYXRpb24/OiBLZW5kcmFJbmRleFNlcnZlclNpZGVFbmNyeXB0aW9uQ29uZmlndXJhdGlvbjtcbiAgcHVibGljIGdldCBzZXJ2ZXJTaWRlRW5jcnlwdGlvbkNvbmZpZ3VyYXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuaW50ZXJwb2xhdGlvbkZvckF0dHJpYnV0ZSgnc2VydmVyX3NpZGVfZW5jcnlwdGlvbl9jb25maWd1cmF0aW9uJykgYXMgYW55O1xuICB9XG4gIHB1YmxpYyBzZXQgc2VydmVyU2lkZUVuY3J5cHRpb25Db25maWd1cmF0aW9uKHZhbHVlOiBLZW5kcmFJbmRleFNlcnZlclNpZGVFbmNyeXB0aW9uQ29uZmlndXJhdGlvbikge1xuICAgIHRoaXMuX3NlcnZlclNpZGVFbmNyeXB0aW9uQ29uZmlndXJhdGlvbiA9IHZhbHVlO1xuICB9XG4gIHB1YmxpYyByZXNldFNlcnZlclNpZGVFbmNyeXB0aW9uQ29uZmlndXJhdGlvbigpIHtcbiAgICB0aGlzLl9zZXJ2ZXJTaWRlRW5jcnlwdGlvbkNvbmZpZ3VyYXRpb24gPSB1bmRlZmluZWQ7XG4gIH1cbiAgLy8gVGVtcG9yYXJpbHkgZXhwb3NlIGlucHV0IHZhbHVlLiBVc2Ugd2l0aCBjYXV0aW9uLlxuICBwdWJsaWMgZ2V0IHNlcnZlclNpZGVFbmNyeXB0aW9uQ29uZmlndXJhdGlvbklucHV0KCkge1xuICAgIHJldHVybiB0aGlzLl9zZXJ2ZXJTaWRlRW5jcnlwdGlvbkNvbmZpZ3VyYXRpb25cbiAgfVxuXG4gIC8vIHRhZ3MgLSBjb21wdXRlZDogZmFsc2UsIG9wdGlvbmFsOiB0cnVlLCByZXF1aXJlZDogZmFsc2VcbiAgcHJpdmF0ZSBfdGFncz86IEtlbmRyYUluZGV4VGFnc1tdO1xuICBwdWJsaWMgZ2V0IHRhZ3MoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW50ZXJwb2xhdGlvbkZvckF0dHJpYnV0ZSgndGFncycpIGFzIGFueTtcbiAgfVxuICBwdWJsaWMgc2V0IHRhZ3ModmFsdWU6IEtlbmRyYUluZGV4VGFnc1tdICkge1xuICAgIHRoaXMuX3RhZ3MgPSB2YWx1ZTtcbiAgfVxuICBwdWJsaWMgcmVzZXRUYWdzKCkge1xuICAgIHRoaXMuX3RhZ3MgPSB1bmRlZmluZWQ7XG4gIH1cbiAgLy8gVGVtcG9yYXJpbHkgZXhwb3NlIGlucHV0IHZhbHVlLiBVc2Ugd2l0aCBjYXV0aW9uLlxuICBwdWJsaWMgZ2V0IHRhZ3NJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5fdGFnc1xuICB9XG5cbiAgLy8gdXNlcl9jb250ZXh0X3BvbGljeSAtIGNvbXB1dGVkOiBmYWxzZSwgb3B0aW9uYWw6IHRydWUsIHJlcXVpcmVkOiBmYWxzZVxuICBwcml2YXRlIF91c2VyQ29udGV4dFBvbGljeT86IHN0cmluZztcbiAgcHVibGljIGdldCB1c2VyQ29udGV4dFBvbGljeSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRTdHJpbmdBdHRyaWJ1dGUoJ3VzZXJfY29udGV4dF9wb2xpY3knKTtcbiAgfVxuICBwdWJsaWMgc2V0IHVzZXJDb250ZXh0UG9saWN5KHZhbHVlOiBzdHJpbmcgKSB7XG4gICAgdGhpcy5fdXNlckNvbnRleHRQb2xpY3kgPSB2YWx1ZTtcbiAgfVxuICBwdWJsaWMgcmVzZXRVc2VyQ29udGV4dFBvbGljeSgpIHtcbiAgICB0aGlzLl91c2VyQ29udGV4dFBvbGljeSA9IHVuZGVmaW5lZDtcbiAgfVxuICAvLyBUZW1wb3JhcmlseSBleHBvc2UgaW5wdXQgdmFsdWUuIFVzZSB3aXRoIGNhdXRpb24uXG4gIHB1YmxpYyBnZXQgdXNlckNvbnRleHRQb2xpY3lJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5fdXNlckNvbnRleHRQb2xpY3lcbiAgfVxuXG4gIC8vIHVzZXJfdG9rZW5fY29uZmlndXJhdGlvbnMgLSBjb21wdXRlZDogZmFsc2UsIG9wdGlvbmFsOiB0cnVlLCByZXF1aXJlZDogZmFsc2VcbiAgcHJpdmF0ZSBfdXNlclRva2VuQ29uZmlndXJhdGlvbnM/OiBLZW5kcmFJbmRleFVzZXJUb2tlbkNvbmZpZ3VyYXRpb25zW107XG4gIHB1YmxpYyBnZXQgdXNlclRva2VuQ29uZmlndXJhdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW50ZXJwb2xhdGlvbkZvckF0dHJpYnV0ZSgndXNlcl90b2tlbl9jb25maWd1cmF0aW9ucycpIGFzIGFueTtcbiAgfVxuICBwdWJsaWMgc2V0IHVzZXJUb2tlbkNvbmZpZ3VyYXRpb25zKHZhbHVlOiBLZW5kcmFJbmRleFVzZXJUb2tlbkNvbmZpZ3VyYXRpb25zW10gKSB7XG4gICAgdGhpcy5fdXNlclRva2VuQ29uZmlndXJhdGlvbnMgPSB2YWx1ZTtcbiAgfVxuICBwdWJsaWMgcmVzZXRVc2VyVG9rZW5Db25maWd1cmF0aW9ucygpIHtcbiAgICB0aGlzLl91c2VyVG9rZW5Db25maWd1cmF0aW9ucyA9IHVuZGVmaW5lZDtcbiAgfVxuICAvLyBUZW1wb3JhcmlseSBleHBvc2UgaW5wdXQgdmFsdWUuIFVzZSB3aXRoIGNhdXRpb24uXG4gIHB1YmxpYyBnZXQgdXNlclRva2VuQ29uZmlndXJhdGlvbnNJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5fdXNlclRva2VuQ29uZmlndXJhdGlvbnNcbiAgfVxuXG4gIC8vID09PT09PT09PVxuICAvLyBTWU5USEVTSVNcbiAgLy8gPT09PT09PT09XG5cbiAgcHJvdGVjdGVkIHN5bnRoZXNpemVBdHRyaWJ1dGVzKCk6IHsgW25hbWU6IHN0cmluZ106IGFueSB9IHtcbiAgICByZXR1cm4ge1xuICAgICAgY2FwYWNpdHlfdW5pdHM6IGtlbmRyYUluZGV4Q2FwYWNpdHlVbml0c1RvVGVycmFmb3JtKHRoaXMuX2NhcGFjaXR5VW5pdHMpLFxuICAgICAgZGVzY3JpcHRpb246IGNka3RmLnN0cmluZ1RvVGVycmFmb3JtKHRoaXMuX2Rlc2NyaXB0aW9uKSxcbiAgICAgIGRvY3VtZW50X21ldGFkYXRhX2NvbmZpZ3VyYXRpb25zOiBjZGt0Zi5saXN0TWFwcGVyKGtlbmRyYUluZGV4RG9jdW1lbnRNZXRhZGF0YUNvbmZpZ3VyYXRpb25zVG9UZXJyYWZvcm0pKHRoaXMuX2RvY3VtZW50TWV0YWRhdGFDb25maWd1cmF0aW9ucyksXG4gICAgICBlZGl0aW9uOiBjZGt0Zi5zdHJpbmdUb1RlcnJhZm9ybSh0aGlzLl9lZGl0aW9uKSxcbiAgICAgIG5hbWU6IGNka3RmLnN0cmluZ1RvVGVycmFmb3JtKHRoaXMuX25hbWUpLFxuICAgICAgcm9sZV9hcm46IGNka3RmLnN0cmluZ1RvVGVycmFmb3JtKHRoaXMuX3JvbGVBcm4pLFxuICAgICAgc2VydmVyX3NpZGVfZW5jcnlwdGlvbl9jb25maWd1cmF0aW9uOiBrZW5kcmFJbmRleFNlcnZlclNpZGVFbmNyeXB0aW9uQ29uZmlndXJhdGlvblRvVGVycmFmb3JtKHRoaXMuX3NlcnZlclNpZGVFbmNyeXB0aW9uQ29uZmlndXJhdGlvbiksXG4gICAgICB0YWdzOiBjZGt0Zi5saXN0TWFwcGVyKGtlbmRyYUluZGV4VGFnc1RvVGVycmFmb3JtKSh0aGlzLl90YWdzKSxcbiAgICAgIHVzZXJfY29udGV4dF9wb2xpY3k6IGNka3RmLnN0cmluZ1RvVGVycmFmb3JtKHRoaXMuX3VzZXJDb250ZXh0UG9saWN5KSxcbiAgICAgIHVzZXJfdG9rZW5fY29uZmlndXJhdGlvbnM6IGNka3RmLmxpc3RNYXBwZXIoa2VuZHJhSW5kZXhVc2VyVG9rZW5Db25maWd1cmF0aW9uc1RvVGVycmFmb3JtKSh0aGlzLl91c2VyVG9rZW5Db25maWd1cmF0aW9ucyksXG4gICAgfTtcbiAgfVxufVxuIl19