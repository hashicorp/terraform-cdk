"use strict";
// https://www.terraform.io/docs/providers/awscc/d/wafv2_logging_configuration.html
// generated from terraform resource schema
Object.defineProperty(exports, "__esModule", { value: true });
exports.DataAwsccWafv2LoggingConfiguration = exports.dataAwsccWafv2LoggingConfigurationRedactedFieldsToTerraform = exports.DataAwsccWafv2LoggingConfigurationRedactedFields = exports.dataAwsccWafv2LoggingConfigurationRedactedFieldsSingleHeaderToTerraform = exports.DataAwsccWafv2LoggingConfigurationRedactedFieldsSingleHeader = exports.dataAwsccWafv2LoggingConfigurationRedactedFieldsJsonBodyToTerraform = exports.DataAwsccWafv2LoggingConfigurationRedactedFieldsJsonBody = exports.dataAwsccWafv2LoggingConfigurationRedactedFieldsJsonBodyMatchPatternToTerraform = exports.DataAwsccWafv2LoggingConfigurationRedactedFieldsJsonBodyMatchPattern = exports.dataAwsccWafv2LoggingConfigurationLoggingFilterToTerraform = exports.DataAwsccWafv2LoggingConfigurationLoggingFilter = exports.dataAwsccWafv2LoggingConfigurationLoggingFilterFiltersToTerraform = exports.DataAwsccWafv2LoggingConfigurationLoggingFilterFilters = exports.dataAwsccWafv2LoggingConfigurationLoggingFilterFiltersConditionsToTerraform = exports.DataAwsccWafv2LoggingConfigurationLoggingFilterFiltersConditions = exports.dataAwsccWafv2LoggingConfigurationLoggingFilterFiltersConditionsLabelNameConditionToTerraform = exports.DataAwsccWafv2LoggingConfigurationLoggingFilterFiltersConditionsLabelNameCondition = exports.dataAwsccWafv2LoggingConfigurationLoggingFilterFiltersConditionsActionConditionToTerraform = exports.DataAwsccWafv2LoggingConfigurationLoggingFilterFiltersConditionsActionCondition = void 0;
const cdktf = require("cdktf");
class DataAwsccWafv2LoggingConfigurationLoggingFilterFiltersConditionsActionCondition extends cdktf.ComplexComputedList {
    // action - computed: true, optional: false, required: false
    get action() {
        return this.getStringAttribute('action');
    }
}
exports.DataAwsccWafv2LoggingConfigurationLoggingFilterFiltersConditionsActionCondition = DataAwsccWafv2LoggingConfigurationLoggingFilterFiltersConditionsActionCondition;
function dataAwsccWafv2LoggingConfigurationLoggingFilterFiltersConditionsActionConditionToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        action: cdktf.stringToTerraform(struct.action),
    };
}
exports.dataAwsccWafv2LoggingConfigurationLoggingFilterFiltersConditionsActionConditionToTerraform = dataAwsccWafv2LoggingConfigurationLoggingFilterFiltersConditionsActionConditionToTerraform;
class DataAwsccWafv2LoggingConfigurationLoggingFilterFiltersConditionsLabelNameCondition extends cdktf.ComplexComputedList {
    // label_name - computed: true, optional: false, required: false
    get labelName() {
        return this.getStringAttribute('label_name');
    }
}
exports.DataAwsccWafv2LoggingConfigurationLoggingFilterFiltersConditionsLabelNameCondition = DataAwsccWafv2LoggingConfigurationLoggingFilterFiltersConditionsLabelNameCondition;
function dataAwsccWafv2LoggingConfigurationLoggingFilterFiltersConditionsLabelNameConditionToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        label_name: cdktf.stringToTerraform(struct.labelName),
    };
}
exports.dataAwsccWafv2LoggingConfigurationLoggingFilterFiltersConditionsLabelNameConditionToTerraform = dataAwsccWafv2LoggingConfigurationLoggingFilterFiltersConditionsLabelNameConditionToTerraform;
class DataAwsccWafv2LoggingConfigurationLoggingFilterFiltersConditions extends cdktf.ComplexComputedList {
    // action_condition - computed: true, optional: false, required: false
    get actionCondition() {
        return this.interpolationForAttribute('action_condition');
    }
    // label_name_condition - computed: true, optional: false, required: false
    get labelNameCondition() {
        return this.interpolationForAttribute('label_name_condition');
    }
}
exports.DataAwsccWafv2LoggingConfigurationLoggingFilterFiltersConditions = DataAwsccWafv2LoggingConfigurationLoggingFilterFiltersConditions;
function dataAwsccWafv2LoggingConfigurationLoggingFilterFiltersConditionsToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        action_condition: dataAwsccWafv2LoggingConfigurationLoggingFilterFiltersConditionsActionConditionToTerraform(struct.actionCondition),
        label_name_condition: dataAwsccWafv2LoggingConfigurationLoggingFilterFiltersConditionsLabelNameConditionToTerraform(struct.labelNameCondition),
    };
}
exports.dataAwsccWafv2LoggingConfigurationLoggingFilterFiltersConditionsToTerraform = dataAwsccWafv2LoggingConfigurationLoggingFilterFiltersConditionsToTerraform;
class DataAwsccWafv2LoggingConfigurationLoggingFilterFilters extends cdktf.ComplexComputedList {
    // behavior - computed: true, optional: false, required: false
    get behavior() {
        return this.getStringAttribute('behavior');
    }
    // conditions - computed: true, optional: false, required: false
    get conditions() {
        return this.interpolationForAttribute('conditions');
    }
    // requirement - computed: true, optional: false, required: false
    get requirement() {
        return this.getStringAttribute('requirement');
    }
}
exports.DataAwsccWafv2LoggingConfigurationLoggingFilterFilters = DataAwsccWafv2LoggingConfigurationLoggingFilterFilters;
function dataAwsccWafv2LoggingConfigurationLoggingFilterFiltersToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        behavior: cdktf.stringToTerraform(struct.behavior),
        conditions: cdktf.listMapper(dataAwsccWafv2LoggingConfigurationLoggingFilterFiltersConditionsToTerraform)(struct.conditions),
        requirement: cdktf.stringToTerraform(struct.requirement),
    };
}
exports.dataAwsccWafv2LoggingConfigurationLoggingFilterFiltersToTerraform = dataAwsccWafv2LoggingConfigurationLoggingFilterFiltersToTerraform;
class DataAwsccWafv2LoggingConfigurationLoggingFilter extends cdktf.ComplexComputedList {
    // default_behavior - computed: true, optional: false, required: false
    get defaultBehavior() {
        return this.getStringAttribute('default_behavior');
    }
    // filters - computed: true, optional: false, required: false
    get filters() {
        return this.interpolationForAttribute('filters');
    }
}
exports.DataAwsccWafv2LoggingConfigurationLoggingFilter = DataAwsccWafv2LoggingConfigurationLoggingFilter;
function dataAwsccWafv2LoggingConfigurationLoggingFilterToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        default_behavior: cdktf.stringToTerraform(struct.defaultBehavior),
        filters: cdktf.listMapper(dataAwsccWafv2LoggingConfigurationLoggingFilterFiltersToTerraform)(struct.filters),
    };
}
exports.dataAwsccWafv2LoggingConfigurationLoggingFilterToTerraform = dataAwsccWafv2LoggingConfigurationLoggingFilterToTerraform;
class DataAwsccWafv2LoggingConfigurationRedactedFieldsJsonBodyMatchPattern extends cdktf.ComplexComputedList {
    // all - computed: true, optional: false, required: false
    get all() {
        return this.interpolationForAttribute('all');
    }
    // included_paths - computed: true, optional: false, required: false
    get includedPaths() {
        return this.getListAttribute('included_paths');
    }
}
exports.DataAwsccWafv2LoggingConfigurationRedactedFieldsJsonBodyMatchPattern = DataAwsccWafv2LoggingConfigurationRedactedFieldsJsonBodyMatchPattern;
function dataAwsccWafv2LoggingConfigurationRedactedFieldsJsonBodyMatchPatternToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        all: cdktf.hashMapper(cdktf.stringToTerraform)(struct.all),
        included_paths: cdktf.listMapper(cdktf.stringToTerraform)(struct.includedPaths),
    };
}
exports.dataAwsccWafv2LoggingConfigurationRedactedFieldsJsonBodyMatchPatternToTerraform = dataAwsccWafv2LoggingConfigurationRedactedFieldsJsonBodyMatchPatternToTerraform;
class DataAwsccWafv2LoggingConfigurationRedactedFieldsJsonBody extends cdktf.ComplexComputedList {
    // invalid_fallback_behavior - computed: true, optional: false, required: false
    get invalidFallbackBehavior() {
        return this.getStringAttribute('invalid_fallback_behavior');
    }
    // match_pattern - computed: true, optional: false, required: false
    get matchPattern() {
        return this.interpolationForAttribute('match_pattern');
    }
    // match_scope - computed: true, optional: false, required: false
    get matchScope() {
        return this.getStringAttribute('match_scope');
    }
}
exports.DataAwsccWafv2LoggingConfigurationRedactedFieldsJsonBody = DataAwsccWafv2LoggingConfigurationRedactedFieldsJsonBody;
function dataAwsccWafv2LoggingConfigurationRedactedFieldsJsonBodyToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        invalid_fallback_behavior: cdktf.stringToTerraform(struct.invalidFallbackBehavior),
        match_pattern: dataAwsccWafv2LoggingConfigurationRedactedFieldsJsonBodyMatchPatternToTerraform(struct.matchPattern),
        match_scope: cdktf.stringToTerraform(struct.matchScope),
    };
}
exports.dataAwsccWafv2LoggingConfigurationRedactedFieldsJsonBodyToTerraform = dataAwsccWafv2LoggingConfigurationRedactedFieldsJsonBodyToTerraform;
class DataAwsccWafv2LoggingConfigurationRedactedFieldsSingleHeader extends cdktf.ComplexComputedList {
    // name - computed: true, optional: false, required: false
    get name() {
        return this.getStringAttribute('name');
    }
}
exports.DataAwsccWafv2LoggingConfigurationRedactedFieldsSingleHeader = DataAwsccWafv2LoggingConfigurationRedactedFieldsSingleHeader;
function dataAwsccWafv2LoggingConfigurationRedactedFieldsSingleHeaderToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        name: cdktf.stringToTerraform(struct.name),
    };
}
exports.dataAwsccWafv2LoggingConfigurationRedactedFieldsSingleHeaderToTerraform = dataAwsccWafv2LoggingConfigurationRedactedFieldsSingleHeaderToTerraform;
class DataAwsccWafv2LoggingConfigurationRedactedFields extends cdktf.ComplexComputedList {
    // json_body - computed: true, optional: false, required: false
    get jsonBody() {
        return this.interpolationForAttribute('json_body');
    }
    // method - computed: true, optional: false, required: false
    get method() {
        return this.interpolationForAttribute('method');
    }
    // query_string - computed: true, optional: false, required: false
    get queryString() {
        return this.interpolationForAttribute('query_string');
    }
    // single_header - computed: true, optional: false, required: false
    get singleHeader() {
        return this.interpolationForAttribute('single_header');
    }
    // uri_path - computed: true, optional: false, required: false
    get uriPath() {
        return this.interpolationForAttribute('uri_path');
    }
}
exports.DataAwsccWafv2LoggingConfigurationRedactedFields = DataAwsccWafv2LoggingConfigurationRedactedFields;
function dataAwsccWafv2LoggingConfigurationRedactedFieldsToTerraform(struct) {
    if (!cdktf.canInspect(struct)) {
        return struct;
    }
    return {
        json_body: dataAwsccWafv2LoggingConfigurationRedactedFieldsJsonBodyToTerraform(struct.jsonBody),
        method: cdktf.hashMapper(cdktf.stringToTerraform)(struct.method),
        query_string: cdktf.hashMapper(cdktf.stringToTerraform)(struct.queryString),
        single_header: dataAwsccWafv2LoggingConfigurationRedactedFieldsSingleHeaderToTerraform(struct.singleHeader),
        uri_path: cdktf.hashMapper(cdktf.stringToTerraform)(struct.uriPath),
    };
}
exports.dataAwsccWafv2LoggingConfigurationRedactedFieldsToTerraform = dataAwsccWafv2LoggingConfigurationRedactedFieldsToTerraform;
/**
* Represents a {@link https://www.terraform.io/docs/providers/awscc/d/wafv2_logging_configuration.html awscc_wafv2_logging_configuration}
*/
class DataAwsccWafv2LoggingConfiguration extends cdktf.TerraformDataSource {
    // ===========
    // INITIALIZER
    // ===========
    /**
    * Create a new {@link https://www.terraform.io/docs/providers/awscc/d/wafv2_logging_configuration.html awscc_wafv2_logging_configuration} Data Source
    *
    * @param scope The scope in which to define this construct
    * @param id The scoped construct ID. Must be unique amongst siblings in the same scope
    * @param options DataAwsccWafv2LoggingConfigurationConfig
    */
    constructor(scope, id, config) {
        super(scope, id, {
            terraformResourceType: 'awscc_wafv2_logging_configuration',
            terraformGeneratorMetadata: {
                providerName: 'awscc'
            },
            provider: config.provider,
            dependsOn: config.dependsOn,
            count: config.count,
            lifecycle: config.lifecycle
        });
        this._id = config.id;
    }
    get id() {
        return this.getStringAttribute('id');
    }
    set id(value) {
        this._id = value;
    }
    // Temporarily expose input value. Use with caution.
    get idInput() {
        return this._id;
    }
    // log_destination_configs - computed: true, optional: false, required: false
    get logDestinationConfigs() {
        return this.getListAttribute('log_destination_configs');
    }
    // logging_filter - computed: true, optional: false, required: false
    get loggingFilter() {
        return this.interpolationForAttribute('logging_filter');
    }
    // managed_by_firewall_manager - computed: true, optional: false, required: false
    get managedByFirewallManager() {
        return this.getBooleanAttribute('managed_by_firewall_manager');
    }
    // redacted_fields - computed: true, optional: false, required: false
    get redactedFields() {
        return this.interpolationForAttribute('redacted_fields');
    }
    // resource_arn - computed: true, optional: false, required: false
    get resourceArn() {
        return this.getStringAttribute('resource_arn');
    }
    // =========
    // SYNTHESIS
    // =========
    synthesizeAttributes() {
        return {
            id: cdktf.stringToTerraform(this._id),
        };
    }
}
exports.DataAwsccWafv2LoggingConfiguration = DataAwsccWafv2LoggingConfiguration;
// =================
// STATIC PROPERTIES
// =================
DataAwsccWafv2LoggingConfiguration.tfResourceType = "awscc_wafv2_logging_configuration";
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YS1hd3NjYy13YWZ2Mi1sb2dnaW5nLWNvbmZpZ3VyYXRpb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJkYXRhLWF3c2NjLXdhZnYyLWxvZ2dpbmctY29uZmlndXJhdGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsbUZBQW1GO0FBQ25GLDJDQUEyQzs7O0FBRzNDLCtCQUErQjtBQVkvQixNQUFhLCtFQUFnRixTQUFRLEtBQUssQ0FBQyxtQkFBbUI7SUFFNUgsNERBQTREO0lBQzVELElBQVcsTUFBTTtRQUNmLE9BQU8sSUFBSSxDQUFDLGtCQUFrQixDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzNDLENBQUM7Q0FDRjtBQU5ELDBLQU1DO0FBRUQsU0FBZ0IsMEZBQTBGLENBQUMsTUFBd0Y7SUFDak0sSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLEVBQUU7UUFBRSxPQUFPLE1BQU0sQ0FBQztLQUFFO0lBQ2pELE9BQU87UUFDTCxNQUFNLEVBQUUsS0FBSyxDQUFDLGlCQUFpQixDQUFDLE1BQU8sQ0FBQyxNQUFNLENBQUM7S0FDaEQsQ0FBQTtBQUNILENBQUM7QUFMRCxnTUFLQztBQUVELE1BQWEsa0ZBQW1GLFNBQVEsS0FBSyxDQUFDLG1CQUFtQjtJQUUvSCxnRUFBZ0U7SUFDaEUsSUFBVyxTQUFTO1FBQ2xCLE9BQU8sSUFBSSxDQUFDLGtCQUFrQixDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQy9DLENBQUM7Q0FDRjtBQU5ELGdMQU1DO0FBRUQsU0FBZ0IsNkZBQTZGLENBQUMsTUFBMkY7SUFDdk0sSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLEVBQUU7UUFBRSxPQUFPLE1BQU0sQ0FBQztLQUFFO0lBQ2pELE9BQU87UUFDTCxVQUFVLEVBQUUsS0FBSyxDQUFDLGlCQUFpQixDQUFDLE1BQU8sQ0FBQyxTQUFTLENBQUM7S0FDdkQsQ0FBQTtBQUNILENBQUM7QUFMRCxzTUFLQztBQUVE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RkM7QUFqRkMsb0JBQW9CO0FBQ3BCLG9CQUFvQjtBQUNwQixvQkFBb0I7QUFDRyxpREFBYyxHQUFXLG1DQUFtQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL2Qvd2FmdjJfbG9nZ2luZ19jb25maWd1cmF0aW9uLmh0bWxcbi8vIGdlbmVyYXRlZCBmcm9tIHRlcnJhZm9ybSByZXNvdXJjZSBzY2hlbWFcblxuaW1wb3J0IHsgQ29uc3RydWN0IH0gZnJvbSAnY29uc3RydWN0cyc7XG5pbXBvcnQgKiBhcyBjZGt0ZiBmcm9tICdjZGt0Zic7XG5cbi8vIENvbmZpZ3VyYXRpb25cblxuZXhwb3J0IGludGVyZmFjZSBEYXRhQXdzY2NXYWZ2MkxvZ2dpbmdDb25maWd1cmF0aW9uQ29uZmlnIGV4dGVuZHMgY2RrdGYuVGVycmFmb3JtTWV0YUFyZ3VtZW50cyB7XG4gIC8qKlxuICAqIFVuaXF1ZWx5IGlkZW50aWZpZXMgdGhlIHJlc291cmNlLlxuICAqIFxuICAqIERvY3MgYXQgVGVycmFmb3JtIFJlZ2lzdHJ5OiB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL2Qvd2FmdjJfbG9nZ2luZ19jb25maWd1cmF0aW9uLmh0bWwjaWQgRGF0YUF3c2NjV2FmdjJMb2dnaW5nQ29uZmlndXJhdGlvbiNpZH1cbiAgKi9cbiAgcmVhZG9ubHkgaWQ6IHN0cmluZztcbn1cbmV4cG9ydCBjbGFzcyBEYXRhQXdzY2NXYWZ2MkxvZ2dpbmdDb25maWd1cmF0aW9uTG9nZ2luZ0ZpbHRlckZpbHRlcnNDb25kaXRpb25zQWN0aW9uQ29uZGl0aW9uIGV4dGVuZHMgY2RrdGYuQ29tcGxleENvbXB1dGVkTGlzdCB7XG5cbiAgLy8gYWN0aW9uIC0gY29tcHV0ZWQ6IHRydWUsIG9wdGlvbmFsOiBmYWxzZSwgcmVxdWlyZWQ6IGZhbHNlXG4gIHB1YmxpYyBnZXQgYWN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmdldFN0cmluZ0F0dHJpYnV0ZSgnYWN0aW9uJyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRhdGFBd3NjY1dhZnYyTG9nZ2luZ0NvbmZpZ3VyYXRpb25Mb2dnaW5nRmlsdGVyRmlsdGVyc0NvbmRpdGlvbnNBY3Rpb25Db25kaXRpb25Ub1RlcnJhZm9ybShzdHJ1Y3Q/OiBEYXRhQXdzY2NXYWZ2MkxvZ2dpbmdDb25maWd1cmF0aW9uTG9nZ2luZ0ZpbHRlckZpbHRlcnNDb25kaXRpb25zQWN0aW9uQ29uZGl0aW9uKTogYW55IHtcbiAgaWYgKCFjZGt0Zi5jYW5JbnNwZWN0KHN0cnVjdCkpIHsgcmV0dXJuIHN0cnVjdDsgfVxuICByZXR1cm4ge1xuICAgIGFjdGlvbjogY2RrdGYuc3RyaW5nVG9UZXJyYWZvcm0oc3RydWN0IS5hY3Rpb24pLFxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEYXRhQXdzY2NXYWZ2MkxvZ2dpbmdDb25maWd1cmF0aW9uTG9nZ2luZ0ZpbHRlckZpbHRlcnNDb25kaXRpb25zTGFiZWxOYW1lQ29uZGl0aW9uIGV4dGVuZHMgY2RrdGYuQ29tcGxleENvbXB1dGVkTGlzdCB7XG5cbiAgLy8gbGFiZWxfbmFtZSAtIGNvbXB1dGVkOiB0cnVlLCBvcHRpb25hbDogZmFsc2UsIHJlcXVpcmVkOiBmYWxzZVxuICBwdWJsaWMgZ2V0IGxhYmVsTmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRTdHJpbmdBdHRyaWJ1dGUoJ2xhYmVsX25hbWUnKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGF0YUF3c2NjV2FmdjJMb2dnaW5nQ29uZmlndXJhdGlvbkxvZ2dpbmdGaWx0ZXJGaWx0ZXJzQ29uZGl0aW9uc0xhYmVsTmFtZUNvbmRpdGlvblRvVGVycmFmb3JtKHN0cnVjdD86IERhdGFBd3NjY1dhZnYyTG9nZ2luZ0NvbmZpZ3VyYXRpb25Mb2dnaW5nRmlsdGVyRmlsdGVyc0NvbmRpdGlvbnNMYWJlbE5hbWVDb25kaXRpb24pOiBhbnkge1xuICBpZiAoIWNka3RmLmNhbkluc3BlY3Qoc3RydWN0KSkgeyByZXR1cm4gc3RydWN0OyB9XG4gIHJldHVybiB7XG4gICAgbGFiZWxfbmFtZTogY2RrdGYuc3RyaW5nVG9UZXJyYWZvcm0oc3RydWN0IS5sYWJlbE5hbWUpLFxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEYXRhQXdzY2NXYWZ2MkxvZ2dpbmdDb25maWd1cmF0aW9uTG9nZ2luZ0ZpbHRlckZpbHRlcnNDb25kaXRpb25zIGV4dGVuZHMgY2RrdGYuQ29tcGxleENvbXB1dGVkTGlzdCB7XG5cbiAgLy8gYWN0aW9uX2NvbmRpdGlvbiAtIGNvbXB1dGVkOiB0cnVlLCBvcHRpb25hbDogZmFsc2UsIHJlcXVpcmVkOiBmYWxzZVxuICBwdWJsaWMgZ2V0IGFjdGlvbkNvbmRpdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5pbnRlcnBvbGF0aW9uRm9yQXR0cmlidXRlKCdhY3Rpb25fY29uZGl0aW9uJykgYXMgYW55O1xuICB9XG5cbiAgLy8gbGFiZWxfbmFtZV9jb25kaXRpb24gLSBjb21wdXRlZDogdHJ1ZSwgb3B0aW9uYWw6IGZhbHNlLCByZXF1aXJlZDogZmFsc2VcbiAgcHVibGljIGdldCBsYWJlbE5hbWVDb25kaXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuaW50ZXJwb2xhdGlvbkZvckF0dHJpYnV0ZSgnbGFiZWxfbmFtZV9jb25kaXRpb24nKSBhcyBhbnk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRhdGFBd3NjY1dhZnYyTG9nZ2luZ0NvbmZpZ3VyYXRpb25Mb2dnaW5nRmlsdGVyRmlsdGVyc0NvbmRpdGlvbnNUb1RlcnJhZm9ybShzdHJ1Y3Q/OiBEYXRhQXdzY2NXYWZ2MkxvZ2dpbmdDb25maWd1cmF0aW9uTG9nZ2luZ0ZpbHRlckZpbHRlcnNDb25kaXRpb25zKTogYW55IHtcbiAgaWYgKCFjZGt0Zi5jYW5JbnNwZWN0KHN0cnVjdCkpIHsgcmV0dXJuIHN0cnVjdDsgfVxuICByZXR1cm4ge1xuICAgIGFjdGlvbl9jb25kaXRpb246IGRhdGFBd3NjY1dhZnYyTG9nZ2luZ0NvbmZpZ3VyYXRpb25Mb2dnaW5nRmlsdGVyRmlsdGVyc0NvbmRpdGlvbnNBY3Rpb25Db25kaXRpb25Ub1RlcnJhZm9ybShzdHJ1Y3QhLmFjdGlvbkNvbmRpdGlvbiksXG4gICAgbGFiZWxfbmFtZV9jb25kaXRpb246IGRhdGFBd3NjY1dhZnYyTG9nZ2luZ0NvbmZpZ3VyYXRpb25Mb2dnaW5nRmlsdGVyRmlsdGVyc0NvbmRpdGlvbnNMYWJlbE5hbWVDb25kaXRpb25Ub1RlcnJhZm9ybShzdHJ1Y3QhLmxhYmVsTmFtZUNvbmRpdGlvbiksXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIERhdGFBd3NjY1dhZnYyTG9nZ2luZ0NvbmZpZ3VyYXRpb25Mb2dnaW5nRmlsdGVyRmlsdGVycyBleHRlbmRzIGNka3RmLkNvbXBsZXhDb21wdXRlZExpc3Qge1xuXG4gIC8vIGJlaGF2aW9yIC0gY29tcHV0ZWQ6IHRydWUsIG9wdGlvbmFsOiBmYWxzZSwgcmVxdWlyZWQ6IGZhbHNlXG4gIHB1YmxpYyBnZXQgYmVoYXZpb3IoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0U3RyaW5nQXR0cmlidXRlKCdiZWhhdmlvcicpO1xuICB9XG5cbiAgLy8gY29uZGl0aW9ucyAtIGNvbXB1dGVkOiB0cnVlLCBvcHRpb25hbDogZmFsc2UsIHJlcXVpcmVkOiBmYWxzZVxuICBwdWJsaWMgZ2V0IGNvbmRpdGlvbnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW50ZXJwb2xhdGlvbkZvckF0dHJpYnV0ZSgnY29uZGl0aW9ucycpIGFzIGFueTtcbiAgfVxuXG4gIC8vIHJlcXVpcmVtZW50IC0gY29tcHV0ZWQ6IHRydWUsIG9wdGlvbmFsOiBmYWxzZSwgcmVxdWlyZWQ6IGZhbHNlXG4gIHB1YmxpYyBnZXQgcmVxdWlyZW1lbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0U3RyaW5nQXR0cmlidXRlKCdyZXF1aXJlbWVudCcpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkYXRhQXdzY2NXYWZ2MkxvZ2dpbmdDb25maWd1cmF0aW9uTG9nZ2luZ0ZpbHRlckZpbHRlcnNUb1RlcnJhZm9ybShzdHJ1Y3Q/OiBEYXRhQXdzY2NXYWZ2MkxvZ2dpbmdDb25maWd1cmF0aW9uTG9nZ2luZ0ZpbHRlckZpbHRlcnMpOiBhbnkge1xuICBpZiAoIWNka3RmLmNhbkluc3BlY3Qoc3RydWN0KSkgeyByZXR1cm4gc3RydWN0OyB9XG4gIHJldHVybiB7XG4gICAgYmVoYXZpb3I6IGNka3RmLnN0cmluZ1RvVGVycmFmb3JtKHN0cnVjdCEuYmVoYXZpb3IpLFxuICAgIGNvbmRpdGlvbnM6IGNka3RmLmxpc3RNYXBwZXIoZGF0YUF3c2NjV2FmdjJMb2dnaW5nQ29uZmlndXJhdGlvbkxvZ2dpbmdGaWx0ZXJGaWx0ZXJzQ29uZGl0aW9uc1RvVGVycmFmb3JtKShzdHJ1Y3QhLmNvbmRpdGlvbnMpLFxuICAgIHJlcXVpcmVtZW50OiBjZGt0Zi5zdHJpbmdUb1RlcnJhZm9ybShzdHJ1Y3QhLnJlcXVpcmVtZW50KSxcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGF0YUF3c2NjV2FmdjJMb2dnaW5nQ29uZmlndXJhdGlvbkxvZ2dpbmdGaWx0ZXIgZXh0ZW5kcyBjZGt0Zi5Db21wbGV4Q29tcHV0ZWRMaXN0IHtcblxuICAvLyBkZWZhdWx0X2JlaGF2aW9yIC0gY29tcHV0ZWQ6IHRydWUsIG9wdGlvbmFsOiBmYWxzZSwgcmVxdWlyZWQ6IGZhbHNlXG4gIHB1YmxpYyBnZXQgZGVmYXVsdEJlaGF2aW9yKCkge1xuICAgIHJldHVybiB0aGlzLmdldFN0cmluZ0F0dHJpYnV0ZSgnZGVmYXVsdF9iZWhhdmlvcicpO1xuICB9XG5cbiAgLy8gZmlsdGVycyAtIGNvbXB1dGVkOiB0cnVlLCBvcHRpb25hbDogZmFsc2UsIHJlcXVpcmVkOiBmYWxzZVxuICBwdWJsaWMgZ2V0IGZpbHRlcnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW50ZXJwb2xhdGlvbkZvckF0dHJpYnV0ZSgnZmlsdGVycycpIGFzIGFueTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGF0YUF3c2NjV2FmdjJMb2dnaW5nQ29uZmlndXJhdGlvbkxvZ2dpbmdGaWx0ZXJUb1RlcnJhZm9ybShzdHJ1Y3Q/OiBEYXRhQXdzY2NXYWZ2MkxvZ2dpbmdDb25maWd1cmF0aW9uTG9nZ2luZ0ZpbHRlcik6IGFueSB7XG4gIGlmICghY2RrdGYuY2FuSW5zcGVjdChzdHJ1Y3QpKSB7IHJldHVybiBzdHJ1Y3Q7IH1cbiAgcmV0dXJuIHtcbiAgICBkZWZhdWx0X2JlaGF2aW9yOiBjZGt0Zi5zdHJpbmdUb1RlcnJhZm9ybShzdHJ1Y3QhLmRlZmF1bHRCZWhhdmlvciksXG4gICAgZmlsdGVyczogY2RrdGYubGlzdE1hcHBlcihkYXRhQXdzY2NXYWZ2MkxvZ2dpbmdDb25maWd1cmF0aW9uTG9nZ2luZ0ZpbHRlckZpbHRlcnNUb1RlcnJhZm9ybSkoc3RydWN0IS5maWx0ZXJzKSxcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGF0YUF3c2NjV2FmdjJMb2dnaW5nQ29uZmlndXJhdGlvblJlZGFjdGVkRmllbGRzSnNvbkJvZHlNYXRjaFBhdHRlcm4gZXh0ZW5kcyBjZGt0Zi5Db21wbGV4Q29tcHV0ZWRMaXN0IHtcblxuICAvLyBhbGwgLSBjb21wdXRlZDogdHJ1ZSwgb3B0aW9uYWw6IGZhbHNlLCByZXF1aXJlZDogZmFsc2VcbiAgcHVibGljIGdldCBhbGwoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW50ZXJwb2xhdGlvbkZvckF0dHJpYnV0ZSgnYWxsJykgYXMgYW55O1xuICB9XG5cbiAgLy8gaW5jbHVkZWRfcGF0aHMgLSBjb21wdXRlZDogdHJ1ZSwgb3B0aW9uYWw6IGZhbHNlLCByZXF1aXJlZDogZmFsc2VcbiAgcHVibGljIGdldCBpbmNsdWRlZFBhdGhzKCkge1xuICAgIHJldHVybiB0aGlzLmdldExpc3RBdHRyaWJ1dGUoJ2luY2x1ZGVkX3BhdGhzJyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRhdGFBd3NjY1dhZnYyTG9nZ2luZ0NvbmZpZ3VyYXRpb25SZWRhY3RlZEZpZWxkc0pzb25Cb2R5TWF0Y2hQYXR0ZXJuVG9UZXJyYWZvcm0oc3RydWN0PzogRGF0YUF3c2NjV2FmdjJMb2dnaW5nQ29uZmlndXJhdGlvblJlZGFjdGVkRmllbGRzSnNvbkJvZHlNYXRjaFBhdHRlcm4pOiBhbnkge1xuICBpZiAoIWNka3RmLmNhbkluc3BlY3Qoc3RydWN0KSkgeyByZXR1cm4gc3RydWN0OyB9XG4gIHJldHVybiB7XG4gICAgYWxsOiBjZGt0Zi5oYXNoTWFwcGVyKGNka3RmLnN0cmluZ1RvVGVycmFmb3JtKShzdHJ1Y3QhLmFsbCksXG4gICAgaW5jbHVkZWRfcGF0aHM6IGNka3RmLmxpc3RNYXBwZXIoY2RrdGYuc3RyaW5nVG9UZXJyYWZvcm0pKHN0cnVjdCEuaW5jbHVkZWRQYXRocyksXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIERhdGFBd3NjY1dhZnYyTG9nZ2luZ0NvbmZpZ3VyYXRpb25SZWRhY3RlZEZpZWxkc0pzb25Cb2R5IGV4dGVuZHMgY2RrdGYuQ29tcGxleENvbXB1dGVkTGlzdCB7XG5cbiAgLy8gaW52YWxpZF9mYWxsYmFja19iZWhhdmlvciAtIGNvbXB1dGVkOiB0cnVlLCBvcHRpb25hbDogZmFsc2UsIHJlcXVpcmVkOiBmYWxzZVxuICBwdWJsaWMgZ2V0IGludmFsaWRGYWxsYmFja0JlaGF2aW9yKCkge1xuICAgIHJldHVybiB0aGlzLmdldFN0cmluZ0F0dHJpYnV0ZSgnaW52YWxpZF9mYWxsYmFja19iZWhhdmlvcicpO1xuICB9XG5cbiAgLy8gbWF0Y2hfcGF0dGVybiAtIGNvbXB1dGVkOiB0cnVlLCBvcHRpb25hbDogZmFsc2UsIHJlcXVpcmVkOiBmYWxzZVxuICBwdWJsaWMgZ2V0IG1hdGNoUGF0dGVybigpIHtcbiAgICByZXR1cm4gdGhpcy5pbnRlcnBvbGF0aW9uRm9yQXR0cmlidXRlKCdtYXRjaF9wYXR0ZXJuJykgYXMgYW55O1xuICB9XG5cbiAgLy8gbWF0Y2hfc2NvcGUgLSBjb21wdXRlZDogdHJ1ZSwgb3B0aW9uYWw6IGZhbHNlLCByZXF1aXJlZDogZmFsc2VcbiAgcHVibGljIGdldCBtYXRjaFNjb3BlKCkge1xuICAgIHJldHVybiB0aGlzLmdldFN0cmluZ0F0dHJpYnV0ZSgnbWF0Y2hfc2NvcGUnKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGF0YUF3c2NjV2FmdjJMb2dnaW5nQ29uZmlndXJhdGlvblJlZGFjdGVkRmllbGRzSnNvbkJvZHlUb1RlcnJhZm9ybShzdHJ1Y3Q/OiBEYXRhQXdzY2NXYWZ2MkxvZ2dpbmdDb25maWd1cmF0aW9uUmVkYWN0ZWRGaWVsZHNKc29uQm9keSk6IGFueSB7XG4gIGlmICghY2RrdGYuY2FuSW5zcGVjdChzdHJ1Y3QpKSB7IHJldHVybiBzdHJ1Y3Q7IH1cbiAgcmV0dXJuIHtcbiAgICBpbnZhbGlkX2ZhbGxiYWNrX2JlaGF2aW9yOiBjZGt0Zi5zdHJpbmdUb1RlcnJhZm9ybShzdHJ1Y3QhLmludmFsaWRGYWxsYmFja0JlaGF2aW9yKSxcbiAgICBtYXRjaF9wYXR0ZXJuOiBkYXRhQXdzY2NXYWZ2MkxvZ2dpbmdDb25maWd1cmF0aW9uUmVkYWN0ZWRGaWVsZHNKc29uQm9keU1hdGNoUGF0dGVyblRvVGVycmFmb3JtKHN0cnVjdCEubWF0Y2hQYXR0ZXJuKSxcbiAgICBtYXRjaF9zY29wZTogY2RrdGYuc3RyaW5nVG9UZXJyYWZvcm0oc3RydWN0IS5tYXRjaFNjb3BlKSxcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGF0YUF3c2NjV2FmdjJMb2dnaW5nQ29uZmlndXJhdGlvblJlZGFjdGVkRmllbGRzU2luZ2xlSGVhZGVyIGV4dGVuZHMgY2RrdGYuQ29tcGxleENvbXB1dGVkTGlzdCB7XG5cbiAgLy8gbmFtZSAtIGNvbXB1dGVkOiB0cnVlLCBvcHRpb25hbDogZmFsc2UsIHJlcXVpcmVkOiBmYWxzZVxuICBwdWJsaWMgZ2V0IG5hbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0U3RyaW5nQXR0cmlidXRlKCduYW1lJyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRhdGFBd3NjY1dhZnYyTG9nZ2luZ0NvbmZpZ3VyYXRpb25SZWRhY3RlZEZpZWxkc1NpbmdsZUhlYWRlclRvVGVycmFmb3JtKHN0cnVjdD86IERhdGFBd3NjY1dhZnYyTG9nZ2luZ0NvbmZpZ3VyYXRpb25SZWRhY3RlZEZpZWxkc1NpbmdsZUhlYWRlcik6IGFueSB7XG4gIGlmICghY2RrdGYuY2FuSW5zcGVjdChzdHJ1Y3QpKSB7IHJldHVybiBzdHJ1Y3Q7IH1cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiBjZGt0Zi5zdHJpbmdUb1RlcnJhZm9ybShzdHJ1Y3QhLm5hbWUpLFxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEYXRhQXdzY2NXYWZ2MkxvZ2dpbmdDb25maWd1cmF0aW9uUmVkYWN0ZWRGaWVsZHMgZXh0ZW5kcyBjZGt0Zi5Db21wbGV4Q29tcHV0ZWRMaXN0IHtcblxuICAvLyBqc29uX2JvZHkgLSBjb21wdXRlZDogdHJ1ZSwgb3B0aW9uYWw6IGZhbHNlLCByZXF1aXJlZDogZmFsc2VcbiAgcHVibGljIGdldCBqc29uQm9keSgpIHtcbiAgICByZXR1cm4gdGhpcy5pbnRlcnBvbGF0aW9uRm9yQXR0cmlidXRlKCdqc29uX2JvZHknKSBhcyBhbnk7XG4gIH1cblxuICAvLyBtZXRob2QgLSBjb21wdXRlZDogdHJ1ZSwgb3B0aW9uYWw6IGZhbHNlLCByZXF1aXJlZDogZmFsc2VcbiAgcHVibGljIGdldCBtZXRob2QoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW50ZXJwb2xhdGlvbkZvckF0dHJpYnV0ZSgnbWV0aG9kJykgYXMgYW55O1xuICB9XG5cbiAgLy8gcXVlcnlfc3RyaW5nIC0gY29tcHV0ZWQ6IHRydWUsIG9wdGlvbmFsOiBmYWxzZSwgcmVxdWlyZWQ6IGZhbHNlXG4gIHB1YmxpYyBnZXQgcXVlcnlTdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW50ZXJwb2xhdGlvbkZvckF0dHJpYnV0ZSgncXVlcnlfc3RyaW5nJykgYXMgYW55O1xuICB9XG5cbiAgLy8gc2luZ2xlX2hlYWRlciAtIGNvbXB1dGVkOiB0cnVlLCBvcHRpb25hbDogZmFsc2UsIHJlcXVpcmVkOiBmYWxzZVxuICBwdWJsaWMgZ2V0IHNpbmdsZUhlYWRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5pbnRlcnBvbGF0aW9uRm9yQXR0cmlidXRlKCdzaW5nbGVfaGVhZGVyJykgYXMgYW55O1xuICB9XG5cbiAgLy8gdXJpX3BhdGggLSBjb21wdXRlZDogdHJ1ZSwgb3B0aW9uYWw6IGZhbHNlLCByZXF1aXJlZDogZmFsc2VcbiAgcHVibGljIGdldCB1cmlQYXRoKCkge1xuICAgIHJldHVybiB0aGlzLmludGVycG9sYXRpb25Gb3JBdHRyaWJ1dGUoJ3VyaV9wYXRoJykgYXMgYW55O1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkYXRhQXdzY2NXYWZ2MkxvZ2dpbmdDb25maWd1cmF0aW9uUmVkYWN0ZWRGaWVsZHNUb1RlcnJhZm9ybShzdHJ1Y3Q/OiBEYXRhQXdzY2NXYWZ2MkxvZ2dpbmdDb25maWd1cmF0aW9uUmVkYWN0ZWRGaWVsZHMpOiBhbnkge1xuICBpZiAoIWNka3RmLmNhbkluc3BlY3Qoc3RydWN0KSkgeyByZXR1cm4gc3RydWN0OyB9XG4gIHJldHVybiB7XG4gICAganNvbl9ib2R5OiBkYXRhQXdzY2NXYWZ2MkxvZ2dpbmdDb25maWd1cmF0aW9uUmVkYWN0ZWRGaWVsZHNKc29uQm9keVRvVGVycmFmb3JtKHN0cnVjdCEuanNvbkJvZHkpLFxuICAgIG1ldGhvZDogY2RrdGYuaGFzaE1hcHBlcihjZGt0Zi5zdHJpbmdUb1RlcnJhZm9ybSkoc3RydWN0IS5tZXRob2QpLFxuICAgIHF1ZXJ5X3N0cmluZzogY2RrdGYuaGFzaE1hcHBlcihjZGt0Zi5zdHJpbmdUb1RlcnJhZm9ybSkoc3RydWN0IS5xdWVyeVN0cmluZyksXG4gICAgc2luZ2xlX2hlYWRlcjogZGF0YUF3c2NjV2FmdjJMb2dnaW5nQ29uZmlndXJhdGlvblJlZGFjdGVkRmllbGRzU2luZ2xlSGVhZGVyVG9UZXJyYWZvcm0oc3RydWN0IS5zaW5nbGVIZWFkZXIpLFxuICAgIHVyaV9wYXRoOiBjZGt0Zi5oYXNoTWFwcGVyKGNka3RmLnN0cmluZ1RvVGVycmFmb3JtKShzdHJ1Y3QhLnVyaVBhdGgpLFxuICB9XG59XG5cblxuLyoqXG4qIFJlcHJlc2VudHMgYSB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL2Qvd2FmdjJfbG9nZ2luZ19jb25maWd1cmF0aW9uLmh0bWwgYXdzY2Nfd2FmdjJfbG9nZ2luZ19jb25maWd1cmF0aW9ufVxuKi9cbmV4cG9ydCBjbGFzcyBEYXRhQXdzY2NXYWZ2MkxvZ2dpbmdDb25maWd1cmF0aW9uIGV4dGVuZHMgY2RrdGYuVGVycmFmb3JtRGF0YVNvdXJjZSB7XG5cbiAgLy8gPT09PT09PT09PT09PT09PT1cbiAgLy8gU1RBVElDIFBST1BFUlRJRVNcbiAgLy8gPT09PT09PT09PT09PT09PT1cbiAgcHVibGljIHN0YXRpYyByZWFkb25seSB0ZlJlc291cmNlVHlwZTogc3RyaW5nID0gXCJhd3NjY193YWZ2Ml9sb2dnaW5nX2NvbmZpZ3VyYXRpb25cIjtcblxuICAvLyA9PT09PT09PT09PVxuICAvLyBJTklUSUFMSVpFUlxuICAvLyA9PT09PT09PT09PVxuXG4gIC8qKlxuICAqIENyZWF0ZSBhIG5ldyB7QGxpbmsgaHR0cHM6Ly93d3cudGVycmFmb3JtLmlvL2RvY3MvcHJvdmlkZXJzL2F3c2NjL2Qvd2FmdjJfbG9nZ2luZ19jb25maWd1cmF0aW9uLmh0bWwgYXdzY2Nfd2FmdjJfbG9nZ2luZ19jb25maWd1cmF0aW9ufSBEYXRhIFNvdXJjZVxuICAqXG4gICogQHBhcmFtIHNjb3BlIFRoZSBzY29wZSBpbiB3aGljaCB0byBkZWZpbmUgdGhpcyBjb25zdHJ1Y3RcbiAgKiBAcGFyYW0gaWQgVGhlIHNjb3BlZCBjb25zdHJ1Y3QgSUQuIE11c3QgYmUgdW5pcXVlIGFtb25nc3Qgc2libGluZ3MgaW4gdGhlIHNhbWUgc2NvcGVcbiAgKiBAcGFyYW0gb3B0aW9ucyBEYXRhQXdzY2NXYWZ2MkxvZ2dpbmdDb25maWd1cmF0aW9uQ29uZmlnXG4gICovXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihzY29wZTogQ29uc3RydWN0LCBpZDogc3RyaW5nLCBjb25maWc6IERhdGFBd3NjY1dhZnYyTG9nZ2luZ0NvbmZpZ3VyYXRpb25Db25maWcpIHtcbiAgICBzdXBlcihzY29wZSwgaWQsIHtcbiAgICAgIHRlcnJhZm9ybVJlc291cmNlVHlwZTogJ2F3c2NjX3dhZnYyX2xvZ2dpbmdfY29uZmlndXJhdGlvbicsXG4gICAgICB0ZXJyYWZvcm1HZW5lcmF0b3JNZXRhZGF0YToge1xuICAgICAgICBwcm92aWRlck5hbWU6ICdhd3NjYydcbiAgICAgIH0sXG4gICAgICBwcm92aWRlcjogY29uZmlnLnByb3ZpZGVyLFxuICAgICAgZGVwZW5kc09uOiBjb25maWcuZGVwZW5kc09uLFxuICAgICAgY291bnQ6IGNvbmZpZy5jb3VudCxcbiAgICAgIGxpZmVjeWNsZTogY29uZmlnLmxpZmVjeWNsZVxuICAgIH0pO1xuICAgIHRoaXMuX2lkID0gY29uZmlnLmlkO1xuICB9XG5cbiAgLy8gPT09PT09PT09PVxuICAvLyBBVFRSSUJVVEVTXG4gIC8vID09PT09PT09PT1cblxuICAvLyBpZCAtIGNvbXB1dGVkOiBmYWxzZSwgb3B0aW9uYWw6IGZhbHNlLCByZXF1aXJlZDogdHJ1ZVxuICBwcml2YXRlIF9pZDogc3RyaW5nO1xuICBwdWJsaWMgZ2V0IGlkKCkge1xuICAgIHJldHVybiB0aGlzLmdldFN0cmluZ0F0dHJpYnV0ZSgnaWQnKTtcbiAgfVxuICBwdWJsaWMgc2V0IGlkKHZhbHVlOiBzdHJpbmcpIHtcbiAgICB0aGlzLl9pZCA9IHZhbHVlO1xuICB9XG4gIC8vIFRlbXBvcmFyaWx5IGV4cG9zZSBpbnB1dCB2YWx1ZS4gVXNlIHdpdGggY2F1dGlvbi5cbiAgcHVibGljIGdldCBpZElucHV0KCkge1xuICAgIHJldHVybiB0aGlzLl9pZFxuICB9XG5cbiAgLy8gbG9nX2Rlc3RpbmF0aW9uX2NvbmZpZ3MgLSBjb21wdXRlZDogdHJ1ZSwgb3B0aW9uYWw6IGZhbHNlLCByZXF1aXJlZDogZmFsc2VcbiAgcHVibGljIGdldCBsb2dEZXN0aW5hdGlvbkNvbmZpZ3MoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0TGlzdEF0dHJpYnV0ZSgnbG9nX2Rlc3RpbmF0aW9uX2NvbmZpZ3MnKTtcbiAgfVxuXG4gIC8vIGxvZ2dpbmdfZmlsdGVyIC0gY29tcHV0ZWQ6IHRydWUsIG9wdGlvbmFsOiBmYWxzZSwgcmVxdWlyZWQ6IGZhbHNlXG4gIHB1YmxpYyBnZXQgbG9nZ2luZ0ZpbHRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5pbnRlcnBvbGF0aW9uRm9yQXR0cmlidXRlKCdsb2dnaW5nX2ZpbHRlcicpIGFzIGFueTtcbiAgfVxuXG4gIC8vIG1hbmFnZWRfYnlfZmlyZXdhbGxfbWFuYWdlciAtIGNvbXB1dGVkOiB0cnVlLCBvcHRpb25hbDogZmFsc2UsIHJlcXVpcmVkOiBmYWxzZVxuICBwdWJsaWMgZ2V0IG1hbmFnZWRCeUZpcmV3YWxsTWFuYWdlcigpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRCb29sZWFuQXR0cmlidXRlKCdtYW5hZ2VkX2J5X2ZpcmV3YWxsX21hbmFnZXInKTtcbiAgfVxuXG4gIC8vIHJlZGFjdGVkX2ZpZWxkcyAtIGNvbXB1dGVkOiB0cnVlLCBvcHRpb25hbDogZmFsc2UsIHJlcXVpcmVkOiBmYWxzZVxuICBwdWJsaWMgZ2V0IHJlZGFjdGVkRmllbGRzKCkge1xuICAgIHJldHVybiB0aGlzLmludGVycG9sYXRpb25Gb3JBdHRyaWJ1dGUoJ3JlZGFjdGVkX2ZpZWxkcycpIGFzIGFueTtcbiAgfVxuXG4gIC8vIHJlc291cmNlX2FybiAtIGNvbXB1dGVkOiB0cnVlLCBvcHRpb25hbDogZmFsc2UsIHJlcXVpcmVkOiBmYWxzZVxuICBwdWJsaWMgZ2V0IHJlc291cmNlQXJuKCkge1xuICAgIHJldHVybiB0aGlzLmdldFN0cmluZ0F0dHJpYnV0ZSgncmVzb3VyY2VfYXJuJyk7XG4gIH1cblxuICAvLyA9PT09PT09PT1cbiAgLy8gU1lOVEhFU0lTXG4gIC8vID09PT09PT09PVxuXG4gIHByb3RlY3RlZCBzeW50aGVzaXplQXR0cmlidXRlcygpOiB7IFtuYW1lOiBzdHJpbmddOiBhbnkgfSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBjZGt0Zi5zdHJpbmdUb1RlcnJhZm9ybSh0aGlzLl9pZCksXG4gICAgfTtcbiAgfVxufVxuIl19